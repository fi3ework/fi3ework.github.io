<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>firework&#39;s Studio</title>
  
  <subtitle>it&#39;s better to burn out than to fade away</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://fi3ework.github.io/"/>
  <updated>2017-12-05T15:58:31.378Z</updated>
  <id>https://fi3ework.github.io/</id>
  
  <author>
    <name>Wee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Reactä¸­çš„HTMLè½¬ä¹‰å†™æ³•</title>
    <link href="https://fi3ework.github.io/2017-12-05/React%E4%B8%AD%E7%9A%84%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6/"/>
    <id>https://fi3ework.github.io/2017-12-05/Reactä¸­çš„è½¬ä¹‰å­—ç¬¦/</id>
    <published>2017-12-05T14:03:32.000Z</published>
    <updated>2017-12-05T15:58:31.378Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹"><a href="#åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹" class="headerlink" title="åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹"></a>åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹</h2><ol><li><p>ç›´æ¥ä½¿ç”¨UTF-8å­—ç¬¦</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;ç‰ˆæƒ Â©&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨HTMLè½¬ä¹‰å­—ç¬¦</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;ç‰ˆæƒ &amp;copy;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div></pre></td></tr></table></figure><p>æˆ–è€…åè¿›åˆ¶çš„è½¬ä¹‰å­—ç¬¦</p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;ç‰ˆæƒ &amp;#169;&lt;/div&gt;</div></pre></td></tr></table></figure></li></ol><h2 id="åŠ¨æ€å†…å®¹çš„è½¬ä¹‰"><a href="#åŠ¨æ€å†…å®¹çš„è½¬ä¹‰" class="headerlink" title="åŠ¨æ€å†…å®¹çš„è½¬ä¹‰"></a>åŠ¨æ€å†…å®¹çš„è½¬ä¹‰</h2><p>ä½†æ˜¯å¦‚æœåœ¨å¤–é¢åŠ ä¸€å±‚å¤§æ‹¬å·çš„è¯ï¼Œreactä¸ºäº†é˜²æ­¢xssä¼šå°†è½¬ä¹‰åçš„å­—ç¬¦å®ä½“å†æ¬¡è½¬ä¹‰</p><blockquote><p>React ä¼šå°†æ‰€æœ‰è¦æ˜¾ç¤ºåˆ° DOM çš„å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œé˜²æ­¢ XSSã€‚æ‰€ä»¥ï¼Œå¦‚æœ JSX ä¸­å«æœ‰è½¬ä¹‰åçš„å®ä½“å­—ç¬¦ï¼Œæ¯”å¦‚ &copy;ï¼ˆÂ©ï¼‰ï¼Œåˆ™æœ€å DOM ä¸­ä¸ä¼šæ­£ç¡®æ˜¾ç¤ºï¼Œå› ä¸º React è‡ªåŠ¨æŠŠ &copy; ä¸­çš„ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰äº†ã€‚</p></blockquote><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;&#123;<span class="string">'ç‰ˆæƒ &amp;#169;'</span>&#125;&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure><p>é”™è¯¯è¾“å‡º</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ç‰ˆæƒ &amp;#169;</div></pre></td></tr></table></figure><p>æ­£ç¡®å†™æ³•ï¼š</p><ol><li><p>ç›´æ¥ä½¿ç”¨UTF-8å­—ç¬¦ä»ç„¶å¯ä»¥æ­£ç¡®è¾“å‡º</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;&#123;<span class="string">'ç‰ˆæƒ Â©'</span>&#125;&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure></li><li><p>å®‰å…¨çš„åšæ³•æ˜¯ä½¿ç”¨å¯¹åº”çš„Unicodeç </p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;&#123;<span class="string">'ç‰ˆæƒ \u00a9'</span>&#125;&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨<code>fromCharCode</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;&#123;<span class="string">'ç‰ˆæƒ '</span> + <span class="built_in">String</span>.fromCharCode(<span class="number">169</span>)&#125;&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨æ•°ç»„ç»„è£…</p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;&#123;['ç‰ˆæƒ ', &lt;span&gt;&amp;#169;&lt;/span&gt;]&#125;&lt;/div&gt;</div></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨<code>dangerouslySetInnerHTML</code>ï¼Œå¯ä»¥é¿å…Reactè½¬ä¹‰å­—ç¬¦</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div dangerouslySetInnerHTML=&#123;&#123; <span class="attr">__html</span>: <span class="string">'ç‰ˆæƒ &amp;#169;'</span> &#125;&#125; /&gt;</div></pre></td></tr></table></figure></li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://shripadk.github.io/react/docs/jsx-gotchas.html#html-entities" target="_blank" rel="external">JSX Gotchas</a></li><li><a href="https://book.douban.com/subject/26918038/" target="_blank" rel="external">æ·±å…¥reactæŠ€æœ¯æ ˆ</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹&quot;&gt;&lt;a href=&quot;#åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹&quot; class=&quot;headerlink&quot; title=&quot;åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹&quot;&gt;&lt;/a&gt;åœ¨JSXä¸­è¾“å‡ºå›ºå®šå†…å®¹&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç›´æ¥ä½¿ç”¨UTF-8å­—ç¬¦&lt;/p&gt;
&lt;figure c
      
    
    </summary>
    
    
      <category term="React" scheme="https://fi3ework.github.io/tags/React/"/>
    
      <category term="JavaScript" scheme="https://fi3ework.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºejectåçš„create-react-appé…ç½®ESLint</title>
    <link href="https://fi3ework.github.io/2017-12-03/create-react-app-react-eslint/"/>
    <id>https://fi3ework.github.io/2017-12-03/create-react-app-react-eslint/</id>
    <published>2017-12-03T14:27:28.000Z</published>
    <updated>2017-12-04T06:35:31.086Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>é¡¹ç›®ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯create-react-appåˆ›å»ºçš„ï¼Œé…ç½®çš„ESLintæ˜¯ç”¨çš„AlloyTeamçš„<a href="https://github.com/AlloyTeam/eslint-config-alloy#react" target="_blank" rel="external">eslint-config-alloy/react</a>ï¼Œ é»˜è®¤é…ç½®å·²ç»å¾ˆåˆç†äº†ï¼Œå¹¶ä¸”æ¯æ¡é…ç½®éƒ½æœ‰ç›¸åº”çš„è¯´æ˜ï¼Œåªéœ€è¦å†æ ¹æ®ä¸ªäººå–œå¥½ä¿®æ”¹ä¸€äº›ruleå³å¯ï¼Œæˆ‘ä¸ªäººä¿®æ”¹çš„.eslintrc.jsoné…ç½®å¦‚ä¸‹</p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"extends"</span>: [</div><div class="line">        <span class="string">"eslint-config-alloy/react"</span></div><div class="line">    ],</div><div class="line">    <span class="attr">"globals"</span>: &#123;</div><div class="line">        // è¿™é‡Œå¡«å…¥ä½ çš„é¡¹ç›®éœ€è¦çš„å…¨å±€å˜é‡</div><div class="line">        // è¿™é‡Œå€¼ä¸º false è¡¨ç¤ºè¿™ä¸ªå…¨å±€å˜é‡ä¸å…è®¸è¢«é‡æ–°èµ‹å€¼ï¼Œæ¯”å¦‚ï¼š</div><div class="line">        //</div><div class="line">        // jQuery: false,</div><div class="line">        // $: false</div><div class="line">    &#125;,</div><div class="line">    "rules": &#123;</div><div class="line">        "indent": [</div><div class="line">            "warn",</div><div class="line">            2,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"SwitchCase"</span>: <span class="number">1</span>,</div><div class="line">                <span class="attr">"flatTernaryExpressions"</span>: <span class="literal">true</span></div><div class="line">            &#125;</div><div class="line">        ],</div><div class="line">        "semi": [</div><div class="line">            "error",</div><div class="line">            <span class="string">"never"</span></div><div class="line">        ],</div><div class="line">        "react/jsx-indent": [</div><div class="line">            "warn",</div><div class="line">            <span class="number">2</span></div><div class="line">        ],</div><div class="line">        "react/jsx-indent-props": [</div><div class="line">            "warn",</div><div class="line">            <span class="number">2</span></div><div class="line">        ],</div><div class="line">        "no-unused-vars": [</div><div class="line">            "warn",</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"vars"</span>: <span class="string">"all"</span>,</div><div class="line">                <span class="attr">"args"</span>: <span class="string">"none"</span>,</div><div class="line">                <span class="attr">"caughtErrors"</span>: <span class="string">"none"</span></div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨ejectä¹‹åè¿è¡Œ<code>npm start</code>åä¼šç›´æ¥æŠ¥é”™</p><p><img src="/2017-12-03/create-react-app-react-eslint/./errorSnap.png" alt="errorImg"></p><h2 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h2><p>æŒ‰ç†è¯´ï¼Œejectå‰åé…ç½®ä¸å˜ï¼Œåªä¸è¿‡æ˜¯å°†é…ç½®å¼¹å‡ºï¼Œnpm start åº”è¯¥å¯ä»¥ç›´æ¥è¿è¡Œï¼Œä½†æ˜¯å´æŠ¥äº†ESLintçš„é”™è¯¯ã€‚</p><p>ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯<a href="https://github.com/AlloyTeam/eslint-config-alloy#react" target="_blank" rel="external">eslint-config-alloy/react</a>çš„é—®é¢˜ï¼Œç„¶åé‡æ–°æ‰‹å†™äº†ä¸€äº›é…ç½®ä¾ç„¶ä¼šæŠ¥é”™ï¼Œè¯æ˜ä¸æ˜¯eslint-config-alloy/reactçš„é—®é¢˜ã€‚googleä¹‹ååœ¨ä¸€ä¸ª<a href="https://github.com/MoOx/ESLint-loader/issues/168#issuecomment-340350264" target="_blank" rel="external">issue</a>å‘ç°ï¼š</p><blockquote><p>By default Eslint errors will raise webpack errors unless you change the config as shown above.</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒESLintçš„ä¼šåœ¨å‘ç°errorçº§åˆ«é”™è¯¯çš„æ—¶å€™è§¦å‘webpackæŠ¥é”™ï¼Œå¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚</p><p>ä½†æ˜¯ä¸ºä»€ä¹ˆåœ¨ejectä¹‹å‰èƒ½é€šè¿‡å®¡æŸ¥çš„ä»£ç åœ¨ejectåå°±é‡åˆ°erroræŠ¥é”™äº†å‘¢ï¼Ÿ</p><p>ç®€å•ç²—æš´æˆ‘ä»¬ç›´æ¥çœ‹create-react-app<a href="https://github.com/facebookincubator/create-react-app/tree/master/packages/eslint-config-react-app" target="_blank" rel="external">æ–‡æ¡£</a>ä¸­å…³äºESLintçš„éƒ¨åˆ†</p><blockquote><p>If you want to enable even more accessibility rules, you can create an <code>.eslintrc</code> file in the root of your project with this content:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; &#123;</div><div class="line">&gt;   &quot;extends&quot;: [&quot;react-app&quot;, &quot;plugin:jsx-a11y/recommended&quot;],</div><div class="line">&gt;   &quot;plugins&quot;: [&quot;jsx-a11y&quot;]</div><div class="line">&gt; &#125;</div><div class="line">&gt;</div></pre></td></tr></table></figure></blockquote><p>&gt;</p><blockquote><p>However, if you are using <a href="https://github.com/facebookincubator/create-react-app" target="_blank" rel="external">Create React App</a> and have not ejected, any additional rules will only be displayed in the <a href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#displaying-lint-output-in-the-editor" target="_blank" rel="external">IDE integrations</a>, but not in the browser or the terminal.</p></blockquote><p>ç°åœ¨å›æƒ³ä¸€ä¸‹create-react-appä¸­ESLintæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œç»ˆç«¯æœ‰warning/errorçš„ä¿¡æ¯ï¼Œä½†æ˜¯è¿™ä¸ªæ‰“å°å‡ºæ¥çš„ä¿¡æ¯çš„å…¶å®å¹¶ä¸æ˜¯ä¾ç…§eslint-config-alloy/reactè§„åˆ™ï¼Œè€Œæ˜¯create-react-appçš„é»˜è®¤è§„åˆ™ã€‚åœ¨é›†æˆåœ¨ç¼–è¾‘å™¨ï¼ˆæˆ‘ç”¨çš„VSCodeï¼‰ä¸­çš„çº¢è‰²æ³¢æµªçº¿åŠŸèƒ½åˆ™æ˜¯æ ¹æ®eslint-config-alloy/reactè§„åˆ™æ˜¾ç¤ºçš„ã€‚</p><p>ä½†æ˜¯åœ¨ejectåï¼Œç¼–è¯‘ä¸æ³¢æµªæç¤ºéƒ½æ ¹æ®eslint-config-alloy/reactè§„åˆ™è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œæ‰€ä»¥ejectå‰æ ¹æ®é»˜è®¤è§„åˆ™å®¡æŸ¥é€šè¿‡çš„ä»£ç åœ¨ejectåå¹¶ä¸èƒ½é€šè¿‡eslint-config-alloy/reactçš„å®¡æŸ¥æŠ¥äº†é”™ã€‚ï¼ˆeslint-config-alloy/reactè§„åˆ™çœŸçš„å¾ˆä¸¥æ ¼ï¼‰ã€‚</p><h3 id="ESLintçš„errorè¯¥ä¸è¯¥ç›´æ¥é€€å‡º"><a href="#ESLintçš„errorè¯¥ä¸è¯¥ç›´æ¥é€€å‡º" class="headerlink" title="ESLintçš„errorè¯¥ä¸è¯¥ç›´æ¥é€€å‡º"></a>ESLintçš„errorè¯¥ä¸è¯¥ç›´æ¥é€€å‡º</h3><p>åœ¨è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªè®¾è®¡æ€è·¯ä¸ä½¿ç”¨æ€è·¯ä¸Šçš„å†²çªï¼šESLinté»˜è®¤errorçº§åˆ«ç›´æ¥æŠ¥é”™é€€å‡ºï¼Œæ˜¯å› ä¸ºå°†æŸç§ruleçš„é”™è¯¯ç­‰çº§å®šä¸ºerroræ—¶ï¼Œå½“å‡ºé”™ä»£ç è§¦å‘äº†è¿™ä¸ªruleï¼Œå°±æ„å‘³ç€ç¨‹åºæ ¹æ®è§„åˆ™æ¥è¯´å·²ç»ä¸å¯¹äº†ï¼Œå°±ä¸éœ€è¦å†å¾€åè¿›è¡Œç¼–è¯‘ç­‰ç­‰äº†ã€‚æ‰€ä»¥ä»£ç å¿…é¡»å…ˆè¿‡äº†ESLintè¿™å…³ï¼ˆä¹Ÿå°±æ˜¯ç”¨æˆ·è‡ªå·±å¯¹ä»£ç å®šä¸‹çš„è§„åˆ™ï¼‰ï¼Œæ‰èƒ½æ”¾åˆ°babelé‡Œå»è¿›è¡Œç¼–è¯‘ã€‚ï¼ˆå…·ä½“çš„å¯ä»¥çœ‹zakaså¤§ç¥å…³äºè¿™ä¸ªé—®é¢˜çš„<a href="https://github.com/ESLint/ESLint/issues/2949" target="_blank" rel="external">è®¨è®º</a>ï¼‰</p><p>ï¼ˆæˆ‘ä¸ªäººä¹‹å‰æœ¬æ¥æ¯”è¾ƒå–œæ¬¢erroræ—¶ä¸é€€å‡ºï¼Œç„¶åé€‰æ‹©æ€§çš„å»ä¿®æ”¹éƒ¨åˆ†æœ‰é—®é¢˜çš„ä»£ç ï¼Œæœ‰äº›æŠ¥é”™çš„ä»£ç å°±ä¸ç†ä¼šç­‰é‡æ„çš„æ—¶å€™å†è¯´ã€‚ä½†æ˜¯ä»”ç»†ä¸€æƒ³å…¶å®è¿èƒŒäº†ESLintçš„æ€æƒ³ï¼Œæ—¢ç„¶æœ‰warningå’Œerrorçš„åŒºåˆ†ï¼Œé‚£äº›ä¸é‡è¦çš„errorå…¶å®å°±åº”è¯¥å®šä¹‰ä¸ºwarningã€‚ï¼‰</p><h3 id="eslint-loaderé…ç½®é—®é¢˜"><a href="#eslint-loaderé…ç½®é—®é¢˜" class="headerlink" title="eslint-loaderé…ç½®é—®é¢˜"></a>eslint-loaderé…ç½®é—®é¢˜</h3><p>æŒ‰ç…§ESLint-loaderçš„<a href="https://github.com/MoOx/ESLint-loader" target="_blank" rel="external">æ–‡æ¡£</a></p><blockquote><p><code>failOnError</code> (default: <code>false</code>)</p><p>Loader will cause the module build to fail if there are any ESLint errors.</p></blockquote><p><code>failOnError</code>é»˜è®¤æ˜¯<code>false</code>ï¼ŒæŒ‰ç…§è¯´æ˜åº”è¯¥æ˜¯ä¸ä¼šé˜»æ­¢buildã€‚</p><p>ESLint-loaderçš„ä½œè€…ä¹Ÿ<a href="https://github.com/MoOx/ESLint-loader/issues/23#issuecomment-86513306" target="_blank" rel="external">æåˆ°</a>ï¼ˆä¸è¿‡è¿œåœ¨2015å¹´3æœˆï¼‰</p><blockquote><p>failOn* are off by default to avoid webpack to break the build for â€œjust some linting issuesâ€. So you should not have any error/warning that break the build by default.</p></blockquote><p>ç„¶è€Œï¼Œå®é™…ä¸Šbuildä¾ç„¶å¤±è´¥ï¼Œå…·ä½“åŸå› æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œæœ‰å‡ ä¸ªissueä¹Ÿåœ¨ååº”<code>failOnError</code>ä¸èµ·ä½œç”¨ï¼Œæˆ‘çŒœå¯èƒ½æ˜¯<code>ESLint-loader</code>æ²¡èƒ½æˆåŠŸçš„é…ç½®<code>ESLint</code>ï¼Œè¿™ä¸ªå‘ä»¥åä»”ç»†ç ”ç©¶ä¸€ä¸‹å†æ¥å¡«ï¼ˆé€ƒã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="æ–¹æ¡ˆ1"><a href="#æ–¹æ¡ˆ1" class="headerlink" title="æ–¹æ¡ˆ1"></a>æ–¹æ¡ˆ1</h3><p>eslint-loaderçš„ä½œè€…ç»™å‡ºçš„<a href="https://github.com/MoOx/ESLint-loader/issues/23#issuecomment-229417176" target="_blank" rel="external">è§£å†³æ–¹æ¡ˆ</a></p><blockquote><p>Like I said, you can use <code>emitWarning: true</code> option to force all ESLint error/warning being reported as warnings</p></blockquote><p>å°†<code>emitWarning</code>è®¾ä¸º<code>true</code>å°±å¯ä»¥äº†ï¼Œæ‰€æœ‰çš„error/warningä¿¡æ¯éƒ½ä¼šæ‰“å°å‡ºæ¥ï¼Œerrorä¹Ÿä¸ä¼šé˜»æ­¢ç¼–è¯‘ï¼Œç®€å•ç²—æš´ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">rules: [&#123;</div><div class="line">  enforce: 'pre',</div><div class="line">  test: /\.jsx?$/,</div><div class="line">  loader: 'ESLint-loader',</div><div class="line">  options: &#123;</div><div class="line">    emitWarning: true</div><div class="line">  &#125;</div><div class="line">&#125;]</div></pre></td></tr></table></figure><h3 id="æ–¹æ¡ˆ2"><a href="#æ–¹æ¡ˆ2" class="headerlink" title="æ–¹æ¡ˆ2"></a>æ–¹æ¡ˆ2</h3><p>éµç…§zakaså¤§ç¥çš„è®¾è®¡æ€è·¯ï¼ŒæŠ¥errorçš„å°±é˜»æ­¢ç¼–è¯‘ï¼Œæ”¹åˆ°é€šè¿‡ä¸ºæ­¢ï¼ŒæŠ¥warningçš„å°±æ‰“å°å‡ºæ¥ï¼Œä¸ªäººè®¤ä¸ºè¿™æ‰æ˜¯æ­£ç¡®éµç…§ESLintçš„ä½¿ç”¨æ–¹æ³•ã€‚</p><h3 id="æ–¹æ¡ˆ3ï¼ˆç²—æš´ï¼‰"><a href="#æ–¹æ¡ˆ3ï¼ˆç²—æš´ï¼‰" class="headerlink" title="æ–¹æ¡ˆ3ï¼ˆç²—æš´ï¼‰"></a>æ–¹æ¡ˆ3ï¼ˆç²—æš´ï¼‰</h3><p>å°†<code>./node_modules/ESLint-loader/index.js</code>ä¸­çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">emitter(webpack.version === <span class="number">2</span> ? <span class="keyword">new</span> ESLintError(messages) : messages)</div></pre></td></tr></table></figure><p>ç›´æ¥æ³¨é‡Šæ‰ï¼ä¸ç»™ESLintä¼ é€’ä»»ä½•é”™è¯¯ä¿¡æ¯ï¼Œä¹Ÿä¸ä¼šè¿”å›é”™è¯¯ç äº†ï¼Œè¿™æ ·ç»ˆç«¯æ°¸è¿œéƒ½æ˜¯ 0 errors 0 warningsï¼ˆè¯¯ï¼‰ï¼Œé”™è¯¯å°±åªèƒ½é€šè¿‡ç¼–è¾‘å™¨çš„çº¢çº¿æç¤ºæ¥çœ‹äº†ã€‚</p><h2 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h2><blockquote><p>Also to note, the actual <em>build</em> still finishes and produces output. This only affects wrappers that would call webpack, such as <code>webpack-dev-server</code> (wonâ€™t automatically reload the browser if lint errors exist) or <code>frontend-maven-plugin</code> (will fail the maven build if lint errors exist).</p></blockquote><p>è¿™ä½ä»å…„<a href="https://github.com/MoOx/ESLint-loader/issues/148#issuecomment-280712104" target="_blank" rel="external">æåˆ°äº†</a>å…³äºESLintå…¶å®å¹¶ä¸ä¼šé˜»æ­¢buildï¼Œåªæ˜¯ä¼šåœ¨é‡åˆ°erroræ—¶é˜»æ­¢åƒwebpack-dev-serverè¿™ç§æœåŠ¡å™¨å¯¹æµè§ˆå™¨çš„è‡ªåŠ¨åˆ·æ–°ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://github.com/MoOx/ESLint-loader/issues/23#issuecomment-343122777" target="_blank" rel="external">errors cause webpack to not build #23</a></li><li><a href="https://github.com/MoOx/ESLint-loader" target="_blank" rel="external">MoOx/ESLint-loader</a></li><li><a href="https://github.com/MoOx/ESLint-loader/issues/168#issuecomment-340350264" target="_blank" rel="external">ESLint error causing Webpack to stop watching/building #168</a></li><li><a href="https://github.com/ESLint/ESLint/issues/2949" target="_blank" rel="external">Option to exit with success even if there are errors #2949</a></li><li><a href="https://github.com/MoOx/ESLint-loader/issues/148" target="_blank" rel="external">ESLint-loader with WebPack 2.2 #148</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;é¡¹ç›®ä¸€å¼€å§‹ä½¿ç”¨çš„æ˜¯create-react-appåˆ›å»ºçš„ï¼Œé…ç½®çš„ESLintæ˜¯ç”¨çš„AlloyTeamçš„&lt;a href=&quot;https://gi
      
    
    </summary>
    
    
      <category term="React" scheme="https://fi3ework.github.io/tags/React/"/>
    
      <category term="JavaScript" scheme="https://fi3ework.github.io/tags/JavaScript/"/>
    
      <category term="ESLint" scheme="https://fi3ework.github.io/tags/ESLint/"/>
    
  </entry>
  
  <entry>
    <title>é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼šDOMContentLoaded, load, beforeunload, unload</title>
    <link href="https://fi3ework.github.io/2017-10-08/%E9%A1%B5%E9%9D%A2%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9ADOMContentLoaded,%20load,%20beforeunload,%20unload/"/>
    <id>https://fi3ework.github.io/2017-10-08/é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼šDOMContentLoaded, load, beforeunload, unload/</id>
    <published>2017-10-08T07:21:31.000Z</published>
    <updated>2017-12-09T09:42:18.117Z</updated>
    
    <content type="html"><![CDATA[<p>åŸæ–‡åœ°å€ï¼š<a href="http://javascript.info/onload-ondomcontentloaded" target="_blank" rel="external">http://javascript.info/onload-ondomcontentloaded</a></p><p>HTMLé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸæœ‰ä»¥ä¸‹ä¸‰ä¸ªé‡è¦äº‹ä»¶ï¼š</p><ul><li><code>DOMContentLoaded</code> â€” æµè§ˆå™¨å·²ç»å®Œå…¨åŠ è½½äº†HTMLï¼ŒDOMæ ‘å·²ç»æ„å»ºå®Œæ¯•ï¼Œä½†æ˜¯åƒæ˜¯  <code>&lt;img&gt;</code> å’Œæ ·å¼è¡¨ç­‰å¤–éƒ¨èµ„æºå¯èƒ½å¹¶æ²¡æœ‰ä¸‹è½½å®Œæ¯•ã€‚  </li><li><code>load</code> â€” æµè§ˆå™¨å·²ç»åŠ è½½äº†æ‰€æœ‰çš„èµ„æºï¼ˆå›¾åƒï¼Œæ ·å¼è¡¨ç­‰ï¼‰ã€‚</li><li><code>beforeunload/unload</code> â€“ å½“ç”¨æˆ·ç¦»å¼€é¡µé¢çš„æ—¶å€™è§¦å‘ã€‚</li></ul><p>æ¯ä¸ªäº‹ä»¶éƒ½æœ‰ç‰¹å®šçš„ç”¨é€”</p><ul><li><code>DOMContentLoaded</code> â€“ DOMåŠ è½½å®Œæ¯•ï¼Œæ‰€ä»¥jså¯ä»¥è®¿é—®æ‰€æœ‰DOMèŠ‚ç‚¹ï¼Œåˆå§‹åŒ–ç•Œé¢ã€‚</li><li><code>load</code> â€“ é™„åŠ èµ„æºå·²ç»åŠ è½½å®Œæ¯•ï¼Œå¯ä»¥åœ¨æ­¤äº‹ä»¶è§¦å‘æ—¶è·å¾—å›¾åƒçš„å¤§å°ï¼ˆå¦‚æœæ²¡æœ‰è¢«åœ¨HTML/CSSä¸­æŒ‡å®šï¼‰</li><li><code>beforeunload/unload</code> â€“ ç”¨æˆ·æ­£åœ¨ç¦»å¼€é¡µé¢ï¼šå¯ä»¥è¯¢é—®ç”¨æˆ·æ˜¯å¦ä¿å­˜äº†æ›´æ”¹ä»¥åŠæ˜¯å¦ç¡®å®šè¦ç¦»å¼€é¡µé¢ã€‚</li></ul><p>æ¥çœ‹ä¸€ä¸‹æ¯ä¸ªäº‹ä»¶çš„ç»†èŠ‚ã€‚</p><h2 id="DOMContentLoaded"><a href="#DOMContentLoaded" class="headerlink" title="DOMContentLoaded"></a>DOMContentLoaded</h2><p> <code>DOMContentLoaded</code> ç”± <code>document</code> å¯¹è±¡è§¦å‘ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ <code>addEventListener</code> æ¥ç›‘å¬å®ƒï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, ready);</div></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">ready</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">    alert(<span class="string">'DOM is ready'</span>);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">    <span class="comment">// image is not yet loaded (unless was cached), so the size is 0x0</span></span></div><div class="line"><span class="javascript">    alert(<span class="string">`Image size: <span class="subst">$&#123;img.offsetWidth&#125;</span>x<span class="subst">$&#123;img.offsetHeight&#125;</span>`</span>);</span></div><div class="line"><span class="undefined">  &#125;</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, ready);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"https://en.js.cx/clipart/train.gif?speed=1&amp;cache=0"</span>&gt;</span></div></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ <code>DOMContentLoaded</code>åœ¨documentåŠ è½½å®Œæˆåå°±è¢«è§¦å‘ï¼Œæ— éœ€ç­‰å¾…å…¶ä»–èµ„æºçš„è½½å…¥ï¼Œæ‰€ä»¥<code>alert</code>è¾“å‡ºçš„å›¾åƒçš„å¤§å°ä¸º0ã€‚</p><p>è¿™ä¹ˆçœ‹æ¥<code>DOMContentLoaded</code> ä¼¼ä¹å¾ˆç®€å•ï¼ŒDOMæ ‘æ„å»ºå®Œæ¯•ä¹‹åå°±è¿è¡Œè¯¥äº‹ä»¶ï¼Œä¸è¿‡å…¶å®å­˜åœ¨ä¸€äº›é™·é˜±ã€‚</p><h3 id="DOMContentLoaded-å’Œè„šæœ¬"><a href="#DOMContentLoaded-å’Œè„šæœ¬" class="headerlink" title="DOMContentLoaded å’Œè„šæœ¬"></a>DOMContentLoaded å’Œè„šæœ¬</h3><p>å½“æµè§ˆå™¨åœ¨è§£æHTMLé¡µé¢æ—¶é‡åˆ°äº† <code>&lt;script&gt;...&lt;/script&gt;</code> æ ‡ç­¾ï¼Œå°†æ— æ³•ç»§ç»­æ„å»ºDOMæ ‘ï¼ˆè¯‘æ³¨ï¼šUIæ¸²æŸ“çº¿ç¨‹ä¸JSå¼•æ“æ˜¯äº’æ–¥çš„ï¼Œå½“JSå¼•æ“æ‰§è¡Œæ—¶UIçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼‰ï¼Œå¿…é¡»ç«‹å³æ‰§è¡Œè„šæœ¬ã€‚æ‰€ä»¥ <code>DOMContentLoaded</code> æœ‰å¯èƒ½åœ¨æ‰€æœ‰è„šæœ¬æ‰§è¡Œå®Œæ¯•åè§¦å‘ã€‚</p><p>å¤–éƒ¨è„šæœ¬ï¼ˆå¸¦<code>src</code>çš„ï¼‰çš„åŠ è½½å’Œè§£æä¹Ÿä¼šæš‚åœDOMæ ‘æ„å»ºï¼Œæ‰€ä»¥ <code>DOMContentLoaded</code> ä¹Ÿä¼šç­‰å¾…å¤–éƒ¨è„šæœ¬ã€‚</p><p>ä¸è¿‡æœ‰ä¸¤ä¸ªä¾‹å¤–æ˜¯å¸¦<code>async</code>å’Œ<code>defer</code>çš„å¤–éƒ¨è„šæœ¬ï¼Œä»–ä»¬å‘Šè¯‰æµè§ˆå™¨ç»§ç»­è§£æè€Œä¸éœ€è¦ç­‰å¾…è„šæœ¬çš„æ‰§è¡Œï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥åœ¨è„šæœ¬åŠ è½½å®Œæˆå‰å¯ä»¥çœ‹åˆ°é¡µé¢ï¼Œæœ‰è¾ƒå¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p><p><code>async</code>å’Œ<code>defer</code>å±æ€§ä»…ä»…å¯¹å¤–éƒ¨è„šæœ¬èµ·ä½œç”¨ï¼Œå¹¶ä¸”ä»–ä»¬åœ¨<code>src</code>ä¸å­˜åœ¨æ—¶ä¼šè¢«è‡ªåŠ¨å¿½ç•¥ã€‚</p><p>å®ƒä»¬éƒ½å‘Šè¯‰æµè§ˆå™¨ç»§ç»­å¤„ç†é¡µé¢ä¸Šçš„å†…å®¹ï¼Œè€Œåœ¨åå°åŠ è½½è„šæœ¬ï¼Œç„¶ååœ¨è„šæœ¬åŠ è½½å®Œæ¯•åå†æ‰§è¡Œã€‚æ‰€ä»¥è„šæœ¬ä¸ä¼šé˜»å¡DOMæ ‘çš„æ„å»ºå’Œé¡µé¢çš„æ¸²æŸ“ã€‚</p><p><strong>ï¼ˆè¯‘æ³¨ï¼šå…¶å®è¿™é‡Œæ˜¯ä¸å¯¹çš„ï¼Œå¸¦æœ‰<code>async</code>å’Œ<code>defer</code>çš„è„šæœ¬çš„ä¸‹è½½æ˜¯å’ŒHTMLçš„ä¸‹è½½ä¸è§£ææ˜¯å¼‚æ­¥çš„ï¼Œä½†æ˜¯jsçš„æ‰§è¡Œä¸€å®šæ˜¯å’ŒUIçº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼Œåƒä¸‹é¢è¿™å¼ å›¾æ‰€ç¤ºï¼Œ<code>async</code>åœ¨ä¸‹è½½å®Œæ¯•åçš„æ‰§è¡Œä¼šé˜»å¡HTMLçš„è§£æï¼‰</strong></p><p><img src="https://i.stack.imgur.com/wfL82.png" alt=""></p><p>ä»–ä»¬æœ‰ä¸¤å¤„ä¸åŒï¼š</p><table><thead><tr><th style="text-align:left"></th><th style="text-align:left"><code>async</code></th><th style="text-align:left"><code>defer</code></th></tr></thead><tbody><tr><td style="text-align:left">é¡ºåº</td><td style="text-align:left">å¸¦æœ‰<code>async</code>çš„è„šæœ¬æ˜¯ä¼˜å…ˆæ‰§è¡Œå…ˆåŠ è½½å®Œçš„è„šæœ¬ï¼Œä»–ä»¬åœ¨é¡µé¢ä¸­çš„é¡ºåºå¹¶ä¸å½±å“ä»–ä»¬æ‰§è¡Œçš„é¡ºåºã€‚</td><td style="text-align:left">å¸¦æœ‰<code>defer</code>çš„è„šæœ¬æŒ‰ç…§ä»–ä»¬åœ¨é¡µé¢ä¸­å‡ºç°çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</td></tr><tr><td style="text-align:left"><code>DOMContentLoaded</code></td><td style="text-align:left">å¸¦æœ‰<code>async</code>çš„è„šæœ¬ä¹Ÿè®¸ä¼šåœ¨é¡µé¢æ²¡æœ‰å®Œå…¨ä¸‹è½½å®Œä¹‹å‰å°±åŠ è½½ï¼Œè¿™ç§æƒ…å†µä¼šåœ¨è„šæœ¬å¾ˆå°æˆ–æœ¬ç¼“å­˜ï¼Œå¹¶ä¸”é¡µé¢å¾ˆå¤§çš„æƒ…å†µä¸‹å‘ç”Ÿã€‚</td><td style="text-align:left">å¸¦æœ‰<code>defer</code>çš„è„šæœ¬ä¼šåœ¨é¡µé¢åŠ è½½å’Œè§£æå®Œæ¯•åæ‰§è¡Œï¼Œåˆšå¥½åœ¨  <code>DOMContentLoaded</code><strong>ä¹‹å‰</strong>æ‰§è¡Œã€‚</td></tr></tbody></table><p>æ‰€ä»¥<code>async</code>ç”¨åœ¨é‚£äº›å®Œå…¨ä¸ä¾èµ–å…¶ä»–è„šæœ¬çš„è„šæœ¬ä¸Šã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">### DOMContentLoaded and styles</div><div class="line"></div><div class="line">External style sheets don't affect DOM, and so `DOMContentLoaded` does not wait for them.</div><div class="line">å¤–éƒ¨æ ·å¼è¡¨å¹¶ä¸ä¼šå½±å“DOMï¼Œæ‰€ä»¥`DOMContentLoaded`å¹¶ä¸ä¼šè¢«ä»–ä»¬é˜»å¡ã€‚</div><div class="line">But there's a pitfall: if we have a script after the style, then that script must wait for the stylesheet to execute:</div><div class="line">ä¸è¿‡ä»ç„¶æœ‰ä¸€ä¸ªé™·é˜±ï¼šå¦‚æœåœ¨æ ·å¼åé¢æœ‰ä¸€ä¸ªå†…è”è„šæœ¬ï¼Œé‚£ä¹ˆè„šæœ¬å¿…é¡»ç­‰å¾…æ ·å¼å…ˆåŠ è½½å®Œã€‚</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="comment">// the script doesn't not execute until the stylesheet is loaded</span></span></div><div class="line"><span class="javascript">  <span class="comment">// è„šæœ¬ç›´åˆ°æ ·å¼è¡¨åŠ è½½å®Œæ¯•åæ‰ä¼šæ‰§è¡Œã€‚</span></span></div><div class="line"><span class="javascript">  alert(getComputedStyle(<span class="built_in">document</span>.body).marginTop);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>å‘ç”Ÿè¿™ç§äº‹çš„åŸå› æ˜¯è„šæœ¬ä¹Ÿè®¸ä¼šåƒä¸Šé¢çš„ä¾‹å­ä¸­æ‰€ç¤ºï¼Œå»å¾—åˆ°ä¸€äº›å…ƒç´ çš„åæ ‡æˆ–è€…åŸºäºæ ·å¼çš„å±æ€§ã€‚æ‰€ä»¥ä»–ä»¬è‡ªç„¶è¦ç­‰åˆ°æ ·å¼åŠ è½½å®Œæ¯•æ‰å¯ä»¥æ‰§è¡Œã€‚</p><p><code>DOMContentLoaded</code>éœ€è¦ç­‰å¾…è„šæœ¬çš„æ‰§è¡Œï¼Œè„šæœ¬åˆéœ€è¦ç­‰å¾…æ ·å¼çš„åŠ è½½ã€‚</p><h3 id="æµè§ˆå™¨çš„è‡ªåŠ¨è¡¥å…¨"><a href="#æµè§ˆå™¨çš„è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="æµè§ˆå™¨çš„è‡ªåŠ¨è¡¥å…¨"></a>æµè§ˆå™¨çš„è‡ªåŠ¨è¡¥å…¨</h3><p>Firefox, Chromeå’ŒOperaä¼šåœ¨<code>DOMContentLoaded</code>æ‰§è¡Œæ—¶è‡ªåŠ¨è¡¥å…¨è¡¨å•ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœé¡µé¢æœ‰ç™»å½•çš„ç•Œé¢ï¼Œæµè§ˆå™¨è®°ä½äº†è¯¥é¡µé¢çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œé‚£ä¹ˆåœ¨ <code>DOMContentLoaded</code>è¿è¡Œçš„æ—¶å€™æµè§ˆå™¨ä¼šè¯•å›¾è‡ªåŠ¨è¡¥å…¨è¡¨å•ï¼ˆå¦‚æœç”¨æˆ·è®¾ç½®å…è®¸ï¼‰ã€‚</p><p>æ‰€ä»¥å¦‚æœ<code>DOMContentLoaded</code>è¢«ä¸€ä¸ªéœ€è¦é•¿æ—¶é—´æ‰§è¡Œçš„è„šæœ¬é˜»å¡ï¼Œé‚£ä¹ˆè‡ªåŠ¨è¡¥å…¨ä¹Ÿä¼šç­‰å¾…ã€‚ä½ ä¹Ÿè®¸è§è¿‡æŸäº›ç½‘ç«™ï¼ˆå¦‚æœä½ çš„æµè§ˆå™¨å¼€å¯äº†è‡ªåŠ¨è¡¥å…¨ï¼‰â€”â€” æµè§ˆå™¨å¹¶ä¸ä¼šç«‹åˆ»è¡¥å…¨ç™»å½•é¡¹ï¼Œè€Œæ˜¯ç­‰åˆ°æ•´ä¸ªé¡µé¢åŠ è½½å®Œæ¯•åæ‰å¡«å……ã€‚è¿™å°±æ˜¯å› ä¸ºåœ¨ç­‰å¾…<code>DOMContentLoaded</code>äº‹ä»¶ã€‚</p><p>ä½¿ç”¨å¸¦<code>async</code>å’Œ<code>defer</code>çš„è„šæœ¬çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼Œä»–ä»¬ä¸ä¼šé˜»å¡<code>DOMContentLoaded</code>å’Œæµè§ˆå™¨è‡ªåŠ¨è¡¥å…¨ã€‚ï¼ˆè¯‘æ³¨ï¼šå…¶å®æ‰§è¡Œè¿˜æ˜¯ä¼šé˜»å¡çš„ï¼‰</p><h2 id="window-onload"><a href="#window-onload" class="headerlink" title="window.onload"></a>window.onload</h2><p><code>window</code>å¯¹è±¡ä¸Šçš„<code>onload</code>äº‹ä»¶åœ¨æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬æ ·å¼è¡¨ï¼Œå›¾ç‰‡å’Œå…¶ä»–èµ„æºä¸‹è½½å®Œæ¯•åè§¦å‘ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ­£ç¡®æ£€æµ‹äº†å›¾ç‰‡çš„å¤§å°ï¼Œå› ä¸º<code>window.onload</code>ä¼šç­‰å¾…æ‰€æœ‰å›¾ç‰‡çš„åŠ è½½ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">    alert(<span class="string">'Page loaded'</span>);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">    <span class="comment">// image is loaded at this time</span></span></div><div class="line"><span class="javascript">    alert(<span class="string">`Image size: <span class="subst">$&#123;img.offsetWidth&#125;</span>x<span class="subst">$&#123;img.offsetHeight&#125;</span>`</span>);</span></div><div class="line"><span class="undefined">  &#125;;</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"https://en.js.cx/clipart/train.gif?speed=1&amp;cache=0"</span>&gt;</span></div></pre></td></tr></table></figure><h2 id="window-onunload"><a href="#window-onunload" class="headerlink" title="window.onunload"></a>window.onunload</h2><p>ç”¨æˆ·ç¦»å¼€é¡µé¢çš„æ—¶å€™ï¼Œ<code>window</code>å¯¹è±¡ä¸Šçš„<code>unload</code>äº‹ä»¶ä¼šè¢«è§¦å‘ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€äº›ä¸å­˜åœ¨å»¶è¿Ÿçš„äº‹æƒ…ï¼Œæ¯”å¦‚å…³é—­å¼¹å‡ºçš„çª—å£ï¼Œå¯æ˜¯æˆ‘ä»¬æ— æ³•é˜»æ­¢ç”¨æˆ·è½¬ç§»åˆ°å¦ä¸€ä¸ªé¡µé¢ä¸Šã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¦ä¸€ä¸ªäº‹ä»¶ â€”  <code>onbeforeunload</code>ã€‚</p><h2 id="window-onbeforeunload"><a href="#window-onbeforeunload" class="headerlink" title="window.onbeforeunload"></a>window.onbeforeunload</h2><p>å¦‚æœç”¨æˆ·å³å°†ç¦»å¼€é¡µé¢æˆ–è€…å…³é—­çª—å£æ—¶ï¼Œ<code>beforeunload</code>äº‹ä»¶å°†ä¼šè¢«è§¦å‘ä»¥è¿›è¡Œé¢å¤–çš„ç¡®è®¤ã€‚</p><p>æµè§ˆå™¨å°†æ˜¾ç¤ºè¿”å›çš„å­—ç¬¦ä¸²ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.onbeforeunload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"There are unsaved changes. Leave now?"</span>;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><p>æœ‰äº›æµè§ˆå™¨åƒChromeå’Œç«ç‹ä¼šå¿½ç•¥è¿”å›çš„å­—ç¬¦ä¸²å–è€Œä»£ä¹‹æ˜¾ç¤ºæµè§ˆå™¨è‡ªèº«çš„æ–‡æœ¬ï¼Œè¿™æ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œæ¥ä¿è¯ç”¨æˆ·ä¸å—åˆ°é”™è¯¯ä¿¡æ¯çš„è¯¯å¯¼ã€‚</p><h2 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h2><p>å¦‚æœæˆ‘ä»¬åœ¨æ•´ä¸ªé¡µé¢åŠ è½½å®Œæ¯•åè®¾ç½®<code>DOMContentLoaded</code>ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å•¥ä¹Ÿæ²¡æœ‰ï¼Œ<code>DOMContentLoaded</code>ä¸ä¼šè¢«è§¦å‘ã€‚</p><p>æœ‰ä¸€äº›æƒ…å†µæˆ‘ä»¬æ— æ³•ç¡®å®šé¡µé¢ä¸Šæ˜¯å¦å·²ç»åŠ è½½å®Œæ¯•ï¼Œæ¯”å¦‚ä¸€ä¸ªå¸¦æœ‰<code>async</code>çš„å¤–éƒ¨è„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œæ˜¯å¼‚æ­¥çš„ï¼ˆæ³¨ï¼šæ‰§è¡Œå¹¶ä¸æ˜¯å¼‚æ­¥çš„-_-ï¼‰ã€‚åœ¨ä¸åŒçš„ç½‘ç»œçŠ¶å†µä¸‹ï¼Œè„šæœ¬æœ‰å¯èƒ½æ˜¯åœ¨é¡µé¢åŠ è½½å®Œæ¯•åæ‰§è¡Œä¹Ÿæœ‰å¯èƒ½æ˜¯åœ¨é¡µé¢åŠ è½½å®Œæ¯•å‰æ‰§è¡Œï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®šã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦çŸ¥é“é¡µé¢åŠ è½½çš„çŠ¶å†µã€‚</p><p><code>document.readyState</code>å±æ€§ç»™äº†æˆ‘ä»¬åŠ è½½çš„ä¿¡æ¯ï¼Œæœ‰ä¸‰ä¸ªå¯èƒ½çš„å€¼ï¼š</p><ul><li><code>loading</code> åŠ è½½ - documentä»åœ¨åŠ è½½ã€‚</li><li><code>interactive</code> äº’åŠ¨ - æ–‡æ¡£å·²ç»å®ŒæˆåŠ è½½ï¼Œæ–‡æ¡£å·²è¢«è§£æï¼Œä½†æ˜¯è¯¸å¦‚å›¾åƒï¼Œæ ·å¼è¡¨å’Œæ¡†æ¶ä¹‹ç±»çš„å­èµ„æºä»åœ¨åŠ è½½ã€‚</li><li><code>complete</code> - æ–‡æ¡£å’Œæ‰€æœ‰å­èµ„æºå·²å®ŒæˆåŠ è½½ã€‚çŠ¶æ€è¡¨ç¤º <code>load</code> äº‹ä»¶å³å°†è¢«è§¦å‘ã€‚</li></ul><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ£€æŸ¥ <code>document.readyState</code> çš„çŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰å°±ç»ªå¯ä»¥é€‰æ‹©æŒ‚è½½äº‹ä»¶ï¼Œå¦‚æœå·²ç»å°±ç»ªäº†å°±å¯ä»¥ç›´æ¥ç«‹å³æ‰§è¡Œã€‚</p><p>åƒè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">work</span>(<span class="params"></span>) </span>&#123; <span class="comment">/*...*/</span> &#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.readyState == <span class="string">'loading'</span>) &#123;</div><div class="line">  <span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, work);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  work();</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ¯å½“æ–‡æ¡£çš„åŠ è½½çŠ¶æ€æ”¹å˜çš„æ—¶å€™å°±æœ‰ä¸€ä¸ª<code>readystatechange</code>äº‹ä»¶è¢«è§¦å‘ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ‰“å°æ‰€æœ‰çš„çŠ¶æ€ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// current state</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState);</div><div class="line"></div><div class="line"><span class="comment">// print state changes</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'readystatechange'</span>, () =&gt; <span class="built_in">console</span>.log(<span class="built_in">document</span>.readyState));</div></pre></td></tr></table></figure><p><code>readystatechange</code> æ˜¯è¿½è¸ªé¡µé¢åŠ è½½çš„ä¸€ä¸ªå¯é€‰çš„æ–¹æ³•ï¼Œå¾ˆæ—©ä¹‹å‰å°±å·²ç»å‡ºç°äº†ã€‚ä¸è¿‡ç°åœ¨å¾ˆå°‘è¢«ä½¿ç”¨äº†ï¼Œä¸ºäº†ä¿æŒå®Œæ•´æ€§è¿˜æ˜¯ä»‹ç»ä¸€ä¸‹å®ƒã€‚</p><p><code>readystatechange</code>çš„åœ¨å„ä¸ªäº‹ä»¶ä¸­çš„æ‰§è¡Œé¡ºåºåˆæ˜¯å¦‚ä½•å‘¢ï¼Ÿ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">text</span>) </span>&#123; <span class="comment">/* output the time and message */</span> &#125;</span></div><div class="line"><span class="javascript">  log(<span class="string">'initial readyState:'</span> + <span class="built_in">document</span>.readyState);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">'readystatechange'</span>, () =&gt; log(<span class="string">'readyState:'</span> + <span class="built_in">document</span>.readyState));</span></div><div class="line"><span class="javascript">  <span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, () =&gt; log(<span class="string">'DOMContentLoaded'</span>));</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">  <span class="built_in">window</span>.onload = <span class="function"><span class="params">()</span> =&gt;</span> log(<span class="string">'window onload'</span>);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"iframe.html"</span> <span class="attr">onload</span>=<span class="string">"log('iframe onload')"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://en.js.cx/clipart/train.gif"</span> <span class="attr">id</span>=<span class="string">"img"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">  img.onload = <span class="function"><span class="params">()</span> =&gt;</span> log(<span class="string">'img onload'</span>);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸‹:</p><ol><li>[1] initial readyState:loading</li><li>[2] readyState:interactive</li><li>[2] DOMContentLoaded</li><li>[3] iframe onload</li><li>[4] readyState:complete</li><li>[4] img onload</li><li>[4] window onload</li></ol><p>æ–¹æ‹¬å·ä¸­çš„æ•°å­—è¡¨ç¤ºä»–ä»¬å‘ç”Ÿçš„æ—¶é—´ï¼ŒçœŸå®çš„å‘ç”Ÿæ—¶é—´ä¼šæ›´æ™šä¸€ç‚¹ï¼Œä¸è¿‡ç›¸åŒæ•°å­—çš„æ—¶é—´å¯ä»¥è®¤ä¸ºæ˜¯åœ¨åŒä¸€æ—¶åˆ»è¢«æŒ‰é¡ºåºè§¦å‘ï¼ˆè¯¯å·®åœ¨å‡ æ¯«ç§’ä¹‹å†…ï¼‰</p><ul><li><code>document.readyState</code> åœ¨ <code>DOMContentLoaded</code>å‰ä¸€åˆ»å˜ä¸º<code>interactive</code>ï¼Œè¿™ä¸¤ä¸ªäº‹ä»¶å¯ä»¥è®¤ä¸ºæ˜¯åŒæ—¶å‘ç”Ÿã€‚</li><li><code>document.readyState</code> åœ¨æ‰€æœ‰èµ„æºåŠ è½½å®Œæ¯•åï¼ˆåŒ…æ‹¬<code>iframe</code>å’Œ<code>img</code>ï¼‰å˜æˆ<code>complete</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>complete</code>ã€ <code>img.onload</code>å’Œ<code>window.onload</code>å‡ ä¹åŒæ—¶å‘ç”Ÿï¼ŒåŒºåˆ«å°±æ˜¯<code>window.onload</code>åœ¨æ‰€æœ‰å…¶ä»–çš„<code>load</code>äº‹ä»¶ä¹‹åæ‰§è¡Œã€‚</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é¡µé¢äº‹ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼š</p><ul><li><code>DOMContentLoaded</code>äº‹ä»¶åœ¨DOMæ ‘æ„å»ºå®Œæ¯•åè¢«è§¦å‘ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªé˜¶æ®µä½¿ç”¨jså»è®¿é—®å…ƒç´ ã€‚<ul><li><code>async</code>å’Œ<code>defer</code>çš„è„šæœ¬å¯èƒ½è¿˜æ²¡æœ‰æ‰§è¡Œã€‚</li><li>å›¾ç‰‡åŠå…¶ä»–èµ„æºæ–‡ä»¶å¯èƒ½è¿˜åœ¨ä¸‹è½½ä¸­ã€‚</li></ul></li><li><code>load</code>äº‹ä»¶åœ¨é¡µé¢æ‰€æœ‰èµ„æºè¢«åŠ è½½å®Œæ¯•åè§¦å‘ï¼Œé€šå¸¸æˆ‘ä»¬ä¸ä¼šç”¨åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦ç­‰é‚£ä¹ˆä¹…ã€‚</li><li><code>beforeunload</code>åœ¨ç”¨æˆ·å³å°†ç¦»å¼€é¡µé¢æ—¶è§¦å‘ï¼Œå®ƒè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæµè§ˆå™¨ä¼šå‘ç”¨æˆ·å±•ç¤ºå¹¶è¯¢é—®è¿™ä¸ªå­—ç¬¦ä¸²ä»¥ç¡®å®šæ˜¯å¦ç¦»å¼€ã€‚</li><li><code>unload</code>åœ¨ç”¨æˆ·å·²ç»ç¦»å¼€æ—¶è§¦å‘ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªé˜¶æ®µä»…å¯ä»¥åšä¸€äº›æ²¡æœ‰å»¶è¿Ÿçš„æ“ä½œï¼Œç”±äºç§ç§é™åˆ¶ï¼Œå¾ˆå°‘è¢«ä½¿ç”¨ã€‚</li><li><code>document.readyState</code>è¡¨å¾é¡µé¢çš„åŠ è½½çŠ¶æ€ï¼Œå¯ä»¥åœ¨<code>readystatechange</code>ä¸­è¿½è¸ªé¡µé¢çš„å˜åŒ–çŠ¶æ€ï¼š<ul><li><code>loading</code> â€” é¡µé¢æ­£åœ¨åŠ è½½ä¸­ã€‚</li><li><code>interactive</code> â€“ é¡µé¢è§£æå®Œæ¯•ï¼Œæ—¶é—´ä¸Šå’Œ <code>DOMContentLoaded</code>åŒæ—¶å‘ç”Ÿï¼Œä¸è¿‡é¡ºåºåœ¨å®ƒä¹‹å‰ã€‚</li><li><code>complete</code> â€“ é¡µé¢ä¸Šçš„èµ„æºéƒ½å·²åŠ è½½å®Œæ¯•ï¼Œæ—¶é—´ä¸Šå’Œ<code>window.onload</code>åŒæ—¶å‘ç”Ÿï¼Œä¸è¿‡é¡ºåºåœ¨ä»–ä¹‹å‰ã€‚</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;a href=&quot;http://javascript.info/onload-ondomcontentloaded&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://javascript.info/onload-ondomcontent
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://fi3ework.github.io/tags/JavaScript/"/>
    
      <category term="æµè§ˆå™¨" scheme="https://fi3ework.github.io/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>hexo-theme-archer</title>
    <link href="https://fi3ework.github.io/2017-08-14/hexo-theme-archer/"/>
    <id>https://fi3ework.github.io/2017-08-14/hexo-theme-archer/</id>
    <published>2017-08-13T16:02:12.000Z</published>
    <updated>2017-11-04T09:02:03.826Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/2017-08-14/hexo-theme-archer/snap.png" alt="preview"></p><p>å®‰è£…åŠä½¿ç”¨æ–¹æ³•è§GitHubåœ°å€: <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank" rel="external">æˆ³æˆ‘:)</a></p><h2 id="å¸®åŠ©"><a href="#å¸®åŠ©" class="headerlink" title="å¸®åŠ©"></a>å¸®åŠ©</h2><p>å¦‚æœæœ‰ä»»ä½•ä½¿ç”¨ä¸Šçš„é—®é¢˜æˆ–è€…ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€</p><p>æ„Ÿè°¢ä½¿ç”¨ğŸ˜†</p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2017-08-14/hexo-theme-archer/snap.png&quot; alt=&quot;preview&quot;&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…åŠä½¿ç”¨æ–¹æ³•è§GitHubåœ°å€: &lt;a href=&quot;https://github.com/fi3ework/hexo-theme-archer&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æˆ³æˆ‘:)&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;å¸®åŠ©&quot;&gt;&lt;a href=&quot;#å¸®åŠ©&quot; class=&quot;headerlink&quot; title=&quot;å¸®åŠ©&quot;&gt;&lt;/a&gt;å¸®åŠ©&lt;/h2&gt;&lt;p&gt;å¦‚æœæœ‰ä»»ä½•ä½¿ç”¨ä¸Šçš„é—®é¢˜æˆ–è€…ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€&lt;/p&gt;
&lt;p&gt;æ„Ÿè°¢ä½¿ç”¨ğŸ˜†&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="https://fi3ework.github.io/tags/hexo/"/>
    
      <category term="hexo-theme-archer" scheme="https://fi3ework.github.io/tags/hexo-theme-archer/"/>
    
  </entry>
  
  <entry>
    <title>client/scroll/offset width/heightæ€»ç»“</title>
    <link href="https://fi3ework.github.io/2017-06-21/client:scroll:offset%20width:height%E6%80%BB%E7%BB%93/"/>
    <id>https://fi3ework.github.io/2017-06-21/client:scroll:offset width:heightæ€»ç»“/</id>
    <published>2017-06-21T13:08:51.000Z</published>
    <updated>2017-06-21T15:24:50.000Z</updated>
    
    <content type="html"><![CDATA[<ul><li><h4 id="Element-clientHeight-amp-Element-clientWidth"><a href="#Element-clientHeight-amp-Element-clientWidth" class="headerlink" title="Element.clientHeight &amp; Element.clientWidth"></a>Element.clientHeight &amp; Element.clientWidth</h4><h5 id="element-clientHeightï¼ˆåªè¯»ï¼‰"><a href="#element-clientHeightï¼ˆåªè¯»ï¼‰" class="headerlink" title="element.clientHeightï¼ˆåªè¯»ï¼‰"></a>element.clientHeightï¼ˆåªè¯»ï¼‰</h5><blockquote><p>è¿”å›å…ƒç´ å†…éƒ¨çš„é«˜åº¦(å•ä½åƒç´ )ï¼ŒåŒ…å«å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬æ°´å¹³æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚</p><p><code>clientHeight</code> å¯ä»¥é€šè¿‡ CSS <code>height</code> + CSS <code>padding</code> - æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ (å¦‚æœå­˜åœ¨)æ¥è®¡ç®—.</p><h5 id="Element-clientWidthï¼ˆåªè¯»ï¼‰"><a href="#Element-clientWidthï¼ˆåªè¯»ï¼‰" class="headerlink" title="Element.clientWidthï¼ˆåªè¯»ï¼‰"></a>Element.clientWidthï¼ˆåªè¯»ï¼‰</h5><p><code>Element.clientWidth</code> å±æ€§è¡¨ç¤ºå…ƒç´ çš„å†…éƒ¨å®½åº¦ï¼Œä»¥åƒç´ è®¡ã€‚è¯¥å±æ€§<strong>åŒ…æ‹¬å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€è¾¹æ¡†å’Œå¤–è¾¹è·</strong>ã€‚</p></blockquote><p><img src="https://developer.mozilla.org/@api/deki/files/185/=Dimensions-client.png" alt="element.clientHeight"></p></li><li><h4 id="Element-clientLeftï¼ˆåªè¯»ï¼‰-amp-Element-clientTopï¼ˆåªè¯»ï¼‰"><a href="#Element-clientLeftï¼ˆåªè¯»ï¼‰-amp-Element-clientTopï¼ˆåªè¯»ï¼‰" class="headerlink" title="Element.clientLeftï¼ˆåªè¯»ï¼‰&amp; Element.clientTopï¼ˆåªè¯»ï¼‰"></a>Element.clientLeftï¼ˆåªè¯»ï¼‰&amp; Element.clientTopï¼ˆåªè¯»ï¼‰</h4><blockquote><p>è¡¨ç¤ºä¸€ä¸ªå…ƒç´ çš„å·¦è¾¹æ¡†çš„å®½åº¦ï¼Œä»¥åƒç´ è¡¨ç¤ºã€‚å¦‚æœå…ƒç´ çš„æ–‡æœ¬æ–¹å‘æ˜¯ä»å³å‘å·¦ï¼ˆRTL, right-to-leftï¼‰ï¼Œå¹¶ä¸”ç”±äºå†…å®¹æº¢å‡ºå¯¼è‡´å·¦è¾¹å‡ºç°äº†ä¸€ä¸ªå‚ç›´æ»šåŠ¨æ¡ï¼Œåˆ™è¯¥å±æ€§åŒ…æ‹¬æ»šåŠ¨æ¡çš„å®½åº¦ã€‚<strong><code>clientLeft</code> ä¸åŒ…æ‹¬å·¦å¤–è¾¹è·å’Œå·¦å†…è¾¹è·</strong>ã€‚<code>clientLeft</code> æ˜¯åªè¯»çš„ã€‚</p><p>ä¸€ä¸ªå…ƒç´ é¡¶éƒ¨è¾¹æ¡†çš„å®½åº¦ï¼ˆä»¥åƒç´ è¡¨ç¤ºï¼‰ã€‚ä¸åŒ…æ‹¬é¡¶éƒ¨å¤–è¾¹è·æˆ–å†…è¾¹è·ã€‚<code>clientTop</code> æ˜¯åªè¯»çš„ã€‚</p></blockquote></li><li><h4 id="Element-scrollTopï¼ˆè¯»å†™ï¼‰"><a href="#Element-scrollTopï¼ˆè¯»å†™ï¼‰" class="headerlink" title="Element.scrollTopï¼ˆè¯»å†™ï¼‰"></a>Element.scrollTopï¼ˆè¯»å†™ï¼‰</h4><blockquote><p><code>è¿™ä¸ªElement.scrollTop</code> å±æ€§å¯ä»¥è®¾ç½®æˆ–è€…è·å–ä¸€ä¸ªå…ƒç´ è·ç¦»ä»–å®¹å™¨é¡¶éƒ¨çš„åƒç´ è·ç¦»ã€‚ä¸€ä¸ªå…ƒç´ çš„ <code>scrollTop</code> æ˜¯å¯ä»¥å»è®¡ç®—å‡ºè¿™ä¸ª<strong>å…ƒç´ è·ç¦»å®ƒå®¹å™¨é¡¶éƒ¨çš„å¯è§é«˜åº¦</strong>ã€‚å½“ä¸€ä¸ªå…ƒç´ çš„å®¹å™¨æ²¡æœ‰äº§ç”Ÿå‚ç›´æ–¹å‘çš„æ»šåŠ¨æ¡,é‚£å®ƒçš„ <code>scrollTop çš„å€¼é»˜è®¤ä¸º0</code>.</p></blockquote><ul><li>å¦‚æœä¸€ä¸ªå…ƒç´ ä¸èƒ½è¢«æ»šåŠ¨ (e.g. å®ƒæ²¡æœ‰æº¢å‡ºå®¹å™¨æˆ–è€… è¿™ä¸ªå…ƒç´ æ˜¯ä¸å¯æ»šåŠ¨çš„), <code>scrollTopè¢«è®¾ç½®ä¸º0</code>.</li><li>è®¾ç½®scrollTopçš„å€¼å°äº0ï¼Œ<code>scrollTop</code> è¢«è®¾ä¸º<code>0</code></li><li><p>å¦‚æœè®¾ç½®äº†è¶…å‡ºè¿™ä¸ªå®¹å™¨å¯æ»šåŠ¨çš„å€¼, <code>scrollTop</code> ä¼šè¢«è®¾ä¸ºæœ€å¤§å€¼.</p><p><img src="https://developer.mozilla.org/@api/deki/files/842/=ScrollTop.png" alt="element.scrollTop"></p></li></ul></li><li><h4 id="Element-scrollLeftï¼ˆè¯»å†™ï¼‰"><a href="#Element-scrollLeftï¼ˆè¯»å†™ï¼‰" class="headerlink" title="Element.scrollLeftï¼ˆè¯»å†™ï¼‰"></a>Element.scrollLeftï¼ˆè¯»å†™ï¼‰</h4><blockquote><p> <strong>Element.scrollLeft</strong> å±æ€§å¯ä»¥è¯»å–æˆ–è®¾ç½®å…ƒç´ æ»šåŠ¨æ¡åˆ°å…ƒç´ å·¦è¾¹çš„è·ç¦»ã€‚æ³¨æ„å¦‚æœè¿™ä¸ªå…ƒç´ çš„å†…å®¹æ’åˆ—æ–¹å‘ï¼ˆ<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/direction" target="_blank" rel="external"><code>direction</code></a>ï¼‰ æ˜¯<code>rtl</code> (right-to-left) ï¼Œé‚£ä¹ˆæ»šåŠ¨æ¡ä¼šä½äºæœ€å³ä¾§ï¼ˆå†…å®¹å¼€å§‹å¤„ï¼‰ï¼Œå¹¶ä¸”scrollLeftå€¼ä¸º0ã€‚æ­¤æ—¶ï¼Œå½“ä½ ä»å³åˆ°å·¦æ‹–åŠ¨æ»šåŠ¨æ¡æ—¶ï¼ŒscrollLeftä¼šä»0å˜ä¸ºè´Ÿæ•°ï¼ˆè¿™ä¸ªç‰¹æ€§åœ¨chromeæµè§ˆå™¨ä¸­ä¸å­˜åœ¨ï¼‰ã€‚</p></blockquote><ul><li>å¦‚æœå…ƒç´ ä¸èƒ½æ»šåŠ¨ï¼ˆæ¯”å¦‚ï¼šå…ƒç´ æ²¡æœ‰æº¢å‡ºï¼‰ï¼Œé‚£ä¹ˆ<code>scrollLeft</code> çš„å€¼æ˜¯0ã€‚</li><li>å¦‚æœç»™<code>scrollLeft</code> è®¾ç½®çš„å€¼å°äº0ï¼Œé‚£ä¹ˆ<code>scrollLeft</code> çš„å€¼å°†å˜ä¸º0ã€‚</li><li>å¦‚æœç»™<code>scrollLeft</code> è®¾ç½®çš„å€¼å¤§äºå…ƒç´ å†…å®¹æœ€å¤§å®½åº¦ï¼Œé‚£ä¹ˆ<code>scrollLeft</code> çš„å€¼å°†è¢«è®¾ä¸ºå…ƒç´ æœ€å¤§å®½åº¦ã€‚</li></ul></li><li><h4 id="ELement-scrollHeightï¼ˆåªè¯»ï¼‰-amp-Element-scrollHeigtï¼ˆåªè¯»ï¼‰"><a href="#ELement-scrollHeightï¼ˆåªè¯»ï¼‰-amp-Element-scrollHeigtï¼ˆåªè¯»ï¼‰" class="headerlink" title="ELement.scrollHeightï¼ˆåªè¯»ï¼‰ &amp; Element.scrollHeigtï¼ˆåªè¯»ï¼‰"></a>ELement.scrollHeightï¼ˆåªè¯»ï¼‰ &amp; Element.scrollHeigtï¼ˆåªè¯»ï¼‰</h4><blockquote><p><code>Element.scrollHeight</code> æ˜¯è®¡é‡å…ƒç´ å†…å®¹é«˜åº¦çš„åªè¯»å±æ€§ï¼ŒåŒ…æ‹¬overflowæ ·å¼å±æ€§å¯¼è‡´çš„è§†å›¾ä¸­ä¸å¯è§å†…å®¹ã€‚æ²¡æœ‰å‚ç›´æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹ï¼ŒscrollHeightå€¼ä¸å…ƒç´ è§†å›¾å¡«å……æ‰€æœ‰å†…å®¹æ‰€éœ€è¦çš„æœ€å°å€¼clientHeightç›¸åŒã€‚<strong>åŒ…æ‹¬å…ƒç´ çš„paddingï¼Œä½†ä¸åŒ…æ‹¬å…ƒç´ çš„margin.</strong></p><p><strong>Element.scrollHeight</strong> æ˜¯è®¡é‡å…ƒç´ å†…å®¹é«˜åº¦çš„åªè¯»å±æ€§ï¼ŒåŒ…æ‹¬overflowæ ·å¼å±æ€§å¯¼è‡´çš„è§†å›¾ä¸­ä¸å¯è§å†…å®¹ã€‚æ²¡æœ‰å‚ç›´æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹ï¼ŒscrollHeightå€¼ä¸å…ƒç´ è§†å›¾å¡«å……æ‰€æœ‰å†…å®¹æ‰€éœ€è¦çš„æœ€å°å€¼clientHeightç›¸åŒã€‚åŒ…æ‹¬å…ƒç´ çš„paddingï¼Œä½†ä¸åŒ…æ‹¬å…ƒç´ çš„margin.</p></blockquote></li></ul><p><img src="https://developer.mozilla.org/@api/deki/files/840/=ScrollHeight.png" alt="element.scrollHeight"></p><ul><li><h4 id="HTMLElement-offsetHegihtï¼ˆåªè¯»ï¼‰-amp-HTMLElement-offsetWidthï¼ˆåªè¯»ï¼‰"><a href="#HTMLElement-offsetHegihtï¼ˆåªè¯»ï¼‰-amp-HTMLElement-offsetWidthï¼ˆåªè¯»ï¼‰" class="headerlink" title="HTMLElement.offsetHegihtï¼ˆåªè¯»ï¼‰&amp; HTMLElement.offsetWidthï¼ˆåªè¯»ï¼‰"></a>HTMLElement.offsetHegihtï¼ˆåªè¯»ï¼‰&amp; HTMLElement.offsetWidthï¼ˆåªè¯»ï¼‰</h4><blockquote><p>HTMLElement.offsetHeight æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå®ƒè¿”å›è¯¥å…ƒç´ çš„åƒç´ é«˜åº¦ï¼Œé«˜åº¦åŒ…å«è¯¥å…ƒç´ çš„å‚ç›´å†…è¾¹è·å’Œè¾¹æ¡†ï¼Œä¸”æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p><p>é€šå¸¸ï¼Œ<strong>å…ƒç´ çš„offsetHeightæ˜¯ä¸€ç§è¡¡é‡æ ‡å‡†ï¼ŒåŒ…æ‹¬å…ƒç´ çš„è¾¹æ¡†ã€å‚ç›´å†…è¾¹è·å’Œå…ƒç´ çš„æ°´å¹³æ»šåŠ¨æ¡ï¼ˆå¦‚æœå­˜åœ¨ä¸”æ¸²æŸ“çš„è¯ï¼‰å’Œå…ƒç´ çš„CSSé«˜åº¦ã€‚</strong></p><p>å¯¹äºæ–‡æ¡£çš„ä¸»ä½“å¯¹è±¡ï¼Œå®ƒåŒ…æ‹¬ä»£æ›¿å…ƒç´ çš„CSSé«˜åº¦çº¿æ€§æ€»å«é‡é«˜ã€‚æµ®åŠ¨å…ƒç´ çš„å‘ä¸‹å»¶ä¼¸å†…å®¹é«˜åº¦æ˜¯è¢«å¿½ç•¥çš„ã€‚ </p><p><strong>HTMLElement.offsetWidth</strong> æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œè¿”å›ä¸€ä¸ªå…ƒç´ çš„å¸ƒå±€å®½åº¦ã€‚ä¸€ä¸ªå…¸å‹çš„ï¼ˆè¯‘è€…æ³¨ï¼šå„æµè§ˆå™¨çš„offsetWidthå¯èƒ½æœ‰æ‰€ä¸åŒï¼‰<strong>offsetWidthæ˜¯æµ‹é‡å…ƒç´ çš„è¾¹æ¡†(border)ã€æ°´å¹³çº¿ä¸Šçš„å†…è¾¹è·(padding)ã€ç«–ç›´æ–¹å‘æ»šåŠ¨æ¡(scroolbar)ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ã€ä»¥åŠCSSè®¾ç½®çš„å®½åº¦(width)çš„å€¼ã€‚</strong></p></blockquote></li></ul><p><img src="https://developer.mozilla.org/@api/deki/files/186/=Dimensions-offset.png" alt="HTMLElement.offsetHegiht"></p><ul><li><h4 id="HTMLElement-offsetParentï¼ˆåªè¯»ï¼‰"><a href="#HTMLElement-offsetParentï¼ˆåªè¯»ï¼‰" class="headerlink" title="HTMLElement.offsetParentï¼ˆåªè¯»ï¼‰"></a><strong>HTMLElement.offsetParent</strong>ï¼ˆåªè¯»ï¼‰</h4><blockquote><p><strong>HTMLElement.offsetParent</strong> æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘æœ€è¿‘çš„ï¼ˆclosestï¼ŒæŒ‡åŒ…å«å±‚çº§ä¸Šçš„æœ€è¿‘ï¼‰åŒ…å«è¯¥å…ƒç´ çš„å®šä½å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰å®šä½çš„å…ƒç´ ï¼Œåˆ™ <code>offsetParent</code> ä¸ºæœ€è¿‘çš„ <code>table</code>å…ƒç´ å¯¹è±¡æˆ–æ ¹å…ƒç´ ï¼ˆæ ‡å‡†æ¨¡å¼ä¸‹ä¸º <code>html</code>ï¼›quirks æ¨¡å¼ä¸‹ä¸º <code>body</code>ï¼‰ã€‚å½“å…ƒç´ çš„ <code>style.display</code> è®¾ç½®ä¸º â€œnoneâ€ æ—¶ï¼Œ<code>offsetParent</code> è¿”å› <code>null</code>ã€‚<code>offsetParent</code> å¾ˆæœ‰ç”¨ï¼Œ<strong>å› ä¸º <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetTop" target="_blank" rel="external"><code>offsetTop</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetLeft" target="_blank" rel="external"><code>offsetLeft</code></a> éƒ½æ˜¯ç›¸å¯¹äºå…¶å†…è¾¹è·è¾¹ç•Œçš„ã€‚</strong></p></blockquote><h5 id="æµè§ˆå™¨å…¼å®¹æ€§"><a href="#æµè§ˆå™¨å…¼å®¹æ€§" class="headerlink" title="æµè§ˆå™¨å…¼å®¹æ€§"></a>æµè§ˆå™¨å…¼å®¹æ€§</h5><p>   åœ¨ Webkit ä¸­ï¼Œå¦‚æœå…ƒç´ ä¸ºéšè—çš„ï¼ˆè¯¥å…ƒç´ æˆ–å…¶ç¥–å…ˆå…ƒç´ çš„ <code>style.display</code> ä¸º â€œnoneâ€ï¼‰ï¼Œæˆ–è€…è¯¥å…ƒç´ çš„ <code>style.position</code> è¢«è®¾ä¸º â€œfixedâ€ï¼Œåˆ™è¯¥å±æ€§è¿”å› <code>null</code>ã€‚</p><p>   åœ¨ IE 9 ä¸­ï¼Œå¦‚æœè¯¥å…ƒç´ çš„ <code>style.position</code> è¢«è®¾ç½®ä¸º â€œfixedâ€ï¼Œåˆ™è¯¥å±æ€§è¿”å› <code>null</code>ã€‚ï¼ˆ<code>display:none</code> æ— å½±å“ã€‚ï¼‰</p></li><li><h4 id="HTMLElement-offsetLeftï¼ˆåªè¯»ï¼‰-amp-HTMLElement-offsetTopï¼ˆåªè¯»ï¼‰"><a href="#HTMLElement-offsetLeftï¼ˆåªè¯»ï¼‰-amp-HTMLElement-offsetTopï¼ˆåªè¯»ï¼‰" class="headerlink" title="HTMLElement.offsetLeftï¼ˆåªè¯»ï¼‰&amp; HTMLElement.offsetTopï¼ˆåªè¯»ï¼‰"></a>HTMLElement.offsetLeftï¼ˆåªè¯»ï¼‰&amp; HTMLElement.offsetTopï¼ˆåªè¯»ï¼‰</h4><blockquote><p> <strong>HTMLElement.offsetLeft</strong> æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œè¿”å›å½“å‰å…ƒç´ <em>å·¦ä¸Šè§’</em>ç›¸å¯¹äº  <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetParent" target="_blank" rel="external"><code>HTMLElement.offsetParent</code></a> èŠ‚ç‚¹çš„å·¦è¾¹ç•Œ<strong>ï¼ˆå†…è¾¹è·è¾¹ç•Œï¼‰</strong>åç§»çš„åƒç´ å€¼ã€‚</p><p> å¯¹å—çº§å…ƒç´ æ¥è¯´ï¼Œ<code>offsetTop</code>ã€<code>offsetLeft</code>ã€<code>offsetWidth</code> åŠ <code>offsetHeight</code> æè¿°äº†å…ƒç´ ç›¸å¯¹äº <code>offsetParent</code> çš„è¾¹ç•Œæ¡†ã€‚</p><p> ç„¶è€Œï¼Œå¯¹äºå¯è¢«æˆªæ–­åˆ°ä¸‹ä¸€è¡Œçš„è¡Œå†…å…ƒç´ ï¼ˆå¦‚ <strong>span</strong>ï¼‰ï¼Œ<code>offsetTop</code> å’Œ <code>offsetLeft</code> æè¿°çš„æ˜¯<em>ç¬¬ä¸€ä¸ª</em>è¾¹ç•Œæ¡†çš„ä½ç½®ï¼ˆä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getClientRects" target="_blank" rel="external"><code>Element.getClientRects()</code></a> æ¥è·å–å…¶å®½åº¦å’Œé«˜åº¦ï¼‰ï¼Œè€Œ <code>offsetWidth</code> å’Œ <code>offsetHeight</code> æè¿°çš„æ˜¯è¾¹ç•Œæ¡†çš„ç»´åº¦ï¼ˆä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect" target="_blank" rel="external"><code>Element.getBoundingClientRect</code></a> æ¥è·å–å…¶ä½ç½®ï¼‰ã€‚å› æ­¤ï¼Œä½¿ç”¨ <code>offsetLeftã€offsetTopã€offsetWidth</code>ã€<code>offsetHeight</code> æ¥å¯¹åº” leftã€topã€width å’Œ height çš„ä¸€ä¸ªç›’å­å°†ä¸ä¼šæ˜¯æ–‡æœ¬å®¹å™¨ span çš„ç›’å­è¾¹ç•Œã€‚</p><p><strong>HTMLElement.offsetTop</strong> ä¸ºåªè¯»å±æ€§ï¼Œå®ƒè¿”å›å½“å‰å…ƒç´ ç›¸å¯¹äºå…¶ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetParent" target="_blank" rel="external"><code>offsetParent</code></a> å…ƒç´ çš„é¡¶éƒ¨çš„è·ç¦»ã€‚</p></blockquote></li></ul><h3 id="æ€»ç»“å›¾"><a href="#æ€»ç»“å›¾" class="headerlink" title="æ€»ç»“å›¾"></a>æ€»ç»“å›¾</h3><p><img src="https://i.stack.imgur.com/zWca7.png" alt="Microsoft has a nice image in the MSDN:"></p><p><img src="https://i.stack.imgur.com/5AAyW.png" alt=""></p><p><img src="http://pic002.cnblogs.com/images/2011/85285/2011102915280329.jpg" alt=""><br><img src="https://i.stack.imgur.com/NANud.png" alt=""> <img src="https://i.stack.imgur.com/RFxSh.png" alt=""></p><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><ul><li><code>clientHegiht</code> <code>clientWidth</code>ï¼šåŒ…æ‹¬paddingï¼Œä¸åŒ…æ‹¬borderçš„å¯è§åŒºåŸŸå¤§å°ï¼Œä¸èƒ½é€šè¿‡CSSè®¡ç®—å¾—åˆ°å¤§å°ï¼Œå› ä¸ºä¸çŸ¥é“æ»šåŠ¨æ¡çš„å¤§å°ã€‚</li></ul><ul><li><p><code>offsetHeight</code> <code>offsetWidth</code>ï¼šåŒ…æ‹¬borderï¼Œ paddingå’Œæ»šåŠ¨æ¡çš„å¯è§åŒºåŸŸå¤§å°ï¼Œå¯ä»¥é€šè¿‡<code>width + padding</code>å¾—åˆ°å¤§å°ã€‚</p></li><li><p><code>scrollHeight</code> <code>scrollWidth</code>ï¼Œé¡µé¢å†…å®¹çš„æ€»é•¿åº¦ï¼Œ<strong>ä¸åŒ…æ‹¬border</strong>ï¼Œä¸èƒ½é€šè¿‡CSSè®¡ç®—å¤§å°ã€‚</p><p>â€‹</p></li></ul><h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><ul><li><p>åˆ¤æ–­æ»šåŠ¨å…ƒç´ æ˜¯å¦åˆ°åº•ï¼ˆæ¯”å¦‚å®‰è£…è½¯ä»¶æ—¶çš„åè®®æ¡æ¬¾ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">element.scrollHeight - element.scrollTop === element.clientHegiht;</div></pre></td></tr></table></figure></li></ul><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ul><li>MDN</li></ul><ul><li><a href="https://stackoverflow.com/questions/21064101/understanding-offsetwidth-clientwidth-scrollwidth-and-height-respectively" target="_blank" rel="external">Understanding offsetWidth, clientWidth, scrollWidth and -Height, respectively</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;&lt;h4 id=&quot;Element-clientHeight-amp-Element-clientWidth&quot;&gt;&lt;a href=&quot;#Element-clientHeight-amp-Element-clientWidth&quot; class=&quot;headerlink&quot; ti
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://fi3ework.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>SASSçš„map</title>
    <link href="https://fi3ework.github.io/2017-06-19/SASS%E7%9A%84map/"/>
    <id>https://fi3ework.github.io/2017-06-19/SASSçš„map/</id>
    <published>2017-06-19T14:55:21.000Z</published>
    <updated>2017-06-21T15:25:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨çœ‹SASSä¸­æ–‡ç½‘æ—¶å‘ç°<code>Maps</code>æ²¡æœ‰ç¿»è¯‘ï¼Œå°±é¡ºä¾¿ç¿»è¯‘ä¸€ä¸‹ã€‚</p><blockquote><h4 id="6-3-3-Maps"><a href="#6-3-3-Maps" class="headerlink" title="6.3.3. Maps"></a>6.3.3. Maps</h4><p>Maps represent an association between keys and values, where keys are used to look up values. They make it easy to collect values into named groups and access those groups dynamically. They have no direct parallel in CSS, although theyâ€™re syntactically similar to media query expressions: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; scss $map: (key1: value1, key2: value2, key3: value3);</div><div class="line">&gt;</div></pre></td></tr></table></figure></blockquote><p>&gt;</p><blockquote><p> Unlike lists, maps must always be surrounded by parentheses and must always be comma-separated. Both the keys and values in maps can be any SassScript object. A map may only have one value associated with a given key (although that value may be a list). A given value may be associated with many keys, though. Like lists, maps are mostly manipulated using SassScript functions. The map-get function looks up values in a map and the map-merge function adds values to a map. The @each directive can be used to add styles for each key/value pair in a map. The order of pairs in a map is always the same as when the map was created. Maps can also be used anywhere lists can. When used by a list function, a map is treated as a list of pairs. For example, (key1: value1, key2: value2) would be treated as the nested list key1 value1, key2 value2 by list functions. Lists cannot be treated as maps, though, with the exception of the empty list. () represents both a map with no key/value pairs and a list with no elements. Note that map keys can be any Sass data type (even another map) and the syntax for declaring a map allows arbitrary SassScript expressions that will be evaluated to determine the key. Maps cannot be converted to plain CSS. Using one as the value of a variable or an argument to a CSS function will cause an error. Use the inspect($value) function to produce an output string useful for debugging maps.</p></blockquote><p><strong>ç¿»è¯‘å¦‚ä¸‹ï¼š</strong></p><p>Mapsä»£è¡¨é”®å€¼å¯¹ä¹‹é—´çš„æ˜ å°„ï¼Œé€šè¿‡keyæ¥ç´¢å¼•valueã€‚è¿™ä½¿å¾—å¯ä»¥å¾ˆå®¹æ˜“çš„å°†å€¼é›†åˆåœ¨å¯¹è±¡ä¸­å¹¶ä¸”èƒ½å¤ŸåŠ¨æ€çš„æ›´æ–°å¯¹è±¡ã€‚CSSè¯­æ³•ä¸­æ²¡æœ‰ç›´æ¥ä¸Mapå¯¹åº”çš„è¯­æ³•ï¼Œå°½ç®¡Mapçš„è¯­æ³•å¾ˆåƒæ˜¯<code>media query</code>è¡¨è¾¾å¼</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scss <span class="variable">$map</span>: (key1: value1, key2: value2, key3: value3);</div></pre></td></tr></table></figure><p>ä¸listä¸åŒï¼Œmapå¿…é¡»åŒ…å«åœ¨ä¸€å¯¹åœ†æ‹¬å·ä¸­ï¼Œä¹Ÿå¿…é¡»ä½¿ç”¨é€—å·åˆ†éš”ã€‚é”®ä¸å€¼å¯ä»¥ä¸ºScssScriptä¸­çš„ ä»»ä½•å¯¹è±¡ã€‚åœ¨ä¸€ä¸ªmapä¸­ï¼Œä¸€ä¸ªkeyåªèƒ½å¯¹åº”ä¸€ä¸ªvalueï¼ˆvalueå¯ä»¥æ˜¯listï¼‰ï¼Œä½†ä¸€ä¸ªvalueå¯ä»¥å¯¹åº”å¤šä¸ªkeyã€‚ä¸listç±»ä¼¼ï¼Œmapä¸€èˆ¬ç”¨æ¥è¿›è¡ŒScssScriptçš„æ“ä½œï¼Œ<code>map-get</code>å‡½æ•°ç”¨æ¥åœ¨mapä¸­ç´¢å¼•ï¼Œ<code>map-merge</code>å‡½æ•°ç”¨æ¥å‘mapæ·»åŠ é”®å€¼å¯¹ã€‚<code>@each</code>å‘½ä»¤å¯ä»¥ç»™mapä¸­çš„é”®å€¼å¯¹æ·»åŠ æ ·å¼ã€‚mapä¸­é”®å€¼å¯¹çš„é¡ºåºå–å†³äºåˆ›å»ºæ—¶çš„é¡ºåºã€‚å‡¡æ˜¯å¯ä»¥ä½¿ç”¨listçš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨mapï¼Œå½“listçš„å‡½æ•°æ“ä½œmapæ—¶ï¼Œä¼šå°†mapçœ‹åšä¸€ä¸ªç”±é”®å€¼å¯¹ç»„æˆçš„æ•°ç»„ã€‚æ¯”å¦‚<code>(key1: value1, key2: value2)</code>ä¼šè¢«çœ‹æˆåµŒå¥—çš„listï¼š<code>[key1, value1],[key2, value2]</code>ï¼ˆå¾…å®šï¼‰ã€‚ä½†æ˜¯listä¸èƒ½è¢«å½“åšmapä½¿ç”¨ï¼Œé™¤äº†ç©ºæ•°ç»„ã€‚<code>()</code>æ—¢ä»£è¡¨ä¸€ä¸ªç©ºæ•°ç»„ä¹Ÿä»£è¡¨ä¸€ä¸ªæ²¡æœ‰é”®å€¼å¯¹çš„mapã€‚keyå¯ä»¥ä¸ºä»»ä½•çš„Sassæ•°æ®æ ¼å¼ï¼ˆå¯ä»¥æ˜¯å¦ä¸€ä¸ªmapï¼‰ã€‚Mapä¸èƒ½ç›´æ¥è½¬æ¢ä¸ºCSSè¯­æ³•ï¼Œå½“è¢«CSSå‡½æ•°å½“åšå€¼æˆ–è€…å˜é‡æˆ–è€…å‚æ•°æ—¶å°†ä¼šå¯¼è‡´é”™è¯¯ï¼Œä½¿ç”¨<code>inspect($value)</code>å‡½æ•°å¯ä»¥ç”¨æ¥ç”Ÿæˆè°ƒè¯•mapçš„å­—ç¬¦ä¸²å‡½æ•°ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©åœ¨çœ‹SASSä¸­æ–‡ç½‘æ—¶å‘ç°&lt;code&gt;Maps&lt;/code&gt;æ²¡æœ‰ç¿»è¯‘ï¼Œå°±é¡ºä¾¿ç¿»è¯‘ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;h4 id=&quot;6-3-3-Maps&quot;&gt;&lt;a href=&quot;#6-3-3-Maps&quot; class=&quot;headerlink&quot; title=&quot;6.3.3. 
      
    
    </summary>
    
    
      <category term="SASS" scheme="https://fi3ework.github.io/tags/SASS/"/>
    
  </entry>
  
  <entry>
    <title>CSSå¸¸ç”¨å¸ƒå±€æ–¹å¼</title>
    <link href="https://fi3ework.github.io/2017-06-09/CSS%E5%B8%B8%E7%94%A8%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F/"/>
    <id>https://fi3ework.github.io/2017-06-09/CSSå¸¸ç”¨å¸ƒå±€æ–¹å¼/</id>
    <published>2017-06-08T17:03:46.000Z</published>
    <updated>2017-06-10T14:06:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é«˜åº¦ç›¸ç­‰çš„åˆ—"><a href="#é«˜åº¦ç›¸ç­‰çš„åˆ—" class="headerlink" title="é«˜åº¦ç›¸ç­‰çš„åˆ—"></a>é«˜åº¦ç›¸ç­‰çš„åˆ—</h3><p>  <img src="/2017-06-09/CSSå¸¸ç”¨å¸ƒå±€æ–¹å¼/./CSSå¸¸ç”¨å¸ƒå±€æ–¹å¼/é«˜åº¦ç›¸ç­‰çš„åˆ—.png" alt="é«˜åº¦ç›¸ç­‰çš„åˆ—"></p><p>  æ€è·¯ï¼šä¸‰åˆ—æµ®åŠ¨å¸ƒå±€ï¼Œç»™æ¯åˆ—ä¸€ä¸ªå¾ˆå¤§çš„<code>padding-bottom</code>ï¼Œç„¶åæ¯åˆ—çš„<code>margin-bottom</code>æ¯”<code>padding-bottom</code>ç¨å°ï¼Œå¤–é¢åŒ…è£¹çš„<code>wrapper</code>å°±ä¼šè¢«æœ€é«˜çš„ä¸€åˆ—æ’‘èµ·æ¥ã€‚</p><p>  ä»£ç ï¼š</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">250px</span>;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</div><div class="line">  <span class="attribute">float</span>: left;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</div><div class="line">  <span class="attribute">background-color</span>: orange;</div><div class="line">  <span class="attribute">padding-bottom</span>: <span class="number">520px</span>;</div><div class="line">  <span class="attribute">margin-bottom</span>: -<span class="number">500px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div></pre></td></tr></table></figure>  <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Andy Budd<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Andy is the Managing Director of Clearleft. He also goes by the title of User Experience Director depending what mood</div><div class="line">      heâ€™s in. Andy is the author of CSS Mastery, curates the dConstruct and UX London events and is responsible for Silverbackapp,</div><div class="line">      our low cost usability testing application for the Mac.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Richard Rutter<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Richard is a founding partner and the production director for Clearleft. He has been designing websites and web applications</div><div class="line">      since the birth of the commercial web, over twelve years ago. Richard leads the user experience team at Clearleft, pioneering</div><div class="line">      innovative approaches to designing fantastic experiences for clients and their customers.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Jeremy Keith<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Jeremy is a hugely experienced developer specialising in XHTML, CSS, Javascript and PHP-driven solutions. Jeremy is technical</div><div class="line">      director at Clearleft.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><h3 id="è§£å†³æµ®åŠ¨å…ƒç´ æº¢å‡ºé—®é¢˜"><a href="#è§£å†³æµ®åŠ¨å…ƒç´ æº¢å‡ºé—®é¢˜" class="headerlink" title="è§£å†³æµ®åŠ¨å…ƒç´ æº¢å‡ºé—®é¢˜"></a>è§£å†³æµ®åŠ¨å…ƒç´ æº¢å‡ºé—®é¢˜</h3><ul><li><p>åœ¨å¤–å›´<code>div</code>åº•éƒ¨æ·»åŠ ä¸€ä¸ª<code>&lt;br /&gt;</code>ç„¶åè®¾å®š<code>br {clear: both};</code>ï¼ˆéœ€è¦æ·»åŠ é¢å¤–çš„htmlï¼‰ã€‚</p></li><li><p>å°†å¤–å›´divè®¾å®šä¸º<code>float</code>ï¼ˆä½†æ˜¯å®¹å™¨åé¢çš„çš„å…ƒç´ è¦è®¾å®š<code>clear</code>ï¼‰</p></li><li><p>å°†å¤–å›´å—è®¾å®šä¸º<code>overflow: hidden;</code>ï¼Œ <code>overhidden</code>ä¼šå¼ºåˆ¶å¤–å›´å—æ”¾å¤§åˆ°åŒ…å«æµ®åŠ¨å…ƒç´ ï¼Œå¦‚æœæ˜¯ie6åŠä¹‹å‰çš„æµè§ˆå™¨ï¼Œå†æ·»åŠ <code>zoom: 1;</code>ä¸è¿‡å¦‚æœ<code>div</code>ä¸­æœ‰ç»å¯¹å®šä½çš„å…ƒç´ æ—¶ï¼Œå¯èƒ½æ˜¾ç°ä¸å‡ºæ¥ã€‚</p></li><li><p>ä½¿ç”¨ç®€å•æ¸…é™¤æ³•ï¼ˆéœ€è¦æ·»åŠ é¢å¤–çš„htmlï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* æ¸…ç†æµ®åŠ¨ */</span>  </div><div class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;  </div><div class="line">    <span class="attribute">content</span>:<span class="string">""</span>;  </div><div class="line">    <span class="attribute">display</span>:block;  </div><div class="line">    <span class="attribute">height</span>:<span class="number">0</span>;  </div><div class="line">    <span class="attribute">font-size</span>:<span class="number">0</span>;  </div><div class="line">    <span class="attribute">clear</span>:both;  </div><div class="line">    <span class="attribute">visibility</span>:hidden;  </div><div class="line">&#125;  </div><div class="line"><span class="selector-class">.clearfix</span> &#123;  </div><div class="line">    <span class="attribute">zoom</span>:<span class="number">1</span>;  </div><div class="line">&#125;</div></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clearfix"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></li></ul><h3 id=""><a href="#" class="headerlink" title=" "></a> </h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;é«˜åº¦ç›¸ç­‰çš„åˆ—&quot;&gt;&lt;a href=&quot;#é«˜åº¦ç›¸ç­‰çš„åˆ—&quot; class=&quot;headerlink&quot; title=&quot;é«˜åº¦ç›¸ç­‰çš„åˆ—&quot;&gt;&lt;/a&gt;é«˜åº¦ç›¸ç­‰çš„åˆ—&lt;/h3&gt;&lt;p&gt;  &lt;img src=&quot;/2017-06-09/CSSå¸¸ç”¨å¸ƒå±€æ–¹å¼/./CSSå¸¸ç”¨å¸ƒå±€æ–¹å¼/é«˜åº¦ç›¸ç­‰çš„åˆ—.p
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•</title>
    <link href="https://fi3ework.github.io/2017-06-06/HTML5%E5%A4%A7%E7%BA%B2%E5%8F%8A%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95/"/>
    <id>https://fi3ework.github.io/2017-06-06/HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•/</id>
    <published>2017-06-06T15:55:21.000Z</published>
    <updated>2017-06-07T15:51:53.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•"><a href="#HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•" class="headerlink" title="HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•"></a>HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•</h1><h3 id="HTML5çš„å¥½å¤„"><a href="#HTML5çš„å¥½å¤„" class="headerlink" title="HTML5çš„å¥½å¤„"></a>HTML5çš„å¥½å¤„</h3><ol><li><p>åœ¨HTML4ä¸­å®šä¹‰ç« èŠ‚æ€§æ®µè½å¾€å¾€éœ€è¦<code>&lt;div&gt;</code>ï¼Œä½†<code>&lt;div&gt;</code>æœ‰æ—¶åˆæ‰®æ¼”ç€è¡¨è¾¾æ ·å¼çš„ä½œç”¨ï¼Œæ‰€ä»¥åœ¨HTML4ä¸­ç« èŠ‚çš„å®šä¹‰å’ŒèŒƒå›´éƒ½æ˜¯ä¸ç²¾ç¡®çš„ã€‚åœ¨HTML5ä¸­ï¼Œ<code>&lt;div&gt;</code>ä¸å†è®¡å…¥å¤§çº²ç®—æ³•ã€‚</p></li><li><p>å¦‚æœåœ¨ä¸»æ–‡æ¡£ä¸­åµŒå¥—äº†å­æ–‡æ¡£ï¼ˆæ¯”å¦‚åœ¨ä¸€ä¸ª<code>h2</code>æ–‡æ¡£ä¸­åˆå‡ºç°ä¸€ä¸ª<code>h1</code>æ–‡æ¡£ï¼‰ï¼Œä¼šé€ æˆå¤§çº²çš„æ··ä¹±ã€‚å¼•å…¥æ–°çš„å…ƒç´ <code>&lt;article&gt;</code>,<code>&lt;section&gt;</code>,<code>&lt;nav&gt;</code>å’Œ<code>&lt;aside&gt;</code>ï¼Œä»–ä»¬æ€»æ˜¯æˆä¸ºå…¶æœ€è¿‘ç¥–å…ˆç« èŠ‚çš„å­ç« èŠ‚ã€‚</p></li><li><p><code>&lt;aside&gt;</code>å…ƒç´ ä¸ä¼šæ’å…¥åˆ°å¤§çº²å½“ä¸­ï¼Œå¯ä»¥ç”¨æ¥å®¹çº³å¹¿å‘Šæˆ–è€…è§£é‡ŠåŒºåŸŸã€‚</p></li></ol><h3 id="HTML5çš„å¤§çº²ç®—æ³•"><a href="#HTML5çš„å¤§çº²ç®—æ³•" class="headerlink" title="HTML5çš„å¤§çº²ç®—æ³•"></a>HTML5çš„å¤§çº²ç®—æ³•</h3><blockquote><p> <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/body" target="_blank" rel="external"><code>&lt;body&gt;</code></a> å…ƒç´ ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯èŠ‚æ®µä¸­çš„ä¸€éƒ¨åˆ†ã€‚èŠ‚æ®µåœ¨HTML5ä¸­æ˜¯å¯ä»¥åµŒå¥—çš„ã€‚<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/body" target="_blank" rel="external"><code>&lt;body&gt;</code></a> å…ƒç´ å®šä¹‰äº†ä¸»èŠ‚æ®µï¼ŒåŸºäºä¸»èŠ‚æ®µï¼Œå¯ä»¥æ˜¾å¼æˆ–éšå¼å®šä¹‰å„ä¸ªå­èŠ‚æ®µçš„åˆ’åˆ†ã€‚</p></blockquote><h4 id="æ˜¾å¼åˆ†èŠ‚"><a href="#æ˜¾å¼åˆ†èŠ‚" class="headerlink" title="æ˜¾å¼åˆ†èŠ‚"></a>æ˜¾å¼åˆ†èŠ‚</h4><blockquote><p>æ˜¾å¼å®šä¹‰çš„èŠ‚æ®µæ˜¯é€šè¿‡<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/body" target="_blank" rel="external"><code>&lt;body&gt;</code></a>,  <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/section" target="_blank" rel="external"><code>&lt;section&gt;</code></a>,  <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/article" target="_blank" rel="external"><code>&lt;article&gt;</code></a>,  <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/aside" target="_blank" rel="external"><code>&lt;aside&gt;</code></a>å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/nav" target="_blank" rel="external"><code>&lt;nav&gt;</code></a> è¿™äº›æ ‡è®°ä¸­çš„å†…å®¹ã€‚ </p></blockquote><p>åœ¨æ˜¾ç¤ºåˆ†èŠ‚æ—¶ï¼Œå…¶å†³å®šæ€§ä½œç”¨çš„æ˜¯æ®µè½çš„ç»“æ„ï¼Œè€Œä¸æ˜¯æ¯ä¸ªæ®µè½å¯¹åº”çš„æ ‡é¢˜çš„ç»“æ„ï¼ˆå› æ­¤ï¼Œå³ä½¿æ˜¯è¢«åµŒå¥—çš„sectionä¹Ÿèƒ½æ‹¥æœ‰ä¸€ä¸ª<code>&lt;h1&gt;</code>æ ‡é¢˜ï¼Œè™½ç„¶è¿™ç§åšæ³•å¹¶ä¸æ¨èï¼‰ã€‚</p><h4 id="éšå¼åˆ†èŠ‚"><a href="#éšå¼åˆ†èŠ‚" class="headerlink" title="éšå¼åˆ†èŠ‚"></a>éšå¼åˆ†èŠ‚</h4><blockquote><p>HTMLæ ‡é¢˜å…ƒç´  (<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/h1" target="_blank" rel="external"><code>&lt;h1&gt;</code></a> åˆ° <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/h6" target="_blank" rel="external"><code>&lt;h6&gt;</code></a>) å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ï¼Œéšå¼çš„èŠ‚æ®µï¼Œå½“å…¶ä¸æ˜¯çˆ¶èŠ‚æ®µç¬¬ä¸€ä¸ªæ ‡é¢˜æ—¶ã€‚è¿™ç§éšå¼æ”¾ç½®èŠ‚æ®µçš„æ–¹å¼é€šè¿‡åœ¨çˆ¶èŠ‚ç‚¹ä¸­ä¸ä¹‹å‰æ ‡é¢˜çš„ç›¸å¯¹çº§åˆ«æ¥å®šä¹‰ã€‚<strong>å¦‚æœæ¯”ä¹‹å‰çš„æ ‡é¢˜çº§åˆ«æ›´ä½</strong>ï¼Œé‚£ä¹ˆåœ¨èŠ‚æ®µé‡Œå¼€å§‹æ–°çš„éšå¼å­èŠ‚æ®µã€‚</p><p><strong>å¦‚æœä¸å‰é¢æ ‡é¢˜çš„çº§åˆ«ç›¸åŒ</strong>ï¼Œé‚£ä¹ˆé—­åˆå‰é¢çš„èŠ‚æ®µï¼ˆå¯èƒ½æ˜¯æ˜¾å¼æ ‡è®°çš„èŠ‚æ®µï¼ï¼‰å¹¶å¼€å§‹æ–°çš„åŒä¸€çº§åˆ«çš„éšå¼èŠ‚æ®µï¼š</p></blockquote><h3 id="åˆ†èŠ‚æ ¹"><a href="#åˆ†èŠ‚æ ¹" class="headerlink" title="åˆ†èŠ‚æ ¹"></a>åˆ†èŠ‚æ ¹</h3><blockquote><p>åˆ†èŠ‚æ ¹æ˜¯ä¸€ä¸ªHTMLå…ƒç´ ï¼Œè¿™ä¸ªå…ƒç´ å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å¤§çº²ï¼Œä½†æ˜¯å…ƒç´ å†…éƒ¨çš„èŠ‚æ®µå’Œæ ‡é¢˜å¯¹å…¶ç¥–å…ˆçš„å¤§çº²æ²¡æœ‰è´¡çŒ®ã€‚é™¤äº†æ–‡æ¡£çš„é€»è¾‘åˆ†èŠ‚æ ¹<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/body" target="_blank" rel="external"><code>&lt;body&gt;</code></a>å…ƒç´ ï¼Œè¿™äº›å…ƒç´ ç»å¸¸åœ¨é¡µé¢ä¸­å¼•å…¥å¤–éƒ¨å†…å®¹ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/blockquote" target="_blank" rel="external"><code>&lt;blockquote&gt;</code></a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/details" target="_blank" rel="external"><code>&lt;details&gt;</code></a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/fieldset" target="_blank" rel="external"><code>&lt;fieldset&gt;</code></a>, <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/figure" target="_blank" rel="external"><code>&lt;figure&gt;</code></a> å’Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/td" target="_blank" rel="external"><code>&lt;td&gt;</code></a>ã€‚</p></blockquote><h4 id="å¤§çº²ä¹‹å¤–çš„èŠ‚æ®µ"><a href="#å¤§çº²ä¹‹å¤–çš„èŠ‚æ®µ" class="headerlink" title="å¤§çº²ä¹‹å¤–çš„èŠ‚æ®µ"></a>å¤§çº²ä¹‹å¤–çš„èŠ‚æ®µ</h4><p>ç”¨äºè¡¨ç¤ºä¾§è¾¹åˆ†èŠ‚å…ƒç´ çš„<code>&lt;aside&gt;</code>å’Œå¯¼èˆªåˆ†èŠ‚å…ƒç´ <code>&lt;nav&gt;</code>ï¼Œé¡µçœ‰<code>&lt;header&gt;</code>é¡µè„š<code>&lt;footer&gt;</code>ä¸è®¡å…¥å¤§çº²ã€‚</p><p>å³è¿™äº›å…ƒç´ åŠå…¶åŒ…å«çš„å…ƒç´ ä¸ä¼šå¯¹å¤§çº²äº§ç”Ÿä»»ä½•å½±å“ã€‚</p><h4 id="åœ¨ä¸æ”¯æŒHTML5çš„æµè§ˆå™¨å™¨ä¸­ä½¿ç”¨HTML5"><a href="#åœ¨ä¸æ”¯æŒHTML5çš„æµè§ˆå™¨å™¨ä¸­ä½¿ç”¨HTML5" class="headerlink" title="åœ¨ä¸æ”¯æŒHTML5çš„æµè§ˆå™¨å™¨ä¸­ä½¿ç”¨HTML5"></a>åœ¨ä¸æ”¯æŒHTML5çš„æµè§ˆå™¨å™¨ä¸­ä½¿ç”¨HTML5</h4><p>åœ¨ä¸æ”¯æŒHTML5çš„IE9-æµè§ˆå™¨ä¸­ä½¿ç”¨HTML5æ ‡ç­¾çš„æ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;!--[<span class="keyword">if</span> lt IE <span class="number">9</span>]&gt;</div><div class="line">  &lt;script&gt;</div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"header"</span> );</div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"footer"</span> );</div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"section"</span>); </div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"aside"</span>  );</div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"nav"</span>    );</div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"article"</span>); </div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"hgroup"</span> ); </div><div class="line">    <span class="built_in">document</span>.createElement(<span class="string">"time"</span>   );</div><div class="line">  &lt;<span class="regexp">/script&gt;</span></div><div class="line"><span class="regexp">  &lt;noscript&gt;</span></div><div class="line"><span class="regexp">     &lt;strong&gt;Warning !&lt;/</span>strong&gt;</div><div class="line">     Because your browser does not support HTML5, some elements are simulated using JScript.</div><div class="line">     Unfortunately your browser has disabled scripting. Please enable it <span class="keyword">in</span> order to display <span class="keyword">this</span> page.</div><div class="line">  &lt;<span class="regexp">/noscript&gt;</span></div><div class="line"><span class="regexp">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Sections_and_Outlines_of_an_HTML5_document" target="_blank" rel="external">HTML5çš„æ–‡æ¡£èŠ‚æ®µå’Œçº²è¦</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•&quot;&gt;&lt;a href=&quot;#HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•&quot;&gt;&lt;/a&gt;HTML5å¤§çº²åŠè®¡ç®—æ–¹æ³•&lt;/h1&gt;&lt;h3 id=&quot;HTML5çš„å¥½å¤„&quot;&gt;&lt;a href=&quot;#HTML5
      
    
    </summary>
    
    
      <category term="HTML5" scheme="https://fi3ework.github.io/tags/HTML5/"/>
    
  </entry>
  
  <entry>
    <title>JavaScripté«˜ç¨‹3ç¬”è®°</title>
    <link href="https://fi3ework.github.io/2017-04-30/JavaScript%E9%AB%98%E7%A8%8B3%E7%AC%94%E8%AE%B0/"/>
    <id>https://fi3ework.github.io/2017-04-30/JavaScripté«˜ç¨‹3ç¬”è®°/</id>
    <published>2017-04-30T07:35:33.000Z</published>
    <updated>2017-11-04T09:28:59.391Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Chapter1"><a href="#Chapter1" class="headerlink" title="Chapter1"></a>Chapter1</h2><h3 id="1-2"><a href="#1-2" class="headerlink" title="1.2"></a>1.2</h3><h4 id="1-2-2"><a href="#1-2-2" class="headerlink" title="1.2.2"></a>1.2.2</h4><ul><li><blockquote><p>DOMæ ¸å¿ƒï¼ˆDOM Coreï¼‰å’ŒDOM HTMLã€‚å…¶ä¸­ï¼ŒDOMæ ¸å¿ƒè§„å®šçš„æ˜¯å¦‚ä½•æ˜ å°„åŸºäºXMLçš„æ–‡æ¡£ç»“æ„ï¼Œä»¥ä¾¿ç®€åŒ–å¯¹æ–‡æ¡£ä¸­ä»»æ„éƒ¨åˆ†çš„è®¿é—®å’Œæ“ä½œã€‚ DOM HTMLæ¨¡å—åˆ™åœ¨DOMæ ¸å¿ƒçš„åŸºç¡€ä¸ŠåŠ ä»¥æ‰©å±•ï¼Œæ·»åŠ äº†é’ˆå¯¹HTMLçš„å¯¹è±¡å’Œæ–¹æ³•ã€‚</p></blockquote></li></ul><ul><li><blockquote><p>DOM2 çº§åœ¨åŸæ¥ DOM çš„åŸºç¡€ä¸Šåˆæ‰©å……äº†ï¼ˆDHTML ä¸€ç›´éƒ½æ”¯æŒçš„ï¼‰é¼ æ ‡å’Œç”¨æˆ·ç•Œé¢äº‹ä»¶ã€èŒƒå›´ã€éå†ï¼ˆè¿­ä»£ DOMæ–‡æ¡£çš„æ–¹æ³•ï¼‰ç­‰ç»†åˆ†æ¨¡å—ï¼Œè€Œä¸”é€šè¿‡å¯¹è±¡æ¥å£å¢åŠ äº†å¯¹ CSSï¼ˆCascading Style Sheetsï¼Œå±‚å æ ·å¼è¡¨ï¼‰çš„æ”¯æŒã€‚ DOM1 çº§ä¸­çš„ DOM æ ¸å¿ƒæ¨¡å—ä¹Ÿç»è¿‡æ‰©å±•å¼€å§‹æ”¯æŒ XML å‘½åç©ºé—´ã€‚</p></blockquote></li><li><blockquote><p>DOM3 çº§åˆ™è¿›ä¸€æ­¥æ‰©å±•äº† DOMï¼Œå¼•å…¥äº†ä»¥ç»Ÿä¸€æ–¹å¼åŠ è½½å’Œä¿å­˜æ–‡æ¡£çš„æ–¹æ³•â€”â€”åœ¨ DOM åŠ è½½å’Œä¿å­˜ï¼ˆDOM Load and Saveï¼‰æ¨¡å—ä¸­å®šä¹‰ï¼›æ–°å¢äº†éªŒè¯æ–‡æ¡£çš„æ–¹æ³•â€”â€”åœ¨ DOM éªŒè¯ï¼ˆDOM Validationï¼‰æ¨¡å—ä¸­å®šä¹‰ã€‚ DOM3 çº§ä¹Ÿå¯¹ DOM æ ¸å¿ƒè¿›è¡Œäº†æ‰©å±•ï¼Œå¼€å§‹æ”¯æŒ XML 1.0 è§„èŒƒï¼Œæ¶‰åŠ XML Infosetã€ XPathå’Œ XML Baseã€‚</p></blockquote></li></ul><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ul><li><blockquote><p>JavaScript æ˜¯ä¸€ç§ä¸“ä¸ºä¸ç½‘é¡µäº¤äº’è€Œè®¾è®¡çš„è„šæœ¬è¯­è¨€ï¼Œç”±ä¸‹åˆ—ä¸‰ä¸ªä¸åŒçš„éƒ¨åˆ†ç»„æˆï¼šï± ECMAScriptï¼Œç”± ECMA-262 å®šä¹‰ï¼Œæä¾›æ ¸å¿ƒè¯­è¨€åŠŸèƒ½ï¼›ï± æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰ï¼Œæä¾›è®¿é—®å’Œæ“ä½œç½‘é¡µå†…å®¹çš„æ–¹æ³•å’Œæ¥å£ï¼›ï± æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ˆBOMï¼‰ï¼Œæä¾›ä¸æµè§ˆå™¨äº¤äº’çš„æ–¹æ³•å’Œæ¥å£ã€‚</p></blockquote></li></ul><h2 id="Chapter2"><a href="#Chapter2" class="headerlink" title="Chapter2"></a>Chapter2</h2><h3 id="2-3"><a href="#2-3" class="headerlink" title="2.3"></a>2.3</h3><ul><li><blockquote><p>å¦‚æœåœ¨æ–‡æ¡£å¼€å§‹å¤„æ²¡æœ‰å‘ç°æ–‡æ¡£ç±»å‹å£°æ˜ï¼Œåˆ™æ‰€æœ‰æµè§ˆå™¨éƒ½ä¼šé»˜è®¤å¼€å¯æ··æ‚æ¨¡å¼ã€‚ä½†é‡‡ç”¨æ··æ‚æ¨¡å¼ä¸æ˜¯ä»€ä¹ˆå€¼å¾—æ¨èçš„åšæ³•ï¼Œå› ä¸ºä¸åŒæµè§ˆå™¨åœ¨è¿™ç§æ¨¡å¼ä¸‹çš„è¡Œä¸ºå·®å¼‚éå¸¸å¤§ï¼Œå¦‚æœä¸ä½¿ç”¨æŸäº› hack æŠ€æœ¯ï¼Œè·¨æµè§ˆå™¨çš„è¡Œä¸ºæ ¹æœ¬å°±æ²¡æœ‰ä¸€è‡´æ€§å¯è¨€ã€‚</p></blockquote></li></ul><h2 id="Chapter-3"><a href="#Chapter-3" class="headerlink" title="Chapter 3"></a>Chapter 3</h2><h3 id="3-4"><a href="#3-4" class="headerlink" title="3.4"></a>3.4</h3><ul><li><blockquote><p>åªè¦æ„åœ¨ä¿å­˜å¯¹è±¡çš„å˜é‡è¿˜æ²¡æœ‰çœŸæ­£ä¿å­˜å¯¹è±¡ï¼Œå°±åº”è¯¥æ˜ç¡®åœ°è®©è¯¥å˜é‡ä¿å­˜<code>null</code>å€¼ã€‚è¿™æ ·åšä¸ä»…å¯ä»¥ä½“ç°<code>null</code>ä½œä¸ºç©ºå¯¹è±¡æŒ‡é’ˆçš„æƒ¯ä¾‹ï¼Œè€Œä¸”ä¹Ÿæœ‰åŠ©äºè¿›ä¸€æ­¥åŒºåˆ†<code>null</code>å’Œ<code>undefined</code>ã€‚</p></blockquote></li><li>ç”±äºIEEE754æ•°å€¼æµ®ç‚¹è®¡ç®—çš„é€šç—…ï¼Œæµ®ç‚¹æ•°çš„è®¡ç®—å¹¶ä¸æ˜¯å®Œå…¨ç²¾ç¡®çš„ï¼Œå¯åŠ ä¸€ä¸ªå¾ˆå°çš„<code>EPISION</code>æ¥æ§åˆ¶ã€‚</li><li>äº‹å®ä¸Šï¼Œåªæœ‰<code>0/0</code>æ‰ä¼šè¿”å›<code>NaN</code>ï¼Œæ­£è´Ÿæ•°é™¤ä»¥<code>0</code>ä¼šè¿”å›å¯¹åº”çš„<code>Infinity</code></li><li><img src="/2017-04-30/JavaScripté«˜ç¨‹3ç¬”è®°/number.png" alt="number"></li><li><blockquote><p>åœ¨å¯¹éæ•°å€¼åº”ç”¨ä¸€å…ƒåŠ æ“ä½œç¬¦æ—¶ï¼Œè¯¥æ“ä½œç¬¦ä¼šåƒ Number()è½¬å‹å‡½æ•°ä¸€æ ·å¯¹è¿™ä¸ªå€¼æ‰§è¡Œè½¬æ¢ã€‚</p></blockquote></li><li><blockquote><p>è¿™ä¸ªå±æ€§è¿”å›çš„å­—ç¬¦æ•°åŒ…æ‹¬ 16 ä½å­—ç¬¦çš„æ•°ç›®ã€‚å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«åŒå­—èŠ‚å­—ç¬¦ï¼Œé‚£ä¹ˆ length å±æ€§å¯èƒ½ä¸ä¼šç²¾ç¡®åœ°è¿”å›å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°ç›®ã€‚</p></blockquote></li></ul><p><code>.lenghth</code>ä¼šå°†å•åŒå­—èŠ‚å­—ç¬¦éƒ½ç®—ä½œä¸€ä¸ªå­—ç¬¦å¯¹å¾…ï¼Œè‹±æ–‡å’Œç¬¦å·å±äºå•å­—èŠ‚å­—ç¬¦ï¼Œæ±‰å­—ç­‰å±äºåŒå­—ç¬¦å­—èŠ‚ï¼Œå¯ä»¥é€šè¿‡<code>&quot;abc&quot;.replace( /[^\x00-\xff]/g,&quot;aa&quot; ).length</code>åŒ¹é…åŒå­—èŠ‚ï¼Œè®¡ç®—æ­£ç¡®çš„length(è¦å£°æ˜<code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code>ï¼Œå¦åˆ™ç»“æœä¼šæ¯”è¾ƒå¥‡æ€ª)ã€‚</p><ul><li><code>null</code>å’Œ<code>undefined</code>æ²¡æœ‰<code>toString()</code>, åœ¨ä¸çŸ¥é“è¦è½¬æ¢çš„æ˜¯å¦ä¸º<code>null</code>æˆ–<code>undefined</code>æ—¶,å¯ä»¥ä½¿ç”¨<code>String()</code>è½¬æ¢å‡½æ•°,å¦‚æœä¸º<code>null</code>æˆ–<code>undefined</code>,ä¼šè¾“å‡º<code>&quot;null&quot;</code>å’Œâ€<code>undefined&quot;</code>,å¦åˆ™è°ƒç”¨å¯¹è±¡çš„<code>toString()</code>æ–¹æ³•.</li></ul><h3 id="3-5"><a href="#3-5" class="headerlink" title="3.5"></a>3.5</h3><ul><li><blockquote><p>æŒ‰ä½éæ“ä½œçš„æœ¬è´¨:æ“ä½œæ•°çš„è´Ÿæ•°å‡1</p></blockquote></li><li><code>&gt;&gt;&gt;</code>æ— ç¬¦å·å³ç§»çš„æ“ä½œæ•°å¦‚æœæ˜¯è´Ÿæ•°,ä¼šå˜æˆæ­£æ•°,è€Œä¸”å¾€å¾€æ¯”è¾ƒå¤§.å› ä¸ºè´Ÿæ•°ä»¥å…¶ç»å¯¹å€¼çš„äºŒè¿›åˆ¶çš„è¡¥ç è¡¨ç¤º.</li><li><code>&amp;&amp;</code><ul><li>å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡,åˆ™è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°</li><li>å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°ä¸º<code>true</code>,ä¸”ç¬¬äºŒä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡,åˆ™è¿”å›ç¬¬äºŒä¸ªå¯¹è±¡.</li><li>å¦‚æœéƒ½æ˜¯å¯¹è±¡,åˆ™è¿”å›ç¬¬äºŒä¸ª.</li><li>å¦‚æœæœ‰ä¸ªæ“ä½œæ•°æ˜¯<code>null</code> <code>undefined</code> <code>NaN</code>åˆ™è¿”å›<code>null</code> <code>undefined</code> <code>NaN</code>.</li><li><strong>å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„æ±‚å€¼ç»“æœä¸º<code>true</code>ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°</strong></li></ul></li><li><code>||</code><ul><li>å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡,åˆ™è¿”å›ç¬¬ä¸€ä¸ª</li><li><strong>å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„æ±‚å€¼ç»“æœä¸º<code>false</code>ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°</strong></li><li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å¯¹è±¡,åˆ™è¿”å›ç¬¬ä¸€ä¸ª</li><li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯<code>null</code> <code>undefined</code> <code>NaN</code>åˆ™è¿”å›<code>null</code> <code>undefined</code> <code>NaN</code>.</li><li>é€»è¾‘æˆ–å¯ä»¥ç”¨æ¥é¿å…ä¸ºå˜é‡èµ‹<code>null</code>æˆ–<code>undefined</code>, æ¯”å¦‚<code>var obj = preferredObj || backupObj</code></li></ul></li><li><p>â€‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="literal">Infinity</span> * <span class="number">-5</span> = - <span class="literal">Infinity</span>;</div><div class="line"><span class="literal">Infinity</span> * <span class="number">0</span> = <span class="literal">NaN</span>;</div><div class="line"><span class="literal">Infinity</span> / <span class="literal">Infinity</span> = <span class="literal">NaN</span>;</div><div class="line"><span class="number">0</span> / <span class="number">0</span> = <span class="literal">NaN</span>;</div><div class="line"><span class="number">5</span> / <span class="number">0</span> = <span class="literal">Infinity</span>; </div><div class="line"><span class="number">3</span> / <span class="literal">Infinity</span> = <span class="number">0</span>;</div><div class="line"><span class="literal">Infinity</span> / <span class="number">0</span> = <span class="literal">Infinity</span>;</div></pre></td></tr></table></figure></li><li><p>â€‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">5</span> % <span class="literal">Infinity</span> = <span class="literal">NaN</span>;</div><div class="line"><span class="number">0</span> % <span class="literal">Infinity</span> = <span class="literal">NaN</span>;</div><div class="line"><span class="literal">Infinity</span> % <span class="literal">Infinity</span> = <span class="literal">NaN</span>;</div><div class="line"><span class="number">5</span> % <span class="number">0</span> = <span class="number">0</span>;</div></pre></td></tr></table></figure></li><li><p>â€‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="literal">Infinity</span> - <span class="literal">Infinity</span> = <span class="literal">NaN</span>;</div><div class="line">+<span class="number">0</span> - <span class="number">0</span> = +<span class="number">0</span>;</div><div class="line"><span class="number">-0</span> - (<span class="number">-0</span>) = +<span class="number">0</span>;</div></pre></td></tr></table></figure></li><li><p><code>+</code>: </p><blockquote><p>å¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ã€æ•°å€¼æˆ–å¸ƒå°”å€¼ï¼Œåˆ™è°ƒç”¨å®ƒä»¬çš„<code>toString()</code>æ–¹æ³•å–å¾—ç›¸åº”çš„å­—ç¬¦ä¸²å€¼ï¼Œç„¶åå†åº”ç”¨å‰é¢å…³äºå­—ç¬¦ä¸²çš„è§„åˆ™ã€‚å¯¹äº<code>undefined</code>å’Œ<code>null</code>ï¼Œåˆ™åˆ†åˆ«è°ƒç”¨<code>String()</code>å‡½æ•°å¹¶å–å¾—å­—ç¬¦ä¸²<code>&quot;undefined&quot;</code>å’Œ<code>&quot;null&quot;</code>ã€‚</p></blockquote></li><li><code>-</code>: <blockquote><p>å¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„<code>valueOf()</code>æ–¹æ³•ä»¥å–å¾—è¡¨ç¤ºè¯¥å¯¹è±¡çš„æ•°å€¼ã€‚å¦‚æœå¾—åˆ°çš„å€¼æ˜¯<code>NaN</code>ï¼Œåˆ™å‡æ³•çš„ç»“æœå°±æ˜¯<code>NaN</code>ã€‚å¦‚æœå¯¹è±¡æ²¡æœ‰<code>valueOf()</code>æ–¹æ³•ï¼Œåˆ™è°ƒç”¨å…¶<code>toString()</code>æ–¹æ³•å¹¶å°†å¾—åˆ°çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ã€‚</p></blockquote></li><li><code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>&lt;=</code><blockquote><p>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„å­—ç¬¦ç¼–ç å€¼ã€‚<br>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåˆ™å°†å¦ä¸€ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºä¸€ä¸ªæ•°å€¼ï¼Œç„¶åæ‰§è¡Œæ•°å€¼æ¯”è¾ƒã€‚<br>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„<code>valueOf()</code>æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„ç»“æœæŒ‰ç…§å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒã€‚å¦‚æœå¯¹è±¡æ²¡æœ‰<code>valueOf()</code>æ–¹æ³•ï¼Œåˆ™è°ƒç”¨<code>toString()</code>æ–¹æ³•ï¼Œå¹¶ç”¨å¾—åˆ°çš„ç»“æœæ ¹æ®å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒã€‚<br>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ï¼Œç„¶åå†æ‰§è¡Œæ¯”è¾ƒã€‚<br>ä»»ä½•æ“ä½œæ•°ä¸<code>NaN</code>è¿›è¡Œå…³ç³»æ¯”è¾ƒï¼Œç»“æœéƒ½æ˜¯<code>false</code>ã€‚</p></blockquote></li><li><code>==</code><blockquote><p>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ï¼›<br>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°ä¸æ˜¯ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ valueOf()æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„åŸºæœ¬ç±»å‹å€¼æŒ‰ç…§å‰é¢çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒï¼›<br><code>null</code>å’Œ<code>undefined</code>æ˜¯ç›¸ç­‰çš„ã€‚<br> è¦æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰ï¼Œä¸èƒ½å°†<code>null</code>å’Œ<code>undefined</code>è½¬æ¢æˆå…¶ä»–ä»»ä½•å€¼ã€‚<br>ç”±äºç›¸ç­‰å’Œä¸ç›¸ç­‰æ“ä½œç¬¦å­˜åœ¨ç±»å‹è½¬æ¢é—®é¢˜ï¼Œè€Œä¸ºäº†ä¿æŒä»£ç ä¸­æ•°æ®ç±»å‹çš„å®Œæ•´æ€§ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å…¨ç­‰å’Œä¸å…¨ç­‰æ“ä½œç¬¦ã€‚</p></blockquote></li><li>ES5ä¹‹å‰<code>for in</code>é‡åˆ°<code>null</code>æˆ–<code>undefined</code>ä¼šæŠ¥é”™,ES5ä¿®æ­£äº†è¿™ä¸ªé”™è¯¯,å¦‚æœéœ€è¦å…¼å®¹.å…ˆæ£€æµ‹ç¡®è®¤è¯¥å¯¹è±¡çš„å€¼ä¸æ˜¯<code>null</code>æˆ–<code>undefined</code>ã€‚</li><li><blockquote><p>ç”±äºå¤§é‡ä½¿ç”¨<code>with</code>è¯­å¥ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼ŒåŒæ—¶ä¹Ÿä¼šç»™è°ƒè¯•ä»£ç é€ æˆå›°éš¾ï¼Œå› æ­¤åœ¨å¼€å‘å¤§å‹åº”ç”¨ç¨‹åºæ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨<code>with</code>è¯­å¥ã€‚</p></blockquote></li><li>åœ¨ä½¿ç”¨<code>switch</code>æ—¶çš„<code>case</code>å¯ä»¥ä¸ºè¡¨è¾¾å¼æˆ–å„ç§ç±»å‹ä¸åŒçš„æ•°æ®.</li><li><blockquote><p><code>return</code>è¯­å¥ä¹Ÿå¯ä»¥ä¸å¸¦æœ‰ä»»ä½•è¿”å›å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå‡½æ•°åœ¨åœæ­¢æ‰§è¡Œåå°†è¿”å› <code>undefined</code>å€¼ã€‚å»ºè®®è¦ä¹ˆå§‹ç»ˆè¿”å›ä¸€ä¸ªå€¼,è¦ä¹ˆå°±ç›´æ¥<code>return</code>.</p></blockquote></li><li><code>arguments</code>å’Œå‚æ•°çš„å€¼æ—¶åˆ»ä¿æŒåŒæ­¥,ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå°±ä¼šåŒæ­¥å¦ä¸€ä¸ª,å¦‚æœä¼ å…¥çš„æ˜¯å¯¹è±¡,ä»–ä»¬å ç”¨çš„å…¶å®è¿˜æ˜¯åŒä¸€ç‰‡å†…å­˜ç©ºé—´. </li><li><code>arguments</code>æ•°ç»„çš„é•¿åº¦æ˜¯ç”±ä¼ å…¥çš„å‚æ•°çš„ä¸ªæ•°å†³å®šçš„,æ‰€ä»¥å¦‚æœåªä¼ å…¥ä¸€ä¸ªå‚æ•°,ä½†æ˜¯ä¿®æ”¹<code>arguments[1]</code>ä¹Ÿåªä¼šä¿®æ”¹ä¸€ä¸ªä¸å­˜åœ¨çš„å€¼,<code>arguments</code>çš„é•¿åº¦åƒ<code>array</code>ä¸€æ ·å¯ä»¥éšæ„ä¿®æ”¹.</li><li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹,å¯¹<code>arguments</code>çš„ä¿®æ”¹ä¸ä¼šå†åŒæ­¥åˆ°å‚æ•°ä¸Š,åè¿‡æ¥ä¹Ÿä¸ä¼šåŒæ­¥.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a1, a2, a3</span>)</span>&#123;</div><div class="line"><span class="built_in">console</span>.log(a2); <span class="comment">//5</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>]); <span class="comment">//5</span></div><div class="line">a2 = <span class="number">99</span>;</div><div class="line"><span class="built_in">console</span>.log(a2); <span class="comment">//99</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>]); <span class="comment">//5</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">test(<span class="number">3</span>, <span class="number">5</span>);</div></pre></td></tr></table></figure></li></ul><h2 id="Chapter-4"><a href="#Chapter-4" class="headerlink" title="Chapter 4"></a>Chapter 4</h2><h3 id="4-1"><a href="#4-1" class="headerlink" title="4.1"></a>4.1</h3><ul><li><blockquote><p>ECMAScript ä¸­æ‰€æœ‰å‡½æ•°çš„å‚æ•°éƒ½æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚  </p></blockquote></li></ul><p>å…ˆçœ‹ä¸¤ä¸ªä¾‹å­<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> animals = &#123;</div><div class="line">mammals : &#123;</div><div class="line">dog : <span class="number">1</span>,</div><div class="line">cat : <span class="number">2</span></div><div class="line">&#125;,</div><div class="line">others : <span class="string">"999"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeAnimal</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">obj.mammals = <span class="string">"no mammals"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">changeAnimal(animals);</div><div class="line"><span class="built_in">console</span>.log(animals.mammals);<span class="comment">//no mammals</span></div></pre></td></tr></table></figure></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> animals = &#123;</div><div class="line">mammals: &#123;</div><div class="line">dog: <span class="number">1</span>,</div><div class="line">cat: <span class="number">2</span></div><div class="line">&#125;,</div><div class="line">others: <span class="string">"999"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeAnimal</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">obj = &#123;</div><div class="line">mammals: &#123;</div><div class="line">rabbit : <span class="number">3</span>,</div><div class="line">pig: <span class="number">4</span></div><div class="line">&#125;,</div><div class="line">others: <span class="string">"666"</span></div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">changeAnimal(animals);</div><div class="line"><span class="built_in">console</span>.log(animals.mammals);<span class="comment">//Object &#123;dog: 1, cat: 2&#125;</span></div></pre></td></tr></table></figure><p>æ€ä¹ˆç†è§£æŒ‰å€¼ä¼ é€’,å¯ä»¥å°†å…¶ç†è§£ä¸ºC++çš„æŒ‡é’ˆ,ç›¸å½“äº<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Animal* animals = <span class="keyword">new</span> Animals()</div></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¹³æ—¶æ“ä½œçš„éƒ½æ˜¯è¿™ä¸ªæŒ‡é’ˆå¯¹è±¡.å½“å‡½æ•°ä¼ é€’ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™,å®é™…ä¸Šä¼ é€’çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡çš„æ·±æ‹·è´,ä¸¤ä¸ªæŒ‡é’ˆå ç”¨å†…å­˜ç‹¬ç«‹,ä½†æŒ‡å‘åŒä¸€å—å†…å­˜çš„å¯¹è±¡.</p><p>åœ¨ä¸Šé¢çš„ç¬¬ä¸€ä¸ªä¾‹å­ä¸­,ä¼ å…¥çš„<code>obj</code>å‚æ•°æ˜¯æ–°å»ºç«‹çš„æŒ‡å‘<code>animals</code>çš„æŒ‡é’ˆ,å¯¹å…¶è¿›è¡Œçš„æ“ä½œç›¸å½“äºC++ä¸­çš„<code>obj-&gt;mammals =</code>,æ‰€ä»¥æˆåŠŸçš„ä¿®æ”¹äº†<code>animals</code>çš„å€¼.<br>åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­,è¿›å…¥<code>changeAnimal</code>å‡½æ•°,<code>obj</code>ä¾æ—§æ˜¯æ–°å»ºç«‹çš„æŒ‡å‘<code>animals</code>çš„æŒ‡é’ˆ,ä½†æ˜¯éšåçš„æ“ä½œå…¶å®æ˜¯å°†<code>obj</code>æŒ‡å‘äº†æ–°ç”Ÿæˆçš„åŒ¿åå¯¹è±¡,ç›¸å½“äº<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeAnimal</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line"><span class="keyword">var</span> newAnimal = &#123;</div><div class="line">mammals: &#123;</div><div class="line">rabbit : <span class="number">3</span>,</div><div class="line">pig: <span class="number">4</span></div><div class="line">&#125;,</div><div class="line">others: <span class="string">"666"</span></div><div class="line">&#125;</div><div class="line">obj = newAnimal;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>æœ€åä¸€å¥<code>obj = newAnimal</code>, å…¶å®å°±æ˜¯ä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´çš„èµ‹å€¼äº†,<code>newAnimal</code>æ˜¯æŒ‡å‘<code>newAnimal</code>å¯¹è±¡çš„æŒ‡é’ˆ,å°†å®ƒèµ‹å€¼ç»™äº†<code>obj</code>,<code>obj</code>å°±æ˜¯æŒ‡å‘æ–°çš„å¯¹è±¡äº†,<code>obj</code>æ‰€æŒ‡çš„<code>animals</code>è¿˜æ²¡æœ‰è¢«åŠ¨è¿‡,ä½†<code>obj</code>ä»æ­¤åˆ‡æ–­äº†ä¸åŸæ¥çš„<code>animals</code>çš„å…³ç³»,åœ¨ç¦»å¼€è¿™ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„æ—¶å€™,<code>newAnimal</code>è¿åŒ<code>obj</code>ä¼šè¢«ä¸€èµ·å›æ”¶æ‰.</p><ul><li><blockquote><p>åƒåœ¾æ”¶é›†å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡éƒ½åŠ ä¸Šæ ‡è®°ï¼ˆå½“ç„¶ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•æ ‡è®°æ–¹å¼ï¼‰ã€‚ç„¶åï¼Œå®ƒä¼šå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°ã€‚è€Œåœ¨æ­¤ä¹‹åå†è¢«åŠ ä¸Šæ ‡è®°çš„å˜é‡å°†è¢«è§†ä¸ºå‡†å¤‡åˆ é™¤çš„å˜é‡ï¼ŒåŸå› æ˜¯ç¯å¢ƒä¸­çš„å˜é‡å·²ç»æ— æ³•è®¿é—®åˆ°è¿™äº›å˜é‡äº†ã€‚æœ€åï¼Œåƒåœ¾æ”¶é›†å™¨å®Œæˆå†…å­˜æ¸…é™¤å·¥ä½œï¼Œé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</p></blockquote></li><li><p>IE9çš„<code>BOM</code>å’Œ<code>DOM</code>ä¸­çš„å¯¹è±¡å…¶å®éƒ½æ˜¯ä»¥<code>COM</code>å¯¹è±¡çš„å½¢å¼æ¥å®ç°çš„,è€Œ<code>COM</code>ä½¿ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°,æ‰€ä»¥å¦‚æœ<code>COM</code>å‘ç”Ÿäº†å¾ªç¯å¼•ç”¨,éœ€è¦ä½¿ç”¨<code>=null</code>åˆ‡æ–­å¼•ç”¨.</p></li><li><blockquote><p>è§£é™¤ä¸€ä¸ªå€¼çš„å¼•ç”¨å¹¶ä¸æ„å‘³ç€è‡ªåŠ¨å›æ”¶è¯¥å€¼æ‰€å ç”¨çš„å†…å­˜ã€‚è§£é™¤å¼•ç”¨çš„çœŸæ­£ä½œç”¨æ˜¯è®©å€¼è„±ç¦»æ‰§è¡Œç¯å¢ƒï¼Œä»¥ä¾¿åƒåœ¾æ”¶é›†å™¨ä¸‹æ¬¡è¿è¡Œæ—¶å°†å…¶å›æ”¶ã€‚</p></blockquote></li></ul><h2 id="Chapter-5"><a href="#Chapter-5" class="headerlink" title="Chapter 5"></a>Chapter 5</h2><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><ul><li>ä½¿ç”¨<code>istanceof Array</code>ä¼šåœ¨ç½‘é¡µä¸­å­˜åœ¨å¤šä¸ªæ¡†æ¶æ—¶å‡ºç°é—®é¢˜,å¦‚æœæœ‰å¤šä¸ªæ¡†æ¶,åˆ™æœ‰å¤šä¸ªå…¨å±€æ‰§è¡Œç¯å¢ƒ,åˆ™æœ‰å¤šä¸ª<code>Array</code>çš„æ„é€ å‡½æ•°.å½“ä¸€ä¸ªæ•°ç»„ä»ä¸€ä¸ªæ¡†æ¶ä¼ å…¥å¦ä¸€ä¸ªæ¡†æ¶,å†è°ƒç”¨<code>istanceof</code>åˆ™ä¸ä¼šæ˜¯å¦ä¸€ä¸ªæ¡†æ¶çš„æ„é€ å‡½æ•°.ES5åŠ å…¥äº†<code>Array.isArray()</code>ç”¨æ¥æ£€æµ‹æ˜¯å¦ä¸º<code>Array</code>.</li><li>æ•°ç»„çš„<code>toString()</code>ä¼šè¿”å›<code>,</code>åˆ†å‰²çš„å­—ç¬¦ä¸²,å…¶ä¸­æ¯ä¸€é¡¹åˆ†åˆ«è°ƒç”¨äº†<code>toString()</code>,è‡³äº<code>valueOf()</code>,åˆ™è¿”å›åŸå­—ç¬¦ä¸².</li><li><code>sort</code>çš„<code>cmp</code>å‡½æ•°è§„åˆ™:å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥ä½äºç¬¬äºŒä¸ªä¹‹å‰åˆ™è¿”å›ä¸€ä¸ªè´Ÿæ•°ï¼Œå¦‚æœä¸¤ä¸ªå‚æ•°ç›¸ç­‰åˆ™è¿”å› <code>0</code>ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥ä½äºç¬¬äºŒä¸ªä¹‹ååˆ™è¿”å›ä¸€ä¸ªæ­£æ•°ã€‚</li><li>ä¸ç»™<code>concat()</code>è¾“å…¥å‚æ•°å¯ä»¥å¿«é€Ÿçš„å¤åˆ¶ä¸€ä¸ªæ•°ç»„.</li><li><code>Array.indexOf()</code>å’Œ<code>Array.lastIndexOf()</code>åœ¨æ¯”è¾ƒæ—¶ä½¿ç”¨çš„æ˜¯<code>===</code></li><li><code>Array.reduce()</code>å’Œ<code>Array.reduceRight()</code>ä»ç¬¬äºŒ(å€’æ•°ç¬¬äºŒ)é¡¹å¼€å§‹.</li></ul><h3 id="Reg"><a href="#Reg" class="headerlink" title="Reg"></a>Reg</h3><ul><li><p>å…¨å±€åŒ¹é…<code>g</code>çš„æ—¶å€™,æ¯æ¬¡åŒ¹é…ä¼šä¾æ¬¡åŒ¹é…æ‰€æœ‰çš„åŒ¹é…é¡¹,å½“æ²¡æœ‰æ—¶,è¿”å›<code>null</code>å†ä»å¤´å¼€å§‹.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/.a/g</span>;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">  <span class="keyword">var</span> out = reg1.exec(<span class="string">"catastropathae"</span>);</div><div class="line">  <span class="built_in">console</span>.log(out)</div><div class="line">&#125;</div><div class="line"></div><div class="line">test.html:<span class="number">14</span> [<span class="string">"ca"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> [<span class="string">"ta"</span>, <span class="attr">index</span>: <span class="number">2</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> [<span class="string">"pa"</span>, <span class="attr">index</span>: <span class="number">8</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> [<span class="string">"ha"</span>, <span class="attr">index</span>: <span class="number">11</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> <span class="literal">null</span></div><div class="line">test.html:<span class="number">14</span> [<span class="string">"ca"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> [<span class="string">"ta"</span>, <span class="attr">index</span>: <span class="number">2</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> [<span class="string">"pa"</span>, <span class="attr">index</span>: <span class="number">8</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> [<span class="string">"ha"</span>, <span class="attr">index</span>: <span class="number">11</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div><div class="line">test.html:<span class="number">14</span> <span class="literal">null</span></div><div class="line">test.html:<span class="number">20</span> [<span class="string">"ca"</span>, <span class="attr">index</span>: <span class="number">0</span>, <span class="attr">input</span>: <span class="string">"catastropathae"</span>]</div></pre></td></tr></table></figure></li><li><p><code>toString()</code>å’Œ<code>toLocaleString()</code>éƒ½ä¼šè¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„å­—é¢é‡,ä¸åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼æ— å…³.<code>valueOf()</code>è¿”å›æ­£åˆ™è¡¨è¾¾å¼è‡ªèº«.</p></li><li>ä½¿ç”¨<code>Reg.$1 - Reg.$9</code>å¯ä»¥è®¿é—®å­˜å‚¨çš„æ•è·ç»„,è¿™æ ·å³ä½¿<code>.test()</code>åªè¿”å›å¸ƒå°”å€¼,ä¹Ÿå¯ä»¥è·å¾—æ•è·ç»„.</li></ul><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><ul><li><blockquote><p>å‡½æ•°æ˜¯å¯¹è±¡,å‡½æ•°åæ˜¯æŒ‡é’ˆ,å¯ä»¥ç”¨<code>null</code>åˆ‡æ–­ä»–ä»¬ä¹‹é—´çš„è”ç³».</p></blockquote></li><li>å‡½æ•°ä¸­æœ‰<code>arguments.callee</code>æŒ‡å‘è¿™ä¸ªå‡½æ•°æœ¬èº«,å¯ä»¥åº”ç”¨åœ¨é€’å½’å‡½æ•°ä¸­,åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ— æ³•è®¿é—®.</li><li><code>arguments.callee.caller</code>å¯ä»¥æ˜¾ç¤ºè°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°çš„å¼•ç”¨,åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ— æ³•è®¿é—®.</li><li><code>toString()</code> <code>toLocaleString()</code> <code>valueOf()</code>éƒ½è¿”å›å‡½æ•°çš„ä»£ç .</li></ul><h3 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h3><ul><li>åœ¨å¯¹åŸºæœ¬ç±»å‹è¿›è¡Œå¤„ç†çš„æ—¶å€™,ä¼šéšå¼åˆ›å»ºä¸€ä¸ª<code>String</code>,åœ¨å¤„ç†å®Œä¹‹åå†ç«‹å³é”€æ¯(æŒ‡å‘<code>null</code>).æ‰€ä»¥å…¶ç”Ÿå‘½å‘¨æœŸä¸å¯æ§.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="string">"sss"</span>;</div><div class="line">s1.name = <span class="string">"sssName"</span>;</div><div class="line"><span class="built_in">console</span>.log(s1.name);<span class="comment">//undefined</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"ssss"</span>);</div><div class="line">s2.name = <span class="string">"ssssName"</span>;</div><div class="line"><span class="built_in">console</span>.log(s2.name);<span class="comment">//ssssName</span></div></pre></td></tr></table></figure></li></ul><h4 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h4><ul><li>ä¸å»ºè®®ä½¿ç”¨,<code>Boolean</code>å¯¹è±¡çš„å®ä¾‹æ˜¯å¯¹è±¡,ä½†æ˜¯å¯¹è±¡çš„å¸ƒå°”è¿ç®—éƒ½æ˜¯<code>true</code>.</li></ul><h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><ul><li><blockquote><p><code>toFixed()</code>æ–¹æ³•ä¼šæŒ‰ç…§æŒ‡å®šçš„å°æ•°ä½è¿”å›æ•°å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤º.</p></blockquote></li><li><blockquote><p>å¯ç”¨äºæ ¼å¼åŒ–æ•°å€¼çš„æ–¹æ³•æ˜¯<code>toExponential()</code>ï¼Œè¯¥æ–¹æ³•è¿”å›ä»¥æŒ‡æ•°è¡¨ç¤ºæ³•ï¼ˆä¹Ÿç§° e è¡¨ç¤ºæ³•ï¼‰</p></blockquote></li><li><blockquote><p><code>toPrecision()</code>æ–¹æ³•å¯èƒ½ä¼šè¿”å›å›ºå®šå¤§å°ï¼ˆfixedï¼‰æ ¼å¼ï¼Œä¹Ÿå¯èƒ½è¿”å›æŒ‡æ•°<br>ï¼ˆexponentialï¼‰æ ¼å¼ï¼›å…·ä½“è§„åˆ™æ˜¯çœ‹å“ªç§æ ¼å¼æœ€åˆé€‚ã€‚</p></blockquote></li><li><code>charCodeAt()</code>ç”¨æ¥è®¿é—®æŸä¸ªå­—ç¬¦çš„ASCIIç </li><li><code>replace()</code>çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°,å‚æ•°ä¾æ¬¡æ˜¯æ¨¡å¼çš„åŒ¹é…é¡¹,æ¨¡å¼åŒ¹é…é¡¹åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®å’ŒåŸå§‹å­—ç¬¦ä¸².è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºè¦æ›¿æ¢çš„å­—ç¬¦ä¸².</li><li><code>split()</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä½¿æ­£åˆ™è¡¨è¾¾å¼.</li><li><code>localeCompare()</code>è¿”å›çš„å€¼å–å†³äºå®ç°,æ‰€ä»¥åœ¨ä½¿ç”¨å‰åº”å½“ç¡®è®¤å¥½.</li><li><code>String.fromeCharCode()</code>å°†ASCIIç è½¬ä¸ºå­—ç¬¦ä¸².</li></ul><h3 id="5-7"><a href="#5-7" class="headerlink" title="5.7"></a>5.7</h3><ul><li><code>encodeURI()</code>ä¸ä¼šå¯¹æœ¬èº«å±äºURIçš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç ,<code>encodeURIComponent()</code>åˆ™ä¼šå¯¹å®ƒå‘ç°çš„ä»»ä½•éæ ‡å‡†å­—ç¬¦è¿›è¡Œç¼–ç .ç›¸åçš„æ“ä½œæ˜¯<code>decodeURI()</code>å’Œ<code>decodeURIComponent()</code></li><li>æ¯”å¦‚å–1-10çš„æ•´æ•°,å€¼ = <code>Math.floor(Math.random()</code> * <code>å¯èƒ½å€¼çš„æ€»æ•°</code> + <code>ç¬¬ä¸€ä¸ªå¯èƒ½çš„å€¼</code>.</li></ul><h2 id="Chapter-6"><a href="#Chapter-6" class="headerlink" title="Chapter 6"></a>Chapter 6</h2><h3 id="6-1"><a href="#6-1" class="headerlink" title="6.1"></a>6.1</h3><ul><li><blockquote><p>åœ¨è°ƒç”¨<code>Object.defineProperty()</code>æ–¹æ³•æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œ<code>configurable</code>ã€ <code>enumerable</code>å’Œ<code>writable</code>ç‰¹æ€§çš„é»˜è®¤å€¼éƒ½æ˜¯<code>false</code>ã€‚</p></blockquote></li><li><blockquote><p>ä¸€æ—¦æŠŠå±æ€§å®šä¹‰ä¸ºä¸å¯é…ç½®çš„ï¼Œå°±ä¸èƒ½å†æŠŠå®ƒå˜å›å¯é…ç½®äº†ã€‚æ­¤æ—¶ï¼Œå†è°ƒç”¨<code>Object.defineProperty()</code>æ–¹æ³•ä¿®æ”¹é™¤ <code>writable</code>ä¹‹å¤–çš„ç‰¹æ€§ï¼Œéƒ½ä¼šå¯¼è‡´é”™è¯¯.</p></blockquote></li></ul><p>ä¹¦ä¸Šæ˜¯è¿™ä¹ˆå†™çš„,ä½†äº‹å®çœŸçš„æ˜¯è¿™æ ·å—?<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj1 = &#123;</div><div class="line">  name: <span class="string">"111"</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(obj1, <span class="string">"name"</span>, &#123;</div><div class="line">  configurable: <span class="literal">false</span>,</div><div class="line">  writable: <span class="literal">true</span>,</div><div class="line">&#125;)</div><div class="line"></div><div class="line">obj1.name = <span class="string">"222"</span>;</div><div class="line"><span class="built_in">console</span>.log(obj1.name)<span class="comment">//222</span></div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(obj1, <span class="string">"name"</span>, &#123;</div><div class="line">  writable: <span class="literal">false</span>,</div><div class="line">&#125;)</div><div class="line">obj1.name = <span class="string">"333"</span>;</div><div class="line"><span class="built_in">console</span>.log(obj1.name)<span class="comment">//22</span></div></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°,å†<code>Configurable</code>è¢«è®¾ç½®ä¸º<code>false</code>çš„æƒ…å†µä¸‹,å¯ä»¥å°†<code>writable</code>ç”±<code>true</code>æ”¹ä¸º<code>false</code>,ä½†æ˜¯<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj1 = &#123;</div><div class="line">  name: <span class="string">"111"</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(obj1, <span class="string">"name"</span>, &#123;</div><div class="line">  configurable: <span class="literal">false</span>,</div><div class="line">  writable: <span class="literal">false</span>,</div><div class="line">&#125;)</div><div class="line"></div><div class="line">obj1.name = <span class="string">"222"</span>;</div><div class="line"><span class="built_in">console</span>.log(obj1.name)<span class="comment">//111</span></div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(obj1, <span class="string">"name"</span>, &#123;</div><div class="line">  writable: <span class="literal">true</span>,</div><div class="line">&#125;)</div><div class="line">obj1.name = <span class="string">"333"</span>;</div><div class="line"><span class="built_in">console</span>.log(obj1.name)<span class="comment">//test.html:24 Uncaught TypeError: Cannot redefine property: name</span></div></pre></td></tr></table></figure></p><p>å´ä¸èƒ½å°†<code>false</code>æ”¹ä¸º<code>true</code>,è¯´æ˜ä¸€ä½†å°†<code>Configurable</code>å±æ€§è®¾ç½®ä¸º<code>false</code>ä¹‹å,åªèƒ½å°†å±æ€§çš„å¯é…ç½®å±æ€§å¾€ä½æ”¹.å¦å¤–,å¦‚æœ<code>Configurable</code>å±æ€§è®¾ç½®ä¸º<code>false</code>æ—¶æ”¹å†™<code>enumerable</code> <code>Writable</code>å±æ€§,å¦‚æœæ”¹å†™å‰ååŒä¸º<code>false</code>æˆ–åŒä¸º<code>true</code>æˆ–è€…ä¹‹å‰æåˆ°çš„å°†<code>Writable</code>ç”±<code>true</code>å˜ä¸º<code>false</code>,åˆ™ä¸ä¼šæŠ¥é”™,å¦åˆ™ä¼šæŠ¥é”™.</p><h3 id="6-2"><a href="#6-2" class="headerlink" title="6.2"></a>6.2</h3><ul><li><p>é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹çš„è¿‡ç¨‹è¦ç»è¿‡å››ä¸ªæ­¥éª¤:</p><blockquote><ol><li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼›</li><li>å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡ï¼ˆå› æ­¤ this å°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡ï¼‰ï¼›</li><li>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰ï¼›</li><li>è¿”å›æ–°å¯¹è±¡ã€‚</li></ol></blockquote></li><li><p>å¯ä»¥ä½¿ç”¨å½¢å¦‚<code>var obj = {}; Person.call(obj);</code>æ¥æ‰§è¡Œæ„é€ å‡½æ•°,å› ä¸º<code>call</code>å’Œ<code>apply</code>çš„æœ¬è´¨å°±æ˜¯è®¾ç½®å‡½æ•°ä½“å†…<code>this</code>çš„å€¼.</p></li><li><blockquote><p>æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œåªè¦åˆ›å»ºäº†ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå°±ä¼šæ ¹æ®ä¸€ç»„ç‰¹å®šçš„è§„åˆ™ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ª <code>prototype</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª<code>constructor</code>ï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«ä¸€ä¸ªæŒ‡å‘<code>prototype</code>å±æ€§æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆã€‚</p></blockquote></li><li><blockquote><p>ECMAScript 5 çš„<code>Object.getOwnPropertyDescriptor()</code>æ–¹æ³•åªèƒ½ç”¨äºå®ä¾‹å±æ€§ï¼Œè¦å–å¾—åŸå‹å±æ€§çš„æè¿°ç¬¦ï¼Œå¿…é¡»ç›´æ¥åœ¨åŸå‹å¯¹è±¡ä¸Šè°ƒç”¨<code>Object.getOwnPropertyDescriptor()</code>æ–¹æ³•ã€‚</p></blockquote></li></ul><p>æ‰€ä»¥æ˜¯è¯´ä½¿ç”¨<code>getOwnPropertyDescriptor()</code>åªèƒ½è·å¾—å½“å‰å®ä¾‹çš„å±æ€§,ä¸èƒ½è®¿é—®ç»§æ‰¿è€Œæ¥çš„å±æ€§.</p><ul><li><code>in</code>æ“ä½œç¬¦å¯ä»¥è¿”å›å¯¹è±¡æ˜¯å¦å…·æœ‰æŸä¸ªå±æ€§,æ— è®ºè¿™ä¸ªå±æ€§æ˜¯å®ä¾‹å…·æœ‰çš„è¿˜æ˜¯ç»§æ‰¿è‡ªåŸå‹,é…åˆ<code>hasOwnProperty()</code>å¯ä»¥åˆ¤æ–­å±æ€§æ˜¯æ¥è‡ªåŸå‹è¿˜æ˜¯è‡ªæœ‰.</li><li><blockquote><p> è¦å–å¾—å¯¹è±¡ä¸Šæ‰€æœ‰å¯æšä¸¾çš„<strong>å®ä¾‹</strong>å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ECMAScript 5 çš„<code>Object.keys()</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰<strong>å¯æšä¸¾å±æ€§</strong>çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚</p></blockquote></li><li><blockquote><p>å¦‚æœä½ æƒ³è¦å¾—åˆ°æ‰€æœ‰å®ä¾‹å±æ€§ï¼Œæ— è®ºå®ƒæ˜¯å¦å¯æšä¸¾ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ <code>Object.getOwnPropertyNames()</code>æ–¹æ³•ã€‚</p></blockquote></li><li><code>instanceof</code>è¿ç®—ç¬¦ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦å­˜åœ¨å¦å¤–ä¸€ä¸ªè¦æ£€æµ‹å¯¹è±¡çš„åŸå‹é“¾ä¸Š,æ‰€ä»¥å³ä½¿å°†<code>obj.constructor.prototype</code>é‡å†™,å¯¼è‡´<code>prototype</code>çš„<code>constructor</code>ä¸å†æŒ‡å‘æ„é€ å‡½æ•°,<code>instanceof</code>ä¹Ÿå¯ä»¥æ­£ç¡®çš„æŒ‡ç¤º.</li><li>ç›´æ¥é‡å†™<code>prototype</code>ä¼šå¯¼è‡´åŸæœ¬ä¸å¯æšä¸¾çš„<code>constructor</code>å±æ€§å˜å¾—å¯ä»¥æšä¸¾,å¯ä»¥åœ¨æœ€åä½¿ç”¨<code>Object.defineProperty()</code>æ¥å®šä¹‰ä¸€ä¸ªä¸å¯æšä¸¾çš„<code>constructor</code>.</li><li><blockquote><p>å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹åï¼Œè¯¥å®ä¾‹çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ˆå†…éƒ¨<br>å±æ€§ï¼‰ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ å³<code>[[Prototype]]</code></p></blockquote></li></ul><p>æ‰€ä»¥,åœ¨é‡å†™åŸå‹å¯¹è±¡ä¹‹å,è€çš„å®ä¾‹æ‰€æŒ‡å‘çš„åŸå‹å¯¹è±¡ä»ç„¶æ˜¯è€çš„åŸå‹å¯¹è±¡,è€Œä¸æ˜¯æ–°çš„.æ˜¯ä¸ä¼šåŠ¨æ€æ›´æ–°çš„.</p><ul><li>å¯„ç”Ÿæ„é€ å’Œç¨³å¦¥å¯„ç”Ÿæ„é€ çš„åŒºåˆ«å°±æ˜¯,ç¨³å¦¥å¯„ç”Ÿæ„é€ åˆ›å»ºçš„å®ä¾‹åªæœ‰æ–¹æ³•è€Œæ²¡æœ‰å±æ€§,ç¨³å¦¥å¯„ç”Ÿæ„é€ çš„å±æ€§æ˜¯é€šè¿‡å®šä¹‰åœ¨æ„é€ å‡½æ•°å†…éƒ¨,é€šè¿‡é—­åŒ…è¿›è¡Œè®¿é—®çš„.ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼æä¾›çš„è¿™ç§å®‰å…¨æ€§ï¼Œä½¿å¾—å®ƒéå¸¸é€‚åˆåœ¨æŸäº›å®‰å…¨æ‰§è¡Œç¯å¢ƒä¸‹ä½¿ç”¨.<h3 id="6-3"><a href="#6-3" class="headerlink" title="6.3"></a>6.3</h3></li><li>å€Ÿç”¨æ„é€ å‡½æ•°<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="comment">//ç»§æ‰¿äº† SuperTypeï¼ŒåŒæ—¶è¿˜ä¼ é€’äº†å‚æ•°</span></div><div class="line">  SuperType.call(<span class="keyword">this</span>, <span class="string">"Nicholas"</span>);</div><div class="line">  <span class="comment">//å®ä¾‹å±æ€§</span></div><div class="line">  <span class="keyword">this</span>.age = <span class="number">29</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> sub1 = <span class="keyword">new</span> SubType();</div><div class="line"><span class="built_in">console</span>.log(sub1 <span class="keyword">instanceof</span> SubType);<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(sub1 <span class="keyword">instanceof</span> SuperType);<span class="comment">//false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(sub1) == SubType.prototype);<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(<span class="built_in">Object</span>.getPrototypeOf(sub1)) == <span class="built_in">Object</span>.prototype);<span class="comment">//true</span></div></pre></td></tr></table></figure></li></ul><p>å¯ä»¥çœ‹å‡º<code>SuperType</code>å·²ç»ä¸åœ¨<code>sub1</code>çš„åŸå‹é“¾ä¸Šäº†,æ‰€ä»¥<code>SubType</code>çš„å®ä¾‹åªèƒ½è°ƒç”¨<code>SuperType</code>æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•,è€Œæ— æ³•ç»§æ‰¿<code>SuperType</code>çš„åŸå‹å±æ€§.</p><h2 id="Chapter-7"><a href="#Chapter-7" class="headerlink" title="Chapter 7"></a>Chapter 7</h2><h3 id="7-2"><a href="#7-2" class="headerlink" title="7.2"></a>7.2</h3><ul><li><blockquote><p>ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼Œå®ƒåªå¼•ç”¨ä½†ä¸å®é™…åŒ…å«å˜é‡å¯¹è±¡.</p></blockquote></li></ul><p>åœ¨<strong>åˆ›å»º</strong>å±€éƒ¨å‡½æ•°æ—¶,ä¼šåˆ›å»ºä¸€ä¸ªé¢„å…ˆåŒ…å«å…¨å±€å˜é‡çš„ä½œç”¨åŸŸé“¾,ç„¶åå°†è¿™ä¸ªä½œç”¨åŸŸé“¾ä¿å­˜åœ¨<strong>å†…éƒ¨çš„<code>[[Scope]]</code>å±æ€§ä¸­</strong>.å½“<strong>è°ƒç”¨</strong>å±€éƒ¨å‡½æ•°æ—¶,ä¼šä¸ºå‡½æ•°åˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒ,ç„¶åé€šè¿‡<strong>å¤åˆ¶</strong>å‡½æ•°çš„<code>[[Scope]]</code>å±æ€§ä¸­çš„å¯¹è±¡æ„å»ºèµ·<strong>æ‰§è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé“¾</strong>.æ­¤å,å½“æœ‰æ–°çš„å˜é‡å¯¹è±¡è¢«åˆ›å»ºä¼šè¢«æ¨å…¥<strong>æ‰§è¡Œç¯å¢ƒä½œç”¨åŸŸé“¾çš„å‰ç«¯</strong>.</p><ul><li>é—­åŒ…ä¹‹æ‰€ä»¥èƒ½æŒç»­å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡,æ˜¯å› ä¸ºé—­åŒ…å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸­è¿˜åœ¨æŒç»­å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡.æ‰€ä»¥,æ­¤æ—¶å¤–éƒ¨å‡½æ•°çš„<strong>ä½œç”¨åŸŸé“¾å·²ç»è¢«é”€æ¯äº†</strong>,ä½†æ´»åŠ¨å¯¹è±¡æ‰”èƒ½åœç•™åœ¨å†…å­˜ä¸­.</li><li>è¿˜æ˜¯ä½¿ç”¨<code>null</code>æ¥è§¦å¯¹é—­åŒ…çš„å¼•ç”¨~</li><li><blockquote><p>JavaScriptä»æ¥ä¸ä¼šå‘Šè¯‰ä½ æ˜¯å¦å¤šæ¬¡å£°æ˜äº†åŒä¸€ä¸ªå˜é‡ï¼›é‡åˆ°è¿™ç§æƒ…å†µï¼Œå®ƒåªä¼šå¯¹åç»­çš„å£°æ˜è§†è€Œä¸è§ï¼ˆä¸è¿‡ï¼Œå®ƒä¼šæ‰§è¡Œåç»­å£°æ˜ä¸­çš„å˜é‡åˆå§‹åŒ–ï¼‰ã€‚</p></blockquote></li><li>ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å¯ä»¥æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ,å¥½å¤„æ˜¯å› ä¸ºæ²¡æœ‰æŒ‡å‘åŒ¿åå‡½æ•°çš„å¼•ç”¨.åªè¦å‡½æ•°æ‰§è¡Œå®Œæ¯•,å°±å¯ä»¥ç«‹å³é”€æ¯å…¶ä½œç”¨åŸŸé“¾äº†.</li></ul><h2 id="Chapter-10"><a href="#Chapter-10" class="headerlink" title="Chapter 10"></a>Chapter 10</h2><h3 id="10-1"><a href="#10-1" class="headerlink" title="10.1"></a>10.1</h3><ul><li>IEæ²¡æœ‰å®ç°<code>Node</code>ç±»å‹,æ‰€ä»¥æ— æ³•é€šè¿‡è®¿é—®ç±»ä¼¼<code>Node.ELEMENT_NODE</code>çš„å¸¸é‡æ¥åˆ¤æ–­èŠ‚ç‚¹çš„ç±»å‹,æœ€å¥½æ˜¯ç”¨æ•°å­—.<h4 id="Nodeå¯¹è±¡çš„æ–¹æ³•"><a href="#Nodeå¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="Nodeå¯¹è±¡çš„æ–¹æ³•:"></a><code>Node</code>å¯¹è±¡çš„æ–¹æ³•:</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">hasChildNodes() <span class="comment">//æ˜¯å¦åŒ…å«å­èŠ‚ç‚¹</span></div><div class="line">ownDocument() <span class="comment">//æŒ‡å‘æ–‡æ¡£çš„æ–‡æ¡£èŠ‚ç‚¹</span></div><div class="line">appendChild() <span class="comment">//å¦‚æœèŠ‚ç‚¹å·²ç»å­˜åœ¨äºæ–‡æ¡£å½“ä¸­äº†,é‚£ä¹ˆä¼šå°†èŠ‚ç‚¹ç§»åŠ¨åˆ°æ–°çš„ä½ç½®</span></div><div class="line">replaceChild() <span class="comment">//æ›¿æ¢èŠ‚ç‚¹,ä½†è¢«æ›¿æ¢çš„èŠ‚ç‚¹è¿˜å­˜ç•™äºæ–‡æ¡£ä¸­,åªæ˜¯æ²¡åœ¨æ–‡æ¡£æ ‘ä¸­</span></div><div class="line">removeChild() <span class="comment">//åˆ é™¤èŠ‚ç‚¹,è¢«åˆ èŠ‚ç‚¹åŒä¸Š</span></div><div class="line">cloneChild() <span class="comment">//æ¥å—ä¸€ä¸ªå‚æ•°,trueä¸ºæ·±å¤åˆ¶,falseä¸ºæµ…å¤åˆ¶.è¿™ä¸ªæ–¹æ³•ä¸ä¼šå¤åˆ¶èŠ‚ç‚¹ä¸Šçš„äº‹ä»¶,ä½†åœ¨IEä¸­ä¼š</span></div><div class="line">normalize() <span class="comment">//åˆå¹¶åä»£çš„ç›¸é‚»æ–‡æœ¬èŠ‚ç‚¹å’Œåˆ é™¤ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹</span></div></pre></td></tr></table></figure></li></ul><h5 id="Documentå¯¹è±¡çš„æ–¹æ³•"><a href="#Documentå¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="Documentå¯¹è±¡çš„æ–¹æ³•:"></a><code>Document</code>å¯¹è±¡çš„æ–¹æ³•:</h5><ul><li><blockquote><p><code>domain</code>: å¦‚æœåŸŸåä¸€å¼€å§‹æ˜¯â€œæ¾æ•£çš„â€ï¼ˆlooseï¼‰ï¼Œé‚£ä¹ˆä¸èƒ½å°†å®ƒå†è®¾ç½®ä¸ºâ€œç´§ç»·çš„â€ï¼ˆtightï¼‰</p></blockquote></li><li><code>HTMLCollection</code>å¯¹è±¡æœ‰ä¸€ä¸ªæ–¹æ³•:<code>namedItem()</code>ç”¨æ¥æ ¹æ®<code>name</code>è·å–å¯¹è±¡,ä½†ä¸<code>getElementByName</code>ä¸åŒçš„æ˜¯,å®ƒåªä¼šè¿”å›ç¬¬ä¸€ä¸ª<code>name</code>ç¬¦åˆè¦æ±‚çš„èŠ‚ç‚¹.</li><li>åœ¨IEä¸­<code>getElementsByTagName()</code>ä¼šåŒ…å«æ‰€æœ‰æ³¨é‡ŠèŠ‚ç‚¹.</li><li><p>â€‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.anchors <span class="comment">//æ‰€æœ‰å¸¦nameç‰¹æ€§çš„&lt;a&gt;å…ƒç´ </span></div><div class="line"><span class="built_in">document</span>.applets <span class="comment">//æ‰€æœ‰&lt;applet&gt;å…ƒç´ ,æ²¡ç”¨è¿‡è¿™ä¸ªæ ‡ç­¾,ä¸€è„¸æ‡µé€¼</span></div><div class="line"><span class="built_in">document</span>.forms <span class="comment">//æ‰€æœ‰è¡¨å•</span></div><div class="line"><span class="built_in">document</span>.images <span class="comment">//æ‰€æœ‰imgå…ƒç´ </span></div><div class="line"><span class="built_in">document</span>.links <span class="comment">//æ‰€æœ‰å¾—hrefç‰¹æ€§çš„&lt;a&gt;å…ƒç´ </span></div></pre></td></tr></table></figure></li><li><blockquote><p>æˆ‘ä»¬å»ºè®®å¤šæ•°æƒ…å†µä¸‹ï¼Œåœ¨ä½¿ç”¨DOMçš„æŸäº›ç‰¹æ®Šçš„åŠŸèƒ½ä¹‹å‰ï¼Œæœ€å¥½é™¤äº†æ£€æµ‹<code>hasFeature()</code>ä¹‹å¤–ï¼Œè¿˜åŒæ—¶ä½¿ç”¨èƒ½åŠ›æ£€æµ‹ã€‚</p></blockquote></li></ul><h5 id="Elementç±»å‹"><a href="#Elementç±»å‹" class="headerlink" title="Elementç±»å‹:"></a><code>Element</code>ç±»å‹:</h5><ul><li>åœ¨HTMLä¸­,æ ‡ç­¾åéƒ½æ˜¯å¤§å†™è¡¨ç¤º,å†XMLä¸­æ ‡ç­¾åä¼šä¸æºç ä¿æŒä¸€è‡´.æ‰€ä»¥æœ€å¥½åœ¨è¿›è¡Œæ ‡ç­¾æ¯”è¾ƒä¹‹å‰ç»Ÿä¸€å¤§å°å†™.ex:<code>element.tagName.toLowerCase() == &quot;p&quot;</code></li><li><blockquote><p>ç‰¹æ€§çš„åç§°æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œå³â€IDâ€å’Œâ€idâ€ä»£è¡¨çš„éƒ½æ˜¯åŒä¸€ä¸ªç‰¹æ€§ã€‚å¦å¤–ä¹Ÿè¦æ³¨æ„ï¼Œæ ¹æ® HTML5 è§„èŒƒï¼Œè‡ªå®šä¹‰ç‰¹æ€§åº”è¯¥åŠ ä¸Š<code>data-</code>å‰ç¼€ä»¥ä¾¿éªŒè¯ã€‚</p></blockquote></li><li><blockquote><p><code>Element</code>ç±»å‹çš„<code>attributes</code>å±æ€§åŒ…å«è¯¥èŠ‚ç‚¹æ‰€æœ‰çš„å±æ€§.</p></blockquote></li><li><code>Element</code>å…ƒç´ ä¹Ÿæ”¯æŒ<code>getElementsByTagName</code>è¿™ä¸ªæ–¹æ³•.</li></ul><h5 id="Textç±»å‹"><a href="#Textç±»å‹" class="headerlink" title="Textç±»å‹:"></a><code>Text</code>ç±»å‹:</h5><ul><li><code>Text</code>ç±»å‹çš„<code>nodeValue</code>å’Œ<code>data</code>å±æ€§æ˜¯ç­‰ä»·çš„.</li><li><blockquote><p><code>appendData(text)</code>ï¼šå°†<code>text</code>æ·»åŠ åˆ°èŠ‚ç‚¹çš„æœ«å°¾ã€‚</p></blockquote></li><li><blockquote><p><code>deleteData(offset, count)</code>ï¼šä»<code>offset</code>æŒ‡å®šçš„ä½ç½®å¼€å§‹åˆ é™¤<code>count</code>ä¸ªå­—ç¬¦ã€‚</p></blockquote></li><li><blockquote><p><code>insertData(offset, text)</code>ï¼šåœ¨<code>offset</code>æŒ‡å®šçš„ä½ç½®æ’å…¥<code>text</code>ã€‚</p></blockquote></li><li><blockquote><p><code>replaceData(offset, count, text)</code>ï¼šç”¨<code>text</code>æ›¿æ¢ä»<code>offset</code>æŒ‡å®šçš„ä½ç½®å¼€å§‹åˆ°<code>offset+count</code>ä¸ºæ­¢å¤„çš„æ–‡æœ¬ã€‚</p></blockquote></li><li><blockquote><p><code>splitText(offset)</code>ï¼šä»<code>offset</code>æŒ‡å®šçš„ä½ç½®å°†å½“å‰æ–‡æœ¬èŠ‚ç‚¹åˆ†æˆä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚</p></blockquote></li><li><blockquote><p><code>substringData(offset, count)</code>ï¼šæå–ä»<code>offset</code>æŒ‡å®šçš„ä½ç½®å¼€å§‹åˆ°<code>offset+count</code>ä¸ºæ­¢å¤„çš„å­—ç¬¦ä¸²ã€‚</p></blockquote></li></ul><h5 id="Commentç±»å‹"><a href="#Commentç±»å‹" class="headerlink" title="Commentç±»å‹"></a><code>Comment</code>ç±»å‹</h5><ul><li><blockquote><p><code>Comment</code>ç±»å‹ä¸<code>Text</code>ç±»å‹ç»§æ‰¿è‡ªç›¸åŒçš„åŸºç±»ï¼Œå› æ­¤å®ƒæ‹¥æœ‰é™¤<code>splitText()</code>ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•ã€‚</p></blockquote></li><li><blockquote><p>å¦å¤–ï¼Œä½¿ç”¨<code>document.createComment()</code>å¹¶ä¸ºå…¶ä¼ é€’æ³¨é‡Šæ–‡æœ¬ä¹Ÿå¯ä»¥åˆ›å»ºæ³¨é‡ŠèŠ‚ç‚¹</p></blockquote></li></ul><h2 id="Chapter-11"><a href="#Chapter-11" class="headerlink" title="Chapter 11"></a>Chapter 11</h2><h3 id="11-1"><a href="#11-1" class="headerlink" title="11.1"></a>11.1</h3><ul><li><blockquote><p><code>querySelectorAll()</code>è¿”å›çš„å€¼å®é™…ä¸Šæ˜¯å¸¦æœ‰æ‰€æœ‰å±æ€§å’Œæ–¹æ³•çš„<code>NodeList</code>ï¼Œè€Œå…¶åº•å±‚å®ç°åˆ™ç±»ä¼¼äºä¸€ç»„å…ƒç´ çš„å¿«ç…§ï¼Œè€Œéä¸æ–­å¯¹æ–‡æ¡£è¿›è¡Œæœç´¢çš„åŠ¨æ€æŸ¥è¯¢ã€‚</p><h3 id="11-3"><a href="#11-3" class="headerlink" title="11.3"></a>11.3</h3></blockquote></li><li><code>getElementsByClassName()</code>å¯ä»¥ä¼ é€’å¤šä¸ªç±»å,ä½¿ç”¨ç©ºæ ¼åˆ†å‰²,<code>Element</code>å’Œ<code>Document</code>éƒ½æœ‰è¿™ä¸ªæ–¹æ³•.</li><li><code>classList</code>æ˜¯<code>DomTokenList</code>çš„å®ä¾‹,æœ‰ä¸ª<code>contains(value)</code>çš„å±æ€§,è¿”å›æ˜¯å¦å…·æœ‰å¯¹åº”çš„ç±»å.æ”¯æŒ<code>classList</code>çš„æµè§ˆå™¨æ˜¯Firefox3.6+å’ŒChrome.</li><li><code>document.activeElement</code>èƒ½è¿”å›DOMä¸­è·å¾—ç„¦ç‚¹çš„å…ƒç´ çš„å¼•ç”¨.æ–‡æ¡£åˆšåŠ è½½å®Œæ¯•æ—¶<code>document.activeElement</code>æŒ‡å‘<code>document.body</code></li><li><code>document.readyState</code>ç”¨æ¥æŒ‡ç¤ºæ–‡æ¡£æ˜¯å¦å·²ç»åŠ è½½å®Œæ¯•.</li><li><code>document.compatMode</code>ç”¨æ¥æ£€æµ‹IEæ˜¯åœ¨æ··æ‚æ¨¡å¼è¿˜æ˜¯åœ¨æ ‡å‡†æ¨¡å¼.</li><li>ä¸<code>document.body</code>ç›¸å¯¹åº”çš„ä¹Ÿæœ‰<code>document.head</code>å±æ€§.</li><li><code>document.charset</code>å¯ä»¥ç”¨æ¥æŒ‡å®šå­—ç¬¦é›†.</li><li>é€šè¿‡åœ¨æ ‡ç­¾ä¸­æ·»åŠ <code>data-</code>å¼€å¤´çš„å±æ€§,å°±å¯ä»¥åœ¨å…ƒç´ çš„<code>dataset</code>å±æ€§ä¸­è·å¾—å¯¹åº”çš„å±æ€§(ä¸åŒ…å«<code>data-</code>å‰ç¼€)</li><li><blockquote><p>ä¸è¦æŒ‡æœ›æ‰€æœ‰æµè§ˆå™¨è¿”å›çš„ innerHTML å€¼å®Œå…¨ç›¸åŒã€‚</p></blockquote></li><li><code>insertAdjacentHTML()</code>å¯ä»¥åƒ<code>innerHTML</code>ä¸€æ ·æ’å…¥HTMLæ–‡æœ¬,ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ä¸ºä»¥ä¸‹ä¹‹ä¸€<code>beforebegin</code> <code>afterbegin</code> <code>beforeend</code> <code>afterend</code></li><li>ä½¿ç”¨<code>innerHTML</code> <code>outerHTML</code> <code>insertAdjacentHTML</code>æ–¹æ³•æ—¶,å…ƒç´ ä¸å¯¹åº”çš„jsäº‹ä»¶çš„ç»‘å®šå…³ç³»å¹¶æ²¡æœ‰ä¸€å¹¶åˆ é™¤.</li><li>è®¾ç½®<code>innerHTML</code>æˆ–<code>outerHTML</code> æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªHTMLè§£æå™¨,æ‰€ä»¥è¿‡å¤šæ¬¡çš„è°ƒç”¨ä¼šé€ æˆå¤šæ¬¡çš„åˆ›å»ºå’Œé”€æ¯HTMLè§£æå™¨,å¸¦æ¥æ€§èƒ½æŸå¤±.</li><li><code>contains()</code>æ£€æµ‹å‚æ•°DOMæ˜¯å¦ä¸ºè°ƒç”¨æ–¹æ³•çš„DOMçš„å­èŠ‚ç‚¹.ç›¸å½“äº<code>compareDocumentPosition()</code></li><li><code>innerText</code>æ°¸è¿œåªä¼šç”Ÿæˆå½“å‰èŠ‚ç‚¹çš„ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹,ä¼šå¯¹è¾“å…¥çš„HTMLè¿›è¡Œç¼–ç .åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå¯ä»¥é€šè¿‡<code>innerText</code>å±æ€§è¿‡æ»¤æ‰HTMLæ ‡ç­¾ã€‚æ–¹æ³•æ˜¯å°†<code>innerText</code>è®¾ç½®ä¸ºç­‰äº <code>innerText</code>ï¼Œè¿™æ ·å°±å¯ä»¥å»æ‰æ‰€æœ‰ HTML æ ‡ç­¾.</li></ul><h2 id="Chapter-12"><a href="#Chapter-12" class="headerlink" title="Chapter 12"></a>Chapter 12</h2><h3 id="12-2"><a href="#12-2" class="headerlink" title="12.2"></a>12.2</h3><ul><li>ä½¿ç”¨<code>ele.style.cssText</code>æ˜¯æœ€å¿«æ·çš„æ–¹æ³•,å› ä¸ºä¸€æ¬¡èƒ½è®¾ç½®å¤šç§æ ·å¼.</li><li>ä½¿ç”¨<code>ele.getPropertyValue(prop)</code>å¯ä»¥å¾—åˆ°ç‰¹å®šå†…è”æ ·å¼çš„å€¼.</li><li>æœ€å¸¸ç”¨æ¥ç¡®å®šæµè§ˆå™¨è§†å£å¤§å°çš„æ–¹æ³•æ˜¯<code>document.documentElement.clientWidth</code>.</li><li>é€šè¿‡<code>scrollLeft</code>å’Œ<code>scrollTop</code>æ—¢å¯ä»¥ç¡®å®šå…ƒç´ å½“å‰æ»šåŠ¨çš„çŠ¶æ€,ä¹Ÿå¯ä»¥è®¾ç½®å…ƒç´ çš„æ»šåŠ¨ä½ç½®</li></ul><h2 id="Chapter-13"><a href="#Chapter-13" class="headerlink" title="Chapter 13"></a>Chapter 13</h2><h3 id="13-1"><a href="#13-1" class="headerlink" title="13.1"></a>13.1</h3><ul><li><p>é€šè¿‡<code>addEventListener()</code>æ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºåªèƒ½ä½¿ç”¨<code>removeEventListener()</code>æ¥ç§»é™¤ï¼›ç§»é™¤æ—¶ä¼ å…¥çš„å‚æ•°ä¸æ·»åŠ å¤„ç†ç¨‹åºæ—¶ä½¿ç”¨çš„å‚æ•°ç›¸åŒã€‚è¿™ä¹Ÿæ„å‘³ç€é€šè¿‡ <code>addEventListener()</code>æ·»åŠ çš„åŒ¿åå‡½æ•°å°†æ— æ³•ç§»é™¤.</p></li><li><p><code>event.target</code>æŒ‡å‘çœŸæ­£è§¦å‘äº‹ä»¶çš„å…ƒç´ ,<code>event.currentTarget</code>å§‹ç»ˆæŒ‡å‘<code>this</code>.</p></li></ul><h3 id="13-5"><a href="#13-5" class="headerlink" title="13.5"></a>13.5</h3><ul><li>ä¸ºäº†é¿å…å¯¼è‡´â€ç©ºäº‹ä»¶å¤„ç†ç¨‹åºâ€,æœ€å¥½åœ¨å¸è½½é¡µé¢çš„æ—¶å€™è°ƒç”¨<code>onunload</code>ç§»é™¤æ‰€æœ‰çš„äº‹ä»¶å¤„ç†ç¨‹åº.</li></ul><h2 id="Chapter-17"><a href="#Chapter-17" class="headerlink" title="Chapter 17"></a>Chapter 17</h2><h3 id="17-2"><a href="#17-2" class="headerlink" title="17.2"></a>17.2</h3><ul><li><blockquote><p>è¯·è¯»è€…åŠ¡å¿…è¦è®°ä½ï¼Œåªè¦ä»£ç ä¸­åŒ…å«<code>finally</code>å­å¥ï¼Œé‚£ä¹ˆæ— è®º<code>try</code>è¿˜æ˜¯<code>catch</code>è¯­å¥å— ä¸­çš„<code>return</code>è¯­å¥éƒ½å°†è¢«å¿½ç•¥ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨<code>finally</code>å­å¥ä¹‹å‰ï¼Œä¸€å®šè¦éå¸¸æ¸…æ¥šä½ æƒ³è®©ä»£ç æ€ä¹ˆæ ·ã€‚</p></blockquote></li><li><p>åœ¨<code>throw</code>çš„æ—¶å€™å¯ä»¥æŠ›å‡ºä»»æ„ç±»å‹çš„å€¼,ä½†æ˜¯ä½¿ç”¨å†…ç½®ç±»å‹é”™è¯¯,å¯ä»¥æ›´çœŸå®çš„æ¨¡æ‹Ÿæµè§ˆå™¨é”™è¯¯.</p></li><li><p>å¯ä»¥é€šè¿‡åŸå‹ç»§æ‰¿æ¥è‡ªå®šä¹‰é”™è¯¯æœºåˆ¶.</p></li><li><blockquote><p>è¯´åˆ°æŠ›å‡ºé”™è¯¯ä¸æ•è·é”™è¯¯ï¼Œæˆ‘ä»¬è®¤ä¸ºåªåº”è¯¥æ•è·é‚£äº›ä½ ç¡®åˆ‡åœ°çŸ¥é“è¯¥å¦‚ä½•å¤„ç†çš„é”™è¯¯ã€‚æ•è·é”™è¯¯çš„<br>ç›®çš„åœ¨äºé¿å…æµè§ˆå™¨ä»¥é»˜è®¤æ–¹å¼å¤„ç†å®ƒä»¬ï¼›è€ŒæŠ›å‡ºé”™è¯¯çš„ç›®çš„åœ¨äºæä¾›é”™è¯¯å‘ç”Ÿå…·ä½“åŸå› çš„æ¶ˆæ¯ã€‚</p></blockquote></li><li><blockquote><p>ä»»ä½•æ²¡æœ‰é€šè¿‡<code>try-catch</code>å¤„ç†çš„é”™è¯¯éƒ½ä¼šè§¦å‘<code>window</code>å¯¹è±¡çš„<code>error</code>äº‹ä»¶ã€‚åªè¦å‘ç”Ÿé”™è¯¯ï¼Œæ— è®ºæ˜¯ä¸æ˜¯æµè§ˆå™¨ç”Ÿæˆçš„ï¼Œéƒ½ä¼šè§¦å‘<code>error</code>äº‹ä»¶ï¼Œå¹¶æ‰§è¡Œè¿™ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºã€‚ç„¶åï¼Œæµè§ˆå™¨é»˜è®¤çš„æœºåˆ¶å‘æŒ¥ä½œç”¨ï¼Œåƒå¾€å¸¸ä¸€æ ·æ˜¾ç¤ºå‡ºé”™è¯¯æ¶ˆæ¯ã€‚åƒä¸‹é¢è¿™æ ·åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è¿”å›<code>false</code>ï¼Œå¯ä»¥é˜»æ­¢æµè§ˆå™¨æŠ¥å‘Šé”™è¯¯çš„é»˜è®¤è¡Œä¸ºã€‚</p></blockquote></li><li><blockquote><p>å¤§ä½“ä¸Šæ¥è¯´ï¼ŒåŸºæœ¬ç±»å‹çš„å€¼åº”è¯¥ä½¿ç”¨<code>typeof</code>æ¥æ£€æµ‹ï¼Œè€Œå¯¹è±¡çš„å€¼åˆ™åº”è¯¥ä½¿ç”¨<code>instanceof</code>æ¥æ£€æµ‹ã€‚æ ¹æ®ä½¿ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œæœ‰æ—¶å€™å¹¶ä¸éœ€è¦é€ä¸ªæ£€æµ‹æ‰€æœ‰å‚æ•°çš„æ•°æ®ç±»å‹ã€‚ä½†æ˜¯ï¼Œé¢å‘å…¬ä¼—çš„ API åˆ™å¿…é¡»æ— æ¡ä»¶åœ°æ‰§è¡Œç±»å‹æ£€æŸ¥ï¼Œä»¥ç¡®ä¿å‡½æ•°å§‹ç»ˆèƒ½å¤Ÿæ­£å¸¸åœ°æ‰§è¡Œã€‚</p></blockquote></li></ul><h2 id="Chapter-20"><a href="#Chapter-20" class="headerlink" title="Chapter 20"></a>Chapter 20</h2><h3 id="20-1"><a href="#20-1" class="headerlink" title="20.1"></a>20.1</h3><ul><li><blockquote><p>å…³äº JSONï¼Œæœ€é‡è¦çš„æ˜¯è¦ç†è§£å®ƒæ˜¯ä¸€ç§<strong>æ•°æ®æ ¼å¼ï¼Œä¸æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€</strong>ã€‚è™½ç„¶å…·æœ‰ç›¸åŒçš„è¯­æ³•å½¢å¼ï¼Œ<br>ä½† JSON å¹¶ä¸ä»å±äº JavaScriptã€‚è€Œä¸”ï¼Œå¹¶ä¸æ˜¯åªæœ‰ JavaScript æ‰ä½¿ç”¨ JSONï¼Œæ¯•ç«Ÿ JSON åªæ˜¯ä¸€ç§æ•°æ®<br>æ ¼å¼ã€‚å¾ˆå¤šç¼–ç¨‹è¯­è¨€éƒ½æœ‰é’ˆå¯¹ JSON çš„è§£æå™¨å’Œåºåˆ—åŒ–å™¨ã€‚</p></blockquote></li><li><p>JSONæ”¯æŒç®€å•å€¼,å¯¹è±¡,æ•°ç»„,ä½†æ˜¯ä¸æ”¯æŒJSçš„ç‰¹æ®Šå€¼<code>undefined</code>(æ¯•ç«ŸJSONæ˜¯é€šç”¨çš„).</p></li><li><p>JSONçš„å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨åŒå¼•å·.</p></li><li><p>JSONåœ¨æè¿°å¯¹è±¡çš„å±æ€§é”®å€¼å¯¹æ—¶,å¿…é¡»ç»™å±æ€§åŠ åŒå¼•å·.</p></li><li><blockquote><p>å¯¹è±¡å’Œæ•°ç»„é€šå¸¸æ˜¯ JSON æ•°æ®ç»“æ„çš„æœ€å¤–å±‚å½¢å¼ï¼ˆå½“ç„¶ï¼Œè¿™ä¸æ˜¯å¼ºåˆ¶è§„å®šçš„ï¼‰ï¼Œåˆ©ç”¨å®ƒä»¬èƒ½å¤Ÿåˆ›é€ å‡ºå„ç§å„æ ·çš„æ•°æ®ç»“æ„ã€‚</p></blockquote></li><li><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ <code>JSON.stringify()</code>è¾“å‡ºçš„ JSON å­—ç¬¦ä¸²ä¸åŒ…å«ä»»ä½•ç©ºæ ¼å­—ç¬¦æˆ–ç¼©è¿›ï¼Œåœ¨åºåˆ—åŒ– JavaScript å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰å‡½æ•°åŠåŸå‹æˆå‘˜éƒ½ä¼šè¢«æœ‰æ„å¿½ç•¥ï¼Œä¸ä½“ç°åœ¨ç»“æœä¸­ã€‚æ­¤å¤–ï¼Œå€¼ä¸º<code>undefined</code>çš„ä»»ä½•å±æ€§ä¹Ÿéƒ½ä¼šè¢«è·³è¿‡ã€‚ç»“æœä¸­æœ€ç»ˆéƒ½æ˜¯å€¼ä¸ºæœ‰æ•ˆ JSON æ•°æ®ç±»å‹çš„å®ä¾‹å±æ€§ã€‚å¦‚æœä¼ ç»™ <code>JSON.parse()</code>çš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„ JSONï¼Œè¯¥æ–¹æ³•ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p></blockquote></li></ul><h2 id="Chapter-24"><a href="#Chapter-24" class="headerlink" title="Chapter 24"></a>Chapter 24</h2><h3 id="24-1"><a href="#24-1" class="headerlink" title="24.1"></a>24.1</h3><ul><li><blockquote><p>å‹¿å°†<code>event</code>å¯¹è±¡ä¼ ç»™å…¶ä»–æ–¹æ³•ï¼›åªä¼ æ¥è‡ª<code>event</code>å¯¹è±¡ä¸­æ‰€éœ€çš„æ•°æ®ï¼›</p><p>ä»»ä½•å¯ä»¥åœ¨åº”ç”¨å±‚é¢çš„åŠ¨ä½œéƒ½åº”è¯¥å¯ä»¥åœ¨ä¸æ‰§è¡Œä»»ä½•äº‹ä»¶å¤„ç†ç¨‹åºçš„æƒ…å†µä¸‹è¿›è¡Œï¼›</p><p>ä»»ä½•äº‹ä»¶å¤„ç†ç¨‹åºéƒ½åº”è¯¥å¤„ç†äº‹ä»¶ï¼Œç„¶åå°†å¤„ç†è½¬äº¤ç»™åº”ç”¨é€»è¾‘ã€‚</p></blockquote></li><li><blockquote><p>å¦‚æœçœ‹åˆ°äº†ä¸ null æ¯”è¾ƒçš„ä»£ç ï¼Œå°è¯•ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯æ›¿æ¢ï¼š</p><ul><li>å¦‚æœå€¼åº”ä¸ºä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œä½¿ç”¨<code>instanceof</code>æ“ä½œç¬¦æ£€æŸ¥å…¶æ„é€ å‡½æ•°ï¼›</li></ul><ul><li>å¦‚æœå€¼åº”ä¸ºä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œä½¿ç”¨<code>typeof</code>æ£€æŸ¥å…¶ç±»å‹ï¼›</li><li>å¦‚æœæ˜¯å¸Œæœ›å¯¹è±¡åŒ…å«æŸä¸ªç‰¹å®šçš„æ–¹æ³•åï¼Œåˆ™ä½¿ç”¨<code>typeof</code>æ“ä½œç¬¦ç¡®ä¿æŒ‡å®šåå­—çš„æ–¹æ³•å­˜åœ¨äºå¯¹</li></ul><p>è±¡ä¸Šã€‚</p></blockquote></li><li><blockquote><p> ç”¨æˆ·ç•Œé¢å­—ç¬¦ä¸² â€”â€” ä»»ä½•ç”¨äºæ˜¾ç¤ºç»™ç”¨æˆ·çš„å­—ç¬¦ä¸²ï¼Œéƒ½åº”è¢«æŠ½å–å‡ºæ¥ä»¥æ–¹ä¾¿å›½é™…åŒ–ã€‚</p></blockquote></li></ul><h3 id="24-2"><a href="#24-2" class="headerlink" title="24.2"></a>24.2</h3><ul><li><blockquote><p>é¿å…å…¨å±€æŸ¥æ‰¾</p></blockquote><p>æ¯”å¦‚å¦‚æœéœ€è¦å¤šæ¬¡å¼•ç”¨<code>document.getElementById()</code>å°±å¯ä»¥åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ä½¿ç”¨<code>var doc = document</code>æ¥å‡å°‘åœ¨ä½œç”¨åŸŸé“¾ä¸Šçš„æŸ¥æ‰¾.</p></li><li><blockquote><p>å’Œå‡½æ•°ç±»ä¼¼ï¼Œ <code>with</code>è¯­å¥ä¼šåˆ›å»ºè‡ªå·±çš„ä½œç”¨åŸŸï¼Œå› æ­¤ä¼šå¢åŠ å…¶ä¸­æ‰§è¡Œçš„ä»£ç çš„ä½œç”¨åŸŸé“¾çš„é•¿åº¦ã€‚ç”±äºé¢å¤–çš„ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ï¼Œåœ¨ with è¯­å¥ä¸­æ‰§è¡Œçš„ä»£ç è‚¯å®šä¼šæ¯”å¤–é¢æ‰§è¡Œçš„ä»£ç è¦æ…¢ã€‚</p></blockquote></li><li><p>è®¿é—®å¯¹è±¡çš„å±æ€§æ˜¯ä¸€ä¸ªO(n)å¤æ‚åº¦çš„æ“ä½œ,æ‰€ä»¥æœ€å¥½æ˜¯å£°æ˜ä¸€ä¸ªå˜é‡è¿›è¡Œå¼•ç”¨.</p></li><li><blockquote><p>å¦‚æœæœ‰ä¸€ç³»åˆ—å¤æ‚çš„ if-else è¯­å¥ï¼Œå¯ä»¥è½¬æ¢æˆå•ä¸ª<code>switch</code>è¯­å¥åˆ™å¯ä»¥å¾—åˆ°æ›´å¿«çš„ä»£ç ã€‚</p></blockquote></li><li><blockquote><p>å¯¹äºå¤§çš„ DOM æ›´æ”¹ï¼Œä½¿ç”¨<code>innerHTML</code>æ¯”ä½¿ç”¨æ ‡å‡† DOM æ–¹æ³•åˆ›å»ºåŒæ ·çš„ DOM ç»“æ„å¿«å¾—å¤šã€‚å½“æŠŠinnerHTML è®¾ç½®ä¸ºæŸä¸ªå€¼æ—¶ï¼Œåå°ä¼šåˆ›å»ºä¸€ä¸ª HTML è§£æå™¨ï¼Œç„¶åä½¿ç”¨å†…éƒ¨çš„ DOM è°ƒç”¨æ¥åˆ›å»º DOM ç»“æ„ï¼Œè€ŒéåŸºäº JavaScript çš„ DOM è°ƒç”¨ã€‚ç”±äºå†…éƒ¨æ–¹æ³•æ˜¯ç¼–è¯‘å¥½çš„è€Œéè§£é‡Šæ‰§è¡Œçš„ï¼Œæ‰€ä»¥æ‰§è¡Œå¿«å¾—å¤šã€‚</p></blockquote></li><li><blockquote><p>ä»»ä½•æ—¶å€™è¦è®¿é—®<code>HTMLCollection</code>ï¼Œä¸ç®¡å®ƒæ˜¯ä¸€ä¸ªå±æ€§è¿˜æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œéƒ½æ˜¯åœ¨æ–‡æ¡£ä¸Šè¿›è¡Œä¸€ä¸ªæŸ¥è¯¢ï¼Œè¿™ä¸ªæŸ¥è¯¢å¼€é”€å¾ˆæ˜‚è´µã€‚æœ€å°åŒ–è®¿é—®<code>HTMLCollection</code>çš„æ¬¡æ•°å¯ä»¥æå¤§åœ°æ”¹è¿›è„šæœ¬çš„æ€§èƒ½ã€‚</p></blockquote></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Chapter1&quot;&gt;&lt;a href=&quot;#Chapter1&quot; class=&quot;headerlink&quot; title=&quot;Chapter1&quot;&gt;&lt;/a&gt;Chapter1&lt;/h2&gt;&lt;h3 id=&quot;1-2&quot;&gt;&lt;a href=&quot;#1-2&quot; class=&quot;headerlink&quot; ti
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://fi3ework.github.io/tags/JavaScript/"/>
    
      <category term="è¯»ä¹¦" scheme="https://fi3ework.github.io/tags/%E8%AF%BB%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>CSSä¸­çš„floatå’Œclear</title>
    <link href="https://fi3ework.github.io/2017-02-07/float%E7%90%86%E8%A7%A3/"/>
    <id>https://fi3ework.github.io/2017-02-07/floatç†è§£/</id>
    <published>2017-02-07T14:55:21.000Z</published>
    <updated>2017-06-06T16:06:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CSSä¸­çš„floatå’Œclear"><a href="#CSSä¸­çš„floatå’Œclear" class="headerlink" title="CSSä¸­çš„floatå’Œclear"></a>CSSä¸­çš„floatå’Œclear</h1><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>floatæ˜¯CSSä¸­ç›¸å½“é‡è¦çš„å±æ€§ï¼Œå¾ˆæƒ­æ„§åªå­¦äº†ä¸ªçš®æ¯›ï¼Œæ‰¾ä¸ªæœºä¼šè®¤çœŸçš„å­¦ä¹ ä¸€ä¸‹floatï¼Œä»¥åå°±ä¸è¦å†åœ¨floatçš„å‘ä¸­æ‘”å€’äº†ï¼Œé‚£ä¹ˆå¼€å§‹ã€‚</p><h2 id="1-floatçš„å®šä¹‰"><a href="#1-floatçš„å®šä¹‰" class="headerlink" title="1. floatçš„å®šä¹‰"></a>1. floatçš„å®šä¹‰</h2><p>ä»ç½‘ä¸Šæœäº†ä¸€ä¸ªä¸­æ–‡ç‰ˆå¯¹floatçš„å®šä¹‰ï¼Œå‡ºå¤„å·²æ— æ³•è€ƒè¯</p><blockquote><p>CSSæ ·å¼çš„floatæµ®åŠ¨å±æ€§ï¼Œç”¨äºè®¾ç½®æ ‡ç­¾å¯¹è±¡çš„æµ®åŠ¨å¸ƒå±€ï¼Œæµ®åŠ¨ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´æ ‡ç­¾å¯¹è±¡æµ®åŠ¨å±…å·¦é å·¦å’Œæµ®åŠ¨å±…å³é å³ã€‚</p></blockquote><p>ä»<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/float" target="_blank" rel="external"><strong>MDN</strong></a>ä¸­æ‰¾äº†ä¸€ä¸ªç›¸å¯¹â€œå®˜æ–¹â€çš„å®šä¹‰ã€‚</p><blockquote><p>The float CSS property specifies that an element should be taken from the normal flow and placed along the left or right side of its container, where text and inline elements will wrap around it.</p></blockquote><p>å’Œä¸­æ–‡ç‰ˆçš„å®šä¹‰è¯´çš„å…¶å®å·®ä¸å¤šï¼Œæ²¡æœ‰ä»€ä¹ˆå¿…è¦çº ç»“ã€‚</p><h2 id="2-floatçš„å„ç§å±æ€§"><a href="#2-floatçš„å„ç§å±æ€§" class="headerlink" title="2. floatçš„å„ç§å±æ€§"></a>2. floatçš„å„ç§å±æ€§</h2><h3 id="2-1-MDN"><a href="#2-1-MDN" class="headerlink" title="2.1 MDN"></a>2.1 MDN</h3><p>ç»§ç»­å¾€ä¸‹çœ‹MDNï¼Œ<br><img src="/2017-02-07/floatç†è§£/pic3.png" alt="pic3"><br>é»˜è®¤å€¼ä¸ºnoneï¼Œå¯¹æ‰€æœ‰édisplay: noneçš„å…ƒç´ éƒ½é€‚ç”¨ï¼Œé»˜è®¤ä¸ç»§æ‰¿ã€‚  </p><blockquote><p>As float implies the use of the block layout, it modifies the computed value of the display values in some cases:</p></blockquote><p>åº”ç”¨floatå±æ€§çš„å…ƒç´ å°†ä¼šåº”ç”¨block layoutï¼Œå°†æ”¹å˜å…ƒç´ displayçš„è®¡ç®—å€¼ã€‚<br><img src="/2017-02-07/floatç†è§£/pic4.png" alt="pic4"></p><blockquote><p><strong>left</strong><br>Is a keyword indicating that the element must float on the left side of its containing block.<br><strong>right</strong><br>Is a keyword indicating that the element must float on the right side of its containing block.<br><strong>none</strong><br>Is a keyword indicating that the element must not float.</p></blockquote><p>å°±æ˜¯ä¸€äº›æ¯”è¾ƒåŸºæœ¬çš„æ¦‚å¿µï¼Œæµ®åŠ¨åˆ°æ‰€åœ¨å®¹å™¨çš„å·¦ä¾§ï¼ˆå³ä¾§ï¼‰ã€‚  </p><h3 id="2-2-W3"><a href="#2-2-W3" class="headerlink" title="2.2 W3"></a>2.2 W3</h3><p>MDNä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå†å»çœ‹W3çš„<a href="https://www.w3.org/TR/CSS21/visuren.html#propdef-clear" target="_blank" rel="external">æ–‡æ¡£</a>ä¸­å¯¹floatçš„å®šä¹‰ï¼Œæ¯•ç«Ÿæ–‡æ¡£æ˜¯æœ€æƒå¨çš„ã€‚<br>æ–‡æ¡£ä¸­å†™é“</p><blockquote><p>This property specifies whether a box should float to the left, right, or not at all. It may be set for any element, but only applies to elements that generate boxes that are not absolutely positioned. </p></blockquote><p>å³floatå¯¹ç»å¯¹å®šä½çš„å…ƒç´ ä¸èµ·ä½œç”¨ã€‚ </p><p>åˆ°<strong>è¿™é‡ŒfloatåŸºæœ¬ç”¨æ³•å¯ä»¥å‚è§ï¼š</strong><a href="http://www.cnblogs.com/polk6/p/3142187.html#Menu2-floatLeft" target="_blank" rel="external"><strong>CSS float æµ®åŠ¨å±æ€§</strong></a></p><p>æ¥ä¸‹æ¥å†ä»”ç»†çœ‹floatçš„nine rulesï¼š</p><h4 id="rule1"><a href="#rule1" class="headerlink" title="rule1"></a>rule1</h4><blockquote><p>The left outer edge of a left-floating box may not be to the left of the left edge of its containing block. An analogous rule holds for right-floating elements.</p></blockquote><p><strong>å·¦æµ®åŠ¨ç›’å­çš„å·¦è¾¹ç•Œä¸ä¼šè¶…å‡ºå…¶å®¹å™¨çš„å·¦è¾¹ç•Œï¼ŒåŒç†å³æµ®åŠ¨ã€‚</strong><br>å¾ˆå¥½ç†è§£ï¼Œæµ®åŠ¨çš„è¾¹ç•Œå³ä¸ºå…¶çˆ¶å…ƒç´ çš„è¾¹ç•Œã€‚</p><h4 id="rule2"><a href="#rule2" class="headerlink" title="rule2"></a>rule2</h4><blockquote><p>If the current box is left-floating, and there are any left-floating boxes generated by elements earlier in the source document, then for each such earlier box, either the left outer edge of the current box must be to the right of the right outer edge of the earlier box, or its top must be lower than the bottom of the earlier box. Analogous rules hold for right-floating boxes.</p></blockquote><p><strong>å¦‚æœæŸä¸ªç›’å­æ˜¯å·¦æµ®åŠ¨çš„ï¼Œå®ƒä¹‹å‰æœ‰å·¦æµ®åŠ¨ç›’å­ï¼Œé‚£ä¹ˆä»–ä¸€å®šåœ¨ä¹‹å‰çš„æµ®åŠ¨ç›’å­çš„å³è¾¹ç•Œå³è¾¹ï¼Œæˆ–è€…åœ¨å…¶åº•è¾¹ç•Œçš„ä¸‹é¢ï¼ŒåŒç†å³è¾¹ç•Œã€‚</strong><br>è¿™ä¸ªè§„åˆ™å¾ˆå…³é”®ï¼Œå…¶ä¸­å¾ˆå®¹æ˜“è¢«å¿½è§†çš„ä¸€ç‚¹å°±æ˜¯ï¼šè¿™ä¸ªè§„åˆ™å¯¹æµ®åŠ¨å…ƒç´ ä¹‹å‰çš„<strong>æ‰€æœ‰</strong>æµ®åŠ¨å…ƒç´ éƒ½æœ‰æ•ˆã€‚</p><h4 id="rule3"><a href="#rule3" class="headerlink" title="rule3"></a>rule3</h4><blockquote><p>The right outer edge of a left-floating box may not be to the right of the left outer edge of any right-floating box that is next to it. Analogous rules hold for right-floating elements.</p></blockquote><p>ä¸€ä¸ªå·¦æµ®åŠ¨ç›’å­right outer edgeå¯èƒ½ä¸æŒ¨ç€ä¸€ä¸ªç´§éšå…¶åçš„å³æµ®åŠ¨ç›’å­çš„left outer edgeçš„å·¦è¾¹ã€‚åŒç†å³æµ®åŠ¨ã€‚ï¼ˆè®²çœŸï¼Œä¸ç†è§£è¿™ä¸ªruleåˆ°åº•åœ¨è¯´å•¥â€¦ï¼‰</p><h4 id="rule4"><a href="#rule4" class="headerlink" title="rule4"></a>rule4</h4><blockquote><p>A floating boxâ€™s outer top may not be higher than the top of its containing block. When the float occurs between two collapsing margins, the float is positioned as if it had an otherwise empty anonymous block parent taking part in the flow. The position of such a parent is defined by the rules in the section on margin collapsing.</p></blockquote><p>æµ®åŠ¨ç›’å­çš„é¡¶è¾¹ç•Œä¸èƒ½è¶…è¿‡å…¶å®¹å™¨ã€‚å½“ï¼Ÿï¼Ÿï¼Ÿ</p><h4 id="rule5"><a href="#rule5" class="headerlink" title="rule5"></a>rule5</h4><blockquote><p>The outer top of a floating box may not be higher than the outer top of any block or floated box generated by an element earlier in the source document.</p></blockquote><p>æµ®åŠ¨ç›’å­çš„çš„é¡¶è¾¹ç•Œä¸ä¼šé«˜è¿‡ä»»ä½•åœ¨æ–‡æ¡£ä¸­ä½äºå®ƒä¹‹å‰çš„å—çº§å…ƒç´ æˆ–æµ®åŠ¨ç›’å­çš„é¡¶è¾¹ç•Œã€‚<br><strong>æ–‡æ¡£æµä¸­å‡ºç°çš„é¡ºåºå¯¹floatçš„æ•ˆæœäº§ç”Ÿäº†é‡è¦çš„å½±å“ï¼Œå¾ˆå¤šæ—¶å€™éƒ½æ˜¯æ–‡æ¡£æµçš„é¡ºåºå†³å®šfloatçš„æ•ˆæœ</strong></p><h4 id="rule-6"><a href="#rule-6" class="headerlink" title="rule 6"></a>rule 6</h4><blockquote><p>The outer top of an elementâ€™s floating box may not be higher than the top of any line-box containing a box generated by an element earlier in the source document.</p></blockquote><p>æµ®åŠ¨ç›’å­çš„é¡¶è¾¹ç•Œä¸ä¼šæ¯”ä»»ä½•åœ¨æ–‡æ¡£ä¸­ä½äºå®ƒä¹‹å‰çš„åŒ…å«boxçš„line-boxçš„é¡¶è¾¹ç•Œé«˜ã€‚<br>å¯¹line boxçš„ç†è§£å¯ä»¥çœ‹ <a href="http://www.zhangxinxu.com/wordpress/2010/01/css-float%E6%B5%AE%E5%8A%A8%E7%9A%84%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%E3%80%81%E8%AF%A6%E8%A7%A3%E5%8F%8A%E6%8B%93%E5%B1%95%E4%B8%80/" target="_blank" rel="external"><strong>CSS floatæµ®åŠ¨çš„æ·±å…¥ç ”ç©¶ã€è¯¦è§£åŠæ‹“å±•(ä¸€)</strong></a>ï¼Œè®²çš„éå¸¸è¯¦ç»†ã€‚</p><h4 id="rule7"><a href="#rule7" class="headerlink" title="rule7"></a>rule7</h4><blockquote><p>A left-floating box that has another left-floating box to its left may not have its right outer edge to the right of its containing blockâ€™s right edge. (Loosely: a left float may not stick out at the right edge, unless it is already as far to the left as possible.) An analogous rule holds for right-floating elements.</p></blockquote><p>è€å®è¯´ï¼Œæ²¡çœ‹æ‡‚ï¼Œçœ‹å…¶ä»–äººçš„ç¿»è¯‘æ˜¯</p><blockquote><p>å°±æ˜¯å¦‚æœä¸€è¡Œä¹‹å†…è¦æ”¾ç¬¬äºŒä¸ªæµ®åŠ¨å…ƒç´ ï¼Œå¦‚æœæ”¾ä¸ä¸‹äº†ï¼Œé‚£å°±æ¢è¡Œã€‚</p></blockquote><h4 id="rule8"><a href="#rule8" class="headerlink" title="rule8"></a>rule8</h4><blockquote><p>A floating box must be placed as high as possible.</p></blockquote><p>ä¸€ä¸ªæµ®åŠ¨ç›’å­åº”è¯¥å°½å¯èƒ½æ”¾çš„é«˜ã€‚</p><h4 id="rule9"><a href="#rule9" class="headerlink" title="rule9"></a>rule9</h4><blockquote><p>A left-floating box must be put as far to the left as possible, a right-floating box as far to the right as possible. A higher position is preferred over one that is further to the left/right.</p></blockquote><p>å·¦æµ®åŠ¨çš„ç›’å­åº”å°½å¯èƒ½å¾€å·¦æ”¾ï¼ŒåŒç†å³æµ®åŠ¨ã€‚å½“å…ƒç´ æ—¢å¯ä»¥æ”¾ç½®çš„æ›´â€œé«˜â€ï¼Œä¹Ÿèƒ½æ”¾ç½®çš„æ›´â€œå·¦/å³â€æ—¶ï¼Œåº”ä¼˜å…ˆæ”¾çš„æ›´â€œé«˜â€ã€‚</p><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><h3 id="case1"><a href="#case1" class="headerlink" title="case1"></a>case1</h3><p><img src="/2017-02-07/floatç†è§£/show1.png" alt="showpic1"><br>ä»£ç å¾ˆç®€å•ï¼Œå°±ä¸å¸–äº†ï¼Œåœ¨ä¸€ä¸ªcontaineré‡Œæœ‰div1~div5ï¼Œéƒ½å…·æœ‰float: leftå±æ€§ï¼ˆä¸ºäº†çœ‹æ¸…æ¥šæ¯ä¸ªdivæˆ‘éƒ½åŠ äº†10pxçš„marginï¼‰ã€‚div1å’Œdiv2å¾ˆå¥½ç†è§£ï¼Œdiv1è„±ç¦»æ–‡æ¡£æµï¼Œæµ®åŠ¨åˆ°æœ€å·¦è¾¹ï¼Œå³è¾¹æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œæ‰€ä»¥div2åœ¨div1çš„å³è¾¹æ’åˆ—ã€‚div3ä¹Ÿä¾æ¬¡æ’åˆ—ã€‚<br>åˆ°äº†div4ï¼Œç”±äºå³è¾¹çš„ä½ç½®ä¸å¤Ÿï¼Œdiv4åªèƒ½æ¢è¡Œï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆdiv4åœ¨è¿™ä¸ªä½ç½®å‘¢ï¼Ÿå› ä¸ºæ ¹æ®rule9ï¼Œé«˜åº¦ä¼˜å…ˆï¼Œæ‰€ä»¥div4æŒ¤è¿›äº†div3ç•™ä¸‹çš„å°ç©ºé‡Œã€‚<br>ç„¶åæ˜¯div5ï¼Œæˆ‘ä»¥å‰ä¸€ç›´è§‰å¾—æ—¢ç„¶é«˜åº¦ä¼˜å…ˆï¼Œdiv5åº”è¯¥ç´§è´´åœ¨div1çš„ä¸‹é¢ï¼Œä½†ä¸ºä»€ä¹ˆdiv5çš„ä¸Šè¾¹ç•ŒæŒ¨ç€div4çš„ä¸‹è¾¹ç•Œå‘¢ï¼ˆè¯·æš‚æ—¶å¿½ç•¥marginï¼Œåªæ˜¯ä¸ºäº†æ¼”ç¤ºï¼Œä¸å½±å“åŸç†ï¼‰ï¼Ÿå› ä¸ºæ ¹æ®rule2â€”â€”å¦‚æœæŸä¸ªç›’å­æ˜¯å·¦æµ®åŠ¨çš„ï¼Œå®ƒä¹‹å‰æœ‰å·¦æµ®åŠ¨ç›’å­ï¼Œé‚£ä¹ˆä»–ä¸€å®šåœ¨ä¹‹å‰çš„æµ®åŠ¨ç›’å­çš„å³è¾¹ç•Œå³è¾¹ï¼Œæˆ–è€…åœ¨å…¶åº•è¾¹ç•Œçš„ä¸‹é¢ï¼ŒåŒç†å³è¾¹ç•Œã€‚<strong>åœ¨è®¡ç®—ä¸€ä¸ªå…ƒç´ çš„æµ®åŠ¨ä½ç½®çš„æ—¶å€™è¦è€ƒè™‘å…¶ä½ç½®æ˜¯å¦å¯¹ä¹‹å‰æ‰€æœ‰çš„æµ®åŠ¨å…ƒç´ ç¬¦åˆrule2ã€‚</strong>å¦‚æœdiv5çš„ä¸Šè¾¹ç•Œç´§è´´ç€div1ï¼Œé‚£ä¹ˆåœ¨æ–‡æ¡£æµä¸­ä½äºdiv4ä¹‹åçš„div5å°±æ—¢æ²¡æœ‰åœ¨div4çš„ä¸‹è¾¹ç•Œä¸‹é¢ï¼Œä¹Ÿæ²¡æœ‰åœ¨div4çš„å³è¾¹ç•Œå³é¢ã€‚æ‰€ä»¥ï¼Œdiv5ä¼šä»¥div4çš„ä¸‹è¾¹ç•Œä¸ºâ€œç•Œé™â€ï¼Œdiv5çš„ä¸Šè¾¹ç•Œä¸div4çš„ä¸‹è¾¹ç•Œé½å¹³ã€‚</p><h3 id="case2"><a href="#case2" class="headerlink" title="case2"></a>case2</h3><p>htmlå¦‚ä¸‹</p><pre><code>&lt;div id=&quot;div1&quot;&gt;div1:left&lt;/div&gt;&lt;div id=&quot;div2&quot;&gt;div2:left&lt;/div&gt;&lt;div id=&quot;div3&quot;&gt;div3:left&lt;/div&gt;</code></pre><p><img src="/2017-02-07/floatç†è§£/show2.png" alt="show2"><br>floatè®¾å®šå¦‚å›¾æ‰€ç¤ºï¼Œdiv3è¢«æŒ¤åˆ°äº†ç¬¬äºŒè¡Œå› ä¸ºå…¶åœ¨æ–‡æ¡£æµä¸­æœ€åä¸€ä¸ªå‡ºç°ã€‚<br>è°ƒæ¢ä¸€ä¸‹divçš„é¡ºåº</p><pre><code>&lt;div id=&quot;div1&quot;&gt;div1:left&lt;/div&gt;&lt;div id=&quot;div3&quot;&gt;div3:left&lt;/div&gt;&lt;div id=&quot;div2&quot;&gt;div2:left&lt;/div&gt;</code></pre><p><img src="/2017-02-07/floatç†è§£/show3.png" alt="show3"><br>è¿™å›æ˜¯div2è¢«æŒ¤åˆ°äº†ç¬¬äºŒè¡Œï¼Œå› ä¸ºåœ¨æ–‡æ¡£æµä¸­æœ€åä¸€ä¸ªå‡ºç°ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul><li><a href="https://www.w3.org/TR/CSS2/visuren.html#float-rules" target="_blank" rel="external">W3 rules</a></li><li><a href="http://blog-qeesung.rhcloud.com/css-float-nine-rules/" target="_blank" rel="external">CSS Float nine rules</a></li><li><a href="http://www.jianshu.com/p/07eb19957991#" target="_blank" rel="external">CSSæµ®åŠ¨floatè¯¦è§£</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CSSä¸­çš„floatå’Œclear&quot;&gt;&lt;a href=&quot;#CSSä¸­çš„floatå’Œclear&quot; class=&quot;headerlink&quot; title=&quot;CSSä¸­çš„floatå’Œclear&quot;&gt;&lt;/a&gt;CSSä¸­çš„floatå’Œclear&lt;/h1&gt;&lt;h2 id=&quot;å¼•è¨€&quot;&gt;&lt;a hr
      
    
    </summary>
    
    
      <category term="CSS" scheme="https://fi3ework.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>ç®€æ˜React Router v4æ•™ç¨‹</title>
    <link href="https://fi3ework.github.io/2016-10-28/A%20Simple%20React%20Router%20v4%20Tutorial/"/>
    <id>https://fi3ework.github.io/2016-10-28/A Simple React Router v4 Tutorial/</id>
    <published>2016-10-28T15:22:41.000Z</published>
    <updated>2017-12-09T11:28:28.698Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç®€æ˜React-Router-v4æ•™ç¨‹"><a href="#ç®€æ˜React-Router-v4æ•™ç¨‹" class="headerlink" title="ç®€æ˜React Router v4æ•™ç¨‹"></a>ç®€æ˜React Router v4æ•™ç¨‹</h1><p>React Router v4æ˜¯ä¸€ä¸ªå®Œå…¨ä½¿ç”¨Reacté‡å†™çš„æµè¡Œçš„ReactåŒ…ï¼Œä¹‹å‰ç‰ˆæœ¬çš„React Routeré…ç½®æ˜¯ä½¿ç”¨ä¼ªç»„ä»¶ä¹Ÿå¾ˆæ™¦æ¶©éš¾æ‡‚ã€‚ç°åœ¨ä½¿ç”¨v4ç‰ˆæœ¬çš„React Routerï¼Œæ‰€æœ‰çš„ä¸œè¥¿éƒ½â€œä»…ä»…æ˜¯ç»„ä»¶â€ã€‚</p><p>åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å»ºç«‹ä¸€ä¸ªæœ¬åœ°çš„è¿åŠ¨é˜Ÿï¼Œæˆ‘ä»¬å°†å®Œæˆæ‰€æœ‰çš„åŸºæœ¬éœ€æ±‚æ¥å»ºç«‹æˆ‘ä»¬çš„ç½‘ç«™å’Œè·¯ç”±ï¼Œè¿™åŒ…æ‹¬ï¼š</p><ol><li>é€‰æ‹©<code>router</code></li><li>åˆ›å»º<code>routes</code></li><li>åœ¨è·¯ç”±ä¹‹é—´é€šè¿‡é“¾æ¥è¿›è¡Œå¯¼èˆª</li></ol><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p><a href="https://codesandbox.io/s/vVoQVk78" target="_blank" rel="external"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit A Simple React Router v4 Tutorial"></a></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>React Routerç°åœ¨å·²ç»è¢«åˆ’åˆ†æˆäº†ä¸‰ä¸ªåŒ…ï¼š<code>react-router</code>ï¼Œ<code>react-router-dom</code>ï¼Œ<code>react-router-native</code>ã€‚</p><p>ä½ ä¸åº”è¯¥ç›´æ¥å®‰è£…<code>react-router</code>ï¼Œè¿™ä¸ªåŒ…ä¸ºReact Routeråº”ç”¨æä¾›äº†æ ¸å¿ƒçš„è·¯ç”±ç»„ä»¶å’Œå‡½æ•°ï¼Œå¦å¤–ä¸¤ä¸ªåŒ…æä¾›äº†ç‰¹å®šç¯å¢ƒçš„ç»„ä»¶ï¼ˆæµè§ˆå™¨å’Œ<code>react-native</code>å¯¹åº”çš„å¹³å°ï¼‰ï¼Œä¸è¿‡ä»–ä»¬ä¹Ÿå°†<code>react-router</code>å¯¼å‡ºçš„åŠŸèƒ½å†æ¬¡å¯¼å‡ºã€‚</p><p>ä½ åº”è¯¥é€‰æ‹©è¿™ä¸¤ä¸ªä¸­é€‚åº”ä½ å¼€å‘ç¯å¢ƒçš„åŒ…ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªç½‘ç«™ï¼ˆåœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å®‰è£…<code>react-router-dom</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save react-router-dom</div></pre></td></tr></table></figure><h2 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h2><p>å½“å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œä½ åº”è¯¥å†³å®šè¦ä½¿ç”¨å“ªç§<code>router</code>ã€‚å¯¹äºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©<code>&lt;BrowserRouter</code>å’Œ<code>&lt;HashRouter&gt;</code>ç»„ä»¶ï¼Œ<code>&lt;BrowserRouter&gt;</code>åº”è¯¥ç”¨åœ¨æœåŠ¡å™¨å¤„ç†åŠ¨æ€è¯·æ±‚çš„é¡¹ç›®ä¸­ï¼ˆçŸ¥é“å¦‚ä½•å¤„ç†ä»»æ„çš„URIï¼‰ï¼Œ<code>&lt;HashRouter&gt;</code>ç”¨æ¥å¤„ç†é™æ€é¡µé¢ï¼ˆåªèƒ½å“åº”è¯·æ±‚å·²çŸ¥æ–‡ä»¶çš„è¯·æ±‚ï¼‰ã€‚</p><p>é€šå¸¸æ¥è¯´æ›´æ¨èä½¿ç”¨<code>&lt;BrowserRouter&gt;</code>ï¼Œå¯æ˜¯å¦‚æœæœåŠ¡å™¨åªå¤„ç†é™æ€é¡µé¢çš„è¯·æ±‚ï¼Œé‚£ä¹ˆä½¿ç”¨<code>&lt;HashRouter&gt;</code>ä¹Ÿæ˜¯ä¸€ä¸ªè¶³å¤Ÿçš„è§£å†³æ–¹æ¡ˆã€‚</p><p>å¯¹äºæˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯ç”±æœåŠ¡å™¨åŠ¨æ€ç”Ÿæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„<code>router</code>ç»„ä»¶é€‰æ‹©<code>&lt;BrowserRouter&gt;</code>ã€‚</p><h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><p>æ¯ä¸ª<code>router</code>éƒ½ä¼šåˆ›å»ºä¸€ä¸ª<code>history</code>å¯¹è±¡ï¼Œç”¨æ¥ä¿æŒå¯¹å½“å‰ä½ç½®çš„è¿½è¸ªè¿˜æœ‰åœ¨é¡µé¢å‘ç”Ÿå˜åŒ–çš„æ—¶å€™é‡æ–°æ¸²æŸ“é¡µé¢ã€‚React Routeræä¾›çš„å…¶ä»–ç»„ä»¶ä¾èµ–åœ¨<code>context</code>ä¸Šå‚¨å­˜çš„<code>history</code>å¯¹è±¡ï¼Œæ‰€ä»¥ä»–ä»¬å¿…é¡»åœ¨<code>router</code>å¯¹è±¡çš„å†…éƒ¨æ¸²æŸ“ã€‚<strong>ä¸€ä¸ªæ²¡æœ‰<code>router</code>ç¥–å…ˆå…ƒç´ çš„React Routerå¯¹è±¡å°†æ— æ³•æ­£å¸¸å·¥ä½œ</strong>ï¼Œå¦‚æœä½ æƒ³å­¦ä¹ æ›´å¤šçš„å…³äº<code>history</code>å¯¹è±¡çš„çŸ¥è¯†ï¼Œå¯ä»¥å‚ç…§<a href="https://medium.com/@pshrmn/a-little-bit-of-history-f245306f48dd" target="_blank" rel="external">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><h3 id="æ¸²æŸ“ä¸€ä¸ª-lt-Router-gt"><a href="#æ¸²æŸ“ä¸€ä¸ª-lt-Router-gt" class="headerlink" title="æ¸²æŸ“ä¸€ä¸ª&lt;Router&gt;"></a>æ¸²æŸ“ä¸€ä¸ª<code>&lt;Router&gt;</code></h3><p>Routerçš„ç»„ä»¶åªèƒ½æ¥å—ä¸€ä¸ªå­å…ƒç´ ï¼Œä¸ºäº†éµç…§è¿™ç§é™åˆ¶ï¼Œåˆ›å»ºä¸€ä¸ª<code>&lt;App&gt;</code>ç»„ä»¶æ¥æ¸²æŸ“å…¶ä»–çš„åº”ç”¨å°†éå¸¸æ–¹ä¾¿ï¼ˆå°†åº”ç”¨ä»routerä¸­åˆ†ç¦»å¯¹æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¹Ÿæœ‰é‡è¦æ„ä¹‰ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æœåŠ¡å™¨ç«¯è½¬æ¢åˆ°<code>&lt;MemoryRouter&gt;</code>æ—¶å¯ä»¥å¾ˆå¿«å¤ç”¨<code>&lt;App&gt;</code>ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line">ReactDOM.render((</div><div class="line">  &lt;BrowserRouter&gt;</div><div class="line">    &lt;App /&gt;</div><div class="line">  &lt;<span class="regexp">/BrowserRouter&gt;</span></div><div class="line"><span class="regexp">), document.getElementById('root'))</span></div></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å·²ç»é€‰æ‹©äº†routerï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æ¸²æŸ“æˆ‘ä»¬çœŸæ­£çš„åº”ç”¨äº†ã€‚</p><h2 id="lt-App-gt"><a href="#lt-App-gt" class="headerlink" title="&lt;App&gt;"></a><code>&lt;App&gt;</code></h2><p>æˆ‘ä»¬çš„åº”ç”¨å®šä¹‰åœ¨<code>&lt;App&gt;</code>ç»„ä»¶ä¸­ï¼Œä¸ºäº†ç®€åŒ–<code>&lt;App&gt;</code>ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„åº”ç”¨åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œ<code>&lt;Header&gt;</code>ç»„ä»¶åŒ…å«é“¾æ¥åˆ°å…¶ä»–é¡µé¢çš„å¯¼èˆªï¼Œ<code>&lt;Main&gt;</code>ç»„ä»¶åŒ…å«å…¶ä½™çš„éœ€è¦æ¸²æŸ“çš„éƒ¨åˆ†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// this component will be rendered by our &lt;___Router&gt;</span></div><div class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;Header /&gt;</div><div class="line">    &lt;Main /&gt;</div><div class="line">  &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">)</span></div></pre></td></tr></table></figure><p><strong>Note:</strong> ä½ å¯ä»¥ä»»æ„å¸ƒå±€ä½ çš„åº”ç”¨ï¼Œåˆ†ç¦»routeså’Œå¯¼èˆªè®©ä½ æ›´åŠ å®¹æ˜“äº†è§£React Routeræ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p>æˆ‘ä»¬å…ˆä»æ¸²æŸ“æˆ‘ä»¬è·¯ç”±å†…å®¹çš„<code>&lt;Main&gt;</code>ç»„ä»¶å¼€å§‹ã€‚</p><h2 id="Routes"><a href="#Routes" class="headerlink" title="Routes"></a>Routes</h2><p><code>&lt;Route&gt;</code>ç»„ä»¶æ˜¯React Routerçš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼Œå¦‚æœä½ æƒ³è¦åœ¨è·¯å¾„ç¬¦åˆçš„æ—¶å€™åœ¨ä»»ä½•åœ°æ–¹æ¸²æŸ“ä»€ä¹ˆä¸œè¥¿ï¼Œä½ å°±åº”è¯¥åˆ›é€ ä¸€ä¸ª<code>&lt;Route&gt;</code>å…ƒç´ ã€‚</p><h3 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h3><p>ä¸€ä¸ª<code>&lt;Route&gt;</code>ç»„ä»¶éœ€è¦ä¸€ä¸ªstringç±»å‹çš„<code>path</code>propæ¥æŒ‡å®šè·¯ç”±éœ€è¦åŒ¹é…çš„è·¯å¾„ã€‚ä¸¾ä¾‹æ¥è¯´<code>&lt;Route path=&#39;/roster/&#39;</code>å°†åŒ¹é…ä»¥<code>/roster</code>å¼€å§‹çš„è·¯å¾„ï¼Œå½“å½“å‰çš„è·¯å¾„å’Œ<code>path</code>åŒ¹é…æ—¶ï¼Œrouteå°†ä¼šæ¸²æŸ“Reactçš„å…ƒç´ ã€‚å½“è·¯å¾„ä¸åŒ¹é…çš„æ—¶å€™ ï¼Œè·¯ç”±ä¸ä¼šæ¸²æŸ“ä»»ä½•å…ƒç´ ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;Route path=<span class="string">'/roster'</span>/&gt;</div><div class="line"><span class="comment">// when the pathname is '/', the path does not match</span></div><div class="line"><span class="comment">// when the pathname is '/roster' or '/roster/2', the path matches</span></div><div class="line"><span class="comment">// If you only want to match '/roster', then you need to use</span></div><div class="line"><span class="comment">// the "exact" prop. The following will match '/roster', but not</span></div><div class="line"><span class="comment">// '/roster/2'.</span></div><div class="line">&lt;Route exact path=<span class="string">'/roster'</span>/&gt;</div><div class="line"><span class="comment">// You might find yourself adding the exact prop to most routes.</span></div><div class="line"><span class="comment">// In the future (i.e. v5), the exac t prop will likely be true by</span></div><div class="line"><span class="comment">// default. For more information on that, you can check out this </span></div><div class="line"><span class="comment">// GitHub issue:</span></div><div class="line"><span class="comment">// https://github.com/ReactTraining/react-router/issues/4958</span></div></pre></td></tr></table></figure><p><strong>Note: </strong>åœ¨åŒ¹é…è·¯ç”±çš„æ—¶å€™ï¼ŒReact Routeråªä¼šå…³å¿ƒç›¸å¯¹è·¯å¾„çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥å¦‚ä¸‹çš„URL</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://www.example.com/my-projects/one?extra=false</div></pre></td></tr></table></figure><p>React Routeråªä¼šå°è¯•åŒ¹é…<code>/my-projects/one</code>éƒ¨åˆ†ã€‚</p><h3 id="åŒ¹é…è·¯å¾„"><a href="#åŒ¹é…è·¯å¾„" class="headerlink" title="åŒ¹é…è·¯å¾„"></a>åŒ¹é…è·¯å¾„</h3><p>React Routerä½¿ç”¨<code>path-to-regexp</code>åŒ…æ¥åˆ¤æ–­è·¯å¾„çš„<code>path</code>propæ˜¯å¦åŒ¹é…å½“å‰è·¯å¾„ï¼Œå®ƒå°†<code>path</code>å­—ç¬¦ä¸²è½¬æ¢æˆæ­£åˆ™è¡¨è¾¾å¼ä¸å½“å‰çš„è·¯å¾„è¿›è¡ŒåŒ¹é…ï¼Œå…³äº<code>path</code>å­—ç¬¦ä¸²æ›´å¤šçš„å¯é€‰æ ¼å¼ï¼Œå¯ä»¥æŸ¥é˜…<a href="https://github.com/pillarjs/path-to-regexp" target="_blank" rel="external"><code>path-to-regexp</code>æ–‡æ¡£</a>ã€‚</p><p>å½“è·¯ç”±ä¸è·¯å¾„åŒ¹é…çš„æ—¶å€™ï¼Œä¸€ä¸ªå…·æœ‰ä»¥ä¸‹<code>match</code>å¯¹è±¡å°†ä¼šè¢«ä½œä¸ºpropä¼ å…¥</p><ul><li><code>url</code> - å½“å‰è·¯å¾„ä¸è·¯ç”±ç›¸åŒ¹é…çš„éƒ¨åˆ†</li><li><code>path</code> - è·¯ç”±çš„<code>path</code></li><li><code>isExact</code> - <code>path === pathname</code></li><li><code>params</code> - ä¸€ä¸ªåŒ…å«ç€<code>pathname</code>çš„å¯¹è±¡</li></ul><p><strong>Note: </strong>ç›®å‰ï¼Œè·¯ç”±çš„è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ã€‚</p><h3 id="åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è·¯ç”±"><a href="#åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è·¯ç”±" class="headerlink" title="åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è·¯ç”±"></a>åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è·¯ç”±</h3><p><code>&lt;Route&gt;</code>s å¯ä»¥åœ¨routerä¸­çš„ä»»æ„ä½ç½®è¢«åˆ›å»ºï¼Œä¸è¿‡ä¸€èˆ¬æ¥è¯´å°†ä»–ä»¬æ”¾åˆ°åŒä¸€ä¸ªåœ°æ–¹æ¸²æŸ“æ›´åŠ åˆç†ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>&lt;Switch&gt;</code>ç»„ä»¶æ¥ç»„åˆ<code>&lt;Route&gt;</code>sï¼Œ<code>&lt;Switch&gt;</code>å°†éå†<code>children</code>ï¼ˆè·¯ç”±ï¼‰ï¼Œç„¶ååªåŒ¹é…ç¬¬ä¸€ä¸ªç¬¦åˆçš„<code>pathname</code>ã€‚</p><p>å¯¹äºæˆ‘ä»¬çš„ç½‘ç«™æ¥è¯´ï¼Œæˆ‘ä»¬æƒ³è¦åŒ¹é…çš„è·¯å¾„ä¸ºï¼š</p><ol><li><code>/</code> - ä¸»é¡µ</li><li><code>/roster</code> - é˜Ÿä¼åå•</li><li><code>/roster/:number</code> - é˜Ÿå‘˜çš„èµ„æ–™ï¼Œnumberä¸ºé˜Ÿå‘˜çš„å·ç </li><li><code>/schedule</code> - é˜Ÿä¼çš„èµ›ç¨‹è¡¨</li></ol><p>ä¸ºäº†åŒ¹é…è·¯å¾„ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå¸¦<code>path</code>propçš„<code>&lt;Route&gt;</code>å…ƒç´ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;Switch&gt;</div><div class="line">  &lt;Route exact path=<span class="string">'/'</span> component=&#123;Home&#125;/&gt;</div><div class="line">  &#123;<span class="comment">/* both /roster and /roster/:number begin with /roster */</span>&#125;</div><div class="line">  &lt;Route path=<span class="string">'/roster'</span> component=&#123;Roster&#125;/&gt;</div><div class="line">  &lt;Route path=<span class="string">'/schedule'</span> component=&#123;Schedule&#125;/&gt;</div><div class="line">&lt;<span class="regexp">/Switch&gt;</span></div></pre></td></tr></table></figure><h3 id="lt-Route-gt-å°†ä¼šæ¸²æŸ“ä»€ä¹ˆ"><a href="#lt-Route-gt-å°†ä¼šæ¸²æŸ“ä»€ä¹ˆ" class="headerlink" title="&lt;Route&gt;å°†ä¼šæ¸²æŸ“ä»€ä¹ˆ"></a><code>&lt;Route&gt;</code>å°†ä¼šæ¸²æŸ“ä»€ä¹ˆ</h3><p>Routeså¯ä»¥æ¥å—ä¸‰ç§propæ¥å†³å®šè·¯å¾„åŒ¹é…æ—¶æ¸²æŸ“çš„å…ƒç´ ï¼Œåªèƒ½ç»™<code>&lt;Route&gt;</code>å…ƒç´ æä¾›ä¸€ç§æ¥å®šä¹‰è¦æ¸²æŸ“çš„å…ƒç´ ã€‚</p><ol><li><code>&lt;component&gt;</code> - ä¸€ä¸ªReactç»„ä»¶ï¼Œå½“ä¸€ä¸ªå¸¦æœ‰<code>component</code>propçš„è·¯ç”±åŒ¹é…çš„æ—¶å€™ï¼Œè·¯ç”±å°†ä¼šè¿”å›propæä¾›çš„componentç±»å‹çš„ç»„ä»¶ï¼ˆé€šè¿‡<code>React.createElement</code>æ¸²æŸ“ï¼‰ã€‚</li><li><code>render</code> - ä¸€ä¸ªè¿”å›Reactå…ƒç´ çš„æ–¹æ³•ï¼Œä¸<code>component</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å½“è·¯å¾„åŒ¹é…çš„æ—¶å€™ä¼šè¢«è°ƒç”¨ã€‚å†™æˆå†…è”å½¢å¼æ¸²æŸ“å’Œä¼ é€’å‚æ•°çš„æ—¶å€™éå¸¸æ–¹ä¾¿ã€‚</li><li><code>children</code> - ä¸€ä¸ªè¿”å›Reactå…ƒç´ çš„æ–¹æ³•ã€‚ä¸å‰ä¸¤ç§ä¸åŒçš„æ˜¯ï¼Œè¿™ç§æ–¹æ³•<strong>æ€»æ˜¯</strong>ä¼šè¢«æ¸²æŸ“ï¼Œæ— è®ºè·¯ç”±ä¸å½“å‰çš„è·¯å¾„æ˜¯å¦åŒ¹é…ã€‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;Route path=<span class="string">'/page'</span> component=&#123;Page&#125; /&gt;</div><div class="line"><span class="keyword">const</span> extraProps = &#123; <span class="attr">color</span>: <span class="string">'red'</span> &#125;</div><div class="line">&lt;Route path=<span class="string">'/page'</span> render=&#123;(props) =&gt; (</div><div class="line">  &lt;Page &#123;...props&#125; data=&#123;extraProps&#125;/&gt;</div><div class="line">)&#125;/&gt;</div><div class="line">&lt;Route path=<span class="string">'/page'</span> children=&#123;(props) =&gt; (</div><div class="line">  props.match</div><div class="line">    ? &lt;Page &#123;...props&#125;/&gt;</div><div class="line">    : &lt;EmptyPage &#123;...props&#125;/&gt;</div><div class="line">)&#125;/&gt;</div></pre></td></tr></table></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨<code>component</code>æˆ–è€…<code>render</code>ï¼Œ<code>children</code>çš„ä½¿ç”¨åœºæ™¯ä¸å¤šï¼Œè€Œä¸”ä¸€èˆ¬æ¥è¯´å½“è·¯ç”±ä¸åŒ¹é…çš„æ—¶å€™æœ€å¥½ä¸è¦æ¸²æŸ“ä»»ä½•ä¸œè¥¿ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œä¸éœ€è¦å‘è·¯ç”±ä¼ é€’ä»»ä½•å‚æ•°ï¼Œæ‰€æœ‰æˆ‘ä»¬ä½¿ç”¨<code>&lt;component&gt;</code>ã€‚</p><p>ç”±<code>&lt;Route&gt;</code>æ¸²æŸ“çš„å…ƒç´ å°†ä¼šå¸¦æœ‰ä¸€ç³»åˆ—çš„propsï¼Œæœ‰<code>match</code>å¯¹è±¡ï¼Œå½“å‰çš„<code>location</code>å¯¹è±¡ï¼Œè¿˜æœ‰<code>history</code>å¯¹è±¡ï¼ˆç”±routeråˆ›å»ºï¼‰ã€‚</p><h3 id="lt-Main-gt"><a href="#lt-Main-gt" class="headerlink" title="&lt;Main&gt;"></a><code>&lt;Main&gt;</code></h3><p>ç°åœ¨æˆ‘ä»¬å·²ç»ç¡®å®šäº†routeçš„ç»“æ„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä»–ä»¬å®ç°å³å¯ã€‚åœ¨æˆ‘ä»¬çš„åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šåœ¨<code>&lt;Main&gt;</code>ç»„ä»¶ä¸­æ¸²æŸ“<code>&lt;Switch&gt;</code>å’Œ<code>&lt;Route&gt;</code>ï¼Œå®ƒä»¬å°†ä¼šåœ¨<code>&lt;main&gt;</code>ä¸­æ¸²æŸ“HTMLå…ƒç´ ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Switch, Route &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line"><span class="keyword">const</span> Main = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;main&gt;</div><div class="line">    &lt;Switch&gt;</div><div class="line">      &lt;Route exact path=<span class="string">'/'</span> component=&#123;Home&#125;/&gt;</div><div class="line">      &lt;Route path=<span class="string">'/roster'</span> component=&#123;Roster&#125;/&gt;</div><div class="line">      &lt;Route path=<span class="string">'/schedule'</span> component=&#123;Schedule&#125;/&gt;</div><div class="line">    &lt;<span class="regexp">/Switch&gt;</span></div><div class="line"><span class="regexp">  &lt;/m</span>ain&gt;</div><div class="line">)</div></pre></td></tr></table></figure><p><strong>Note: </strong>ä¸»é¡µçš„è·¯ç”±å¸¦æœ‰<code>exact</code>propï¼Œè¿™è¡¨æ˜åªæœ‰å®Œå…¨åŒ¹é…pathnameçš„æ—¶å€™æ‰ä¼šåŒ¹é…ä¸»é¡µã€‚</p><h3 id="è·¯ç”±çš„åµŒå¥—"><a href="#è·¯ç”±çš„åµŒå¥—" class="headerlink" title="è·¯ç”±çš„åµŒå¥—"></a>è·¯ç”±çš„åµŒå¥—</h3><p>é˜Ÿå‘˜èµ„æ–™é¡µçš„è·¯ç”±<code>/roster/:number</code>æ²¡æœ‰åŒ…å«åœ¨<code>&lt;Switch&gt;</code>ä¸­ï¼Œè€Œæ˜¯åœ¨<code>&lt;Roster&gt;</code>ç»„ä»¶ä¸­ï¼Œåªè¦pathnameç”±<code>/roster</code>å¼€å¤´ï¼Œéƒ½å°†ç”±<code>&lt;Roster&gt;</code>è¿›è¡Œæ¸²æŸ“ã€‚</p><p>åœ¨<code>&lt;Roster&gt;</code>ç»„ä»¶ä¸­æˆ‘ä»¬å°†æ¸²æŸ“ä¸¤ç§è·¯å¾„ï¼š</p><ol><li><code>/roster</code> - åªæœ‰å½“è·¯å¾„å®Œå…¨åŒ¹é…<code>/roster</code>æ—¶ä¼šè¢«æ¸²æŸ“ï¼Œæˆ‘ä»¬è¦å¯¹è¯¥è·¯å¾„æŒ‡å®š<code>exact</code>å‚æ•°ã€‚</li><li><code>/roster/:number</code> - è¿™ä¸ªè·¯ç”±ä½¿ç”¨ä¸€ä¸ªè·¯å¾„å‚æ•°æ¥æ•è·<code>/roster</code>åé¢å¸¦çš„pathnameçš„éƒ¨åˆ†ã€‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Roster = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;Switch&gt;</div><div class="line">    &lt;Route exact path=<span class="string">'/roster'</span> component=&#123;FullRoster&#125;/&gt;</div><div class="line">    &lt;Route path=<span class="string">'/roster/:number'</span> component=&#123;Player&#125;/&gt;</div><div class="line">  &lt;<span class="regexp">/Switch&gt;</span></div><div class="line"><span class="regexp">)</span></div></pre></td></tr></table></figure><p>å°†å¸¦æœ‰ç›¸åŒå‰ç¼€çš„è·¯ç”±æ”¾åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­å¾ˆæ–¹ä¾¿ï¼Œè¿™æ ·å¯ä»¥ç®€åŒ–çˆ¶ç»„ä»¶å¹¶ä¸”è®©æˆ‘ä»¬å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸€ä¸ªåœ°æ–¹æ¸²æŸ“æ‰€æœ‰å¸¦æœ‰ç›¸åŒå‰ç¼€çš„ç»„ä»¶ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œ<code>&lt;Roster&gt;</code>å¯ä»¥ä¸ºæ‰€æœ‰ä»¥<code>/roster</code>å¼€å¤´çš„è·¯ç”±æ¸²æŸ“ä¸€ä¸ªæ ‡é¢˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Roster = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;This is a roster page!&lt;/h2&gt;</div><div class="line">    &lt;Switch&gt;</div><div class="line">      &lt;Route exact path=<span class="string">'/roster'</span> component=&#123;FullRoster&#125;/&gt;</div><div class="line">      &lt;Route path=<span class="string">'/roster/:number'</span> component=&#123;Player&#125;/&gt;</div><div class="line">    &lt;<span class="regexp">/Switch&gt;</span></div><div class="line"><span class="regexp">  &lt;/</span>div&gt;</div><div class="line">)</div></pre></td></tr></table></figure><h3 id="Pathå‚æ•°"><a href="#Pathå‚æ•°" class="headerlink" title="Pathå‚æ•°"></a>Pathå‚æ•°</h3><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬æƒ³æ•æ‰pathnameä¸­çš„å¤šä¸ªå‚æ•°ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨æˆ‘ä»¬çš„çƒå‘˜èµ„æ–™è·¯ç”±ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æ·»åŠ äº†<code>path</code>å‚æ•°æ¥æ•è·äº†çƒå‘˜çš„å·ç ã€‚</p><p><code>:number</code>éƒ¨åˆ†ä»£è¡¨åœ¨pathnameä¸­<code>/roster/</code>åé¢çš„å†…å®¹å°†ä¼šè¢«å‚¨å­˜åœ¨<code>match.params.number</code>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä¸€ä¸ªä¸º<code>/roster/6</code>çš„pathnameå°†ä¼šç”Ÿæˆä¸€ä¸ªå¦‚ä¸‹çš„paramså¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="attr">number</span>: <span class="string">'6'</span> &#125; <span class="comment">// note that the captured value is a string</span></div></pre></td></tr></table></figure><p><code>&lt;Player&gt;</code>ç»„ä»¶ä½¿ç”¨<code>props.match.params</code>å¯¹è±¡æ¥å†³å®šåº”è¯¥æ¸²æŸ“å“ªä¸ªçƒå‘˜çš„èµ„æ–™ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// an API that returns a player object</span></div><div class="line"><span class="keyword">import</span> PlayerAPI <span class="keyword">from</span> <span class="string">'./PlayerAPI'</span></div><div class="line"><span class="keyword">const</span> Player = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">const</span> player = PlayerAPI.get(</div><div class="line">    <span class="built_in">parseInt</span>(props.match.params.number, <span class="number">10</span>)</div><div class="line">  )</div><div class="line">  <span class="keyword">if</span> (!player) &#123;</div><div class="line">    <span class="keyword">return</span> &lt;div&gt;Sorry, but the player was not found&lt;/div&gt;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> (</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;h1&gt;&#123;player.name&#125; (#&#123;player.number&#125;)&lt;/h1&gt;</div><div class="line">      &lt;h2&gt;&#123;player.position&#125;&lt;<span class="regexp">/h2&gt;</span></div><div class="line"><span class="regexp">    &lt;/</span>div&gt;</div><div class="line">)</div></pre></td></tr></table></figure><p>å…³äº<code>path</code>å‚æ•°å¯ä»¥æŸ¥é˜…<a href="https://github.com/pillarjs/path-to-regexp" target="_blank" rel="external"><code>path-to-regexp</code>æ–‡æ¡£</a>ã€‚</p><p>åœ¨<code>&lt;Player&gt;</code>ç»„ä»¶æ—ï¼Œè¿˜æœ‰ä¸€ä¸ª<code>&lt;FullRoster&gt;</code>ï¼Œ<code>&lt;Schedule&gt;</code>å’Œ<code>&lt;Home&gt;</code>ç»„ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> FullRoster = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;ul&gt;</div><div class="line">      &#123;</div><div class="line">        PlayerAPI.all().map(<span class="function"><span class="params">p</span> =&gt;</span> (</div><div class="line">          &lt;li key=&#123;p.number&#125;&gt;</div><div class="line">            &lt;Link to=&#123;<span class="string">`/roster/<span class="subst">$&#123;p.number&#125;</span>`</span>&#125;&gt;&#123;p.name&#125;&lt;<span class="regexp">/Link&gt;</span></div><div class="line"><span class="regexp">          &lt;/</span>li&gt;</div><div class="line">        ))</div><div class="line">      &#125;</div><div class="line">    &lt;<span class="regexp">/ul&gt;</span></div><div class="line"><span class="regexp">  &lt;/</span>div&gt;</div><div class="line">)</div><div class="line"><span class="keyword">const</span> Schedule = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;ul&gt;</div><div class="line">      &lt;li&gt;<span class="number">6</span>/<span class="number">5</span> @ Evergreens&lt;<span class="regexp">/li&gt;</span></div><div class="line"><span class="regexp">      &lt;li&gt;6/</span><span class="number">8</span> vs Kickers&lt;<span class="regexp">/li&gt;</span></div><div class="line"><span class="regexp">      &lt;li&gt;6/</span><span class="number">14</span> @ United&lt;<span class="regexp">/li&gt;</span></div><div class="line"><span class="regexp">    &lt;/u</span>l&gt;</div><div class="line">  &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">)</span></div><div class="line"><span class="regexp">const Home = () =&gt; (</span></div><div class="line"><span class="regexp">  &lt;div&gt;</span></div><div class="line"><span class="regexp">    &lt;h1&gt;Welcome to the Tornadoes Website!&lt;/</span>h1&gt;</div><div class="line">  &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">)</span></div></pre></td></tr></table></figure><h3 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h3><p>æœ€åï¼Œæˆ‘ä»¬çš„ç½‘ç«™éœ€è¦åœ¨é¡µé¢ä¹‹é—´å¯¼èˆªï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨<code>&lt;a</code>æ ‡ç­¾å¯¼èˆªçš„è¯ï¼Œå°†ä¼šè½½å…¥ä¸€æ•´ä¸ªæ–°çš„é¡µé¢ã€‚React Routeræä¾›äº†ä¸€ä¸ª<code>&lt;Link&gt;</code>ç»„ä»¶æ¥é˜»æ­¢å…¶å‘ç”Ÿï¼Œå½“ç‚¹å‡»<code>&lt;Link&gt;</code> æ—¶ï¼ŒURLå°†ä¼šæ›´æ–°ï¼Œé¡µé¢ä¹Ÿä¼šåœ¨ä¸è½½å…¥æ•´ä¸ªæ–°é¡µé¢çš„æƒ…å†µä¸‹æ¸²æŸ“å†…å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line"><span class="keyword">const</span> Header = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;header&gt;</div><div class="line">    &lt;nav&gt;</div><div class="line">      &lt;ul&gt;</div><div class="line">        &lt;li&gt;&lt;Link to='/'&gt;Home&lt;/Link&gt;&lt;/li&gt;</div><div class="line">        &lt;li&gt;&lt;Link to='/roster'&gt;Roster&lt;/Link&gt;&lt;/li&gt;</div><div class="line">        &lt;li&gt;&lt;Link to='/schedule'&gt;Schedule&lt;/Link&gt;&lt;/li&gt;</div><div class="line">      &lt;<span class="regexp">/ul&gt;</span></div><div class="line"><span class="regexp">    &lt;/</span>nav&gt;</div><div class="line">  &lt;<span class="regexp">/header&gt;</span></div><div class="line"><span class="regexp">)</span></div></pre></td></tr></table></figure><p><code>&lt;Link&gt;</code>sä½¿ç”¨<code>to</code> propæ¥å†³å®šå¯¼èˆªçš„ç›®æ ‡ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªlocationå¯¹è±¡ï¼ˆåŒ…å«<code>pathname</code>, <code>search</code>, <code>hash</code>å’Œ<code>state</code>å±æ€§ï¼‰ã€‚å½“åªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå°†ä¼šè¢«è½¬åŒ–ä¸ºä¸€ä¸ªlocationå¯¹è±¡</p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Link to=&#123;&#123; pathname: '/roster/7' &#125;&#125;&gt;Player #7&lt;/Link&gt;</div></pre></td></tr></table></figure><p><strong>Note: </strong>ç›®å‰ï¼Œé“¾æ¥çš„pathnameå¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ã€‚</p><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>ä¸¤ä¸ªåœ¨çº¿çš„ä¾‹å­ï¼š</p><ol><li><a href="https://codesandbox.io/s/vVoQVk78" target="_blank" rel="external">CodeSandbox</a></li><li><a href="http://codepen.io/pshrmn/pen/YZXZqM" target="_blank" rel="external">CodePen</a>.</li></ol><h2 id="Notesï¼"><a href="#Notesï¼" class="headerlink" title="Notesï¼"></a>Notesï¼</h2><p>[1] locationsæ˜¯åŒ…å«æè¿°URLä¸åŒéƒ¨åˆ†çš„å‚æ•°çš„å¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// a basic location object</span></div><div class="line">&#123; <span class="attr">pathname</span>: <span class="string">'/'</span>, <span class="attr">search</span>: <span class="string">''</span>, <span class="attr">hash</span>: <span class="string">''</span>, <span class="attr">key</span>: <span class="string">'abc123'</span> state: &#123;&#125; &#125;</div></pre></td></tr></table></figure><p>[2] å¯ä»¥ä¸€ä¸ªæ— è·¯å¾„çš„<code>&lt;Route&gt;</code>ï¼Œè¿™ä¸ªè·¯ç”±å°†ä¼šåŒ¹é…æ‰€æœ‰è·¯å¾„ï¼Œè¿™æ ·å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®¿é—®å­˜å‚¨åœ¨<code>context</code>ä¸Šçš„å¯¹è±¡å’Œæ–¹æ³•ã€‚</p><p>[3] å½“ä½¿ç”¨<code>children</code> propæ—¶ï¼Œå³ä½¿åœ¨è·¯å¾„ä¸åŒ¹é…çš„æ—¶å€™ä¹Ÿä¼šæ¸²æŸ“ã€‚</p><p>[4] ç›¸å¯¹çš„<code>&lt;Link&gt;</code>sæ›´åŠ å¤æ‚ï¼Œä»–ä»¬å› ä¸ºå¯èƒ½éœ€è¦çˆ¶ç»„ä»¶çš„<code>match</code>å¯¹è±¡ï¼Œè€Œä¸æ˜¯å½“å‰çš„URLã€‚</p><p>[5] è¿™æ˜¯ä¸ªåŸºæœ¬çš„æ— çŠ¶æ€ç»„ä»¶ï¼Œ<code>component</code>å’Œ<code>render</code>çš„åŒºåˆ«æ˜¯ï¼Œ<code>component</code>ä¼šä½¿ç”¨<code>React.createElement</code>æ¥åˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œ<code>render</code>ä½¿ç”¨å‡½æ•°æ¥ç”Ÿæˆç»„ä»¶ï¼Œå¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªéœ€è¦ä¼ é€’propçš„ç»„ä»¶ï¼Œé‚£ä¹ˆ<code>render</code>ä¼šæ¯”<code>component</code>æ¥çš„æ–¹ä¾¿ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;Route path=<span class="string">'/one'</span> component=&#123;One&#125;/&gt;</div><div class="line"><span class="comment">// React.createElement(props.component)</span></div><div class="line">&lt;Route path=<span class="string">'/two'</span> render=&#123;() =&gt; &lt;Two /&gt;&#125;/&gt;</div><div class="line">// props.render()</div></pre></td></tr></table></figure><p>[6] <code>&lt;Route&gt;</code>å’Œ<code>&lt;Switch&gt;</code>ç»„ä»¶éƒ½å¯ä»¥æ¥å—ä¸€ä¸ª<code>location</code> propï¼Œè¿™å¯ä»¥</p><p>[7] </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç®€æ˜React-Router-v4æ•™ç¨‹&quot;&gt;&lt;a href=&quot;#ç®€æ˜React-Router-v4æ•™ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€æ˜React Router v4æ•™ç¨‹&quot;&gt;&lt;/a&gt;ç®€æ˜React Router v4æ•™ç¨‹&lt;/h1&gt;&lt;p&gt;Re
      
    
    </summary>
    
    
      <category term="React" scheme="https://fi3ework.github.io/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>CSS TIPS</title>
    <link href="https://fi3ework.github.io/2016-06-07/CSS%20TIPS/"/>
    <id>https://fi3ework.github.io/2016-06-07/CSS TIPS/</id>
    <published>2016-06-07T13:14:35.000Z</published>
    <updated>2017-12-09T11:28:14.458Z</updated>
    
    <content type="html"><![CDATA[<h3 id="html"><a href="#html" class="headerlink" title="html"></a>html</h3><ul><li><p>å½“ç½‘é¡µä¸­çš„å†…å®¹è¾ƒå°‘æ—¶ï¼Œhtmlå…ƒç´ å¯èƒ½æ— æ³•è¦†ç›–æ•´ä¸ªæµè§ˆå™¨çš„é«˜åº¦ï¼Œé€šè¿‡è®¾ç½®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">html</span>&#123;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å³å¯å°†æ•´ä¸ªé¡µé¢æ’‘å¼€åˆ°æµè§ˆå™¨çš„é«˜åº¦ã€‚</p></li></ul><h3 id="CSSé«˜é€Ÿç¼“å­˜"><a href="#CSSé«˜é€Ÿç¼“å­˜" class="headerlink" title="CSSé«˜é€Ÿç¼“å­˜"></a>CSSé«˜é€Ÿç¼“å­˜</h3><ul><li><p>CSSè¢«ç¼“å­˜ä¹‹åï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹æ³•ï¼Œä½¿ä¹‹å‰çš„ç¼“å­˜å¤±æ•ˆ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"sytlesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"main.css?v=1"</span>&gt;</span></div></pre></td></tr></table></figure><p>åªè¦æ¯æ¬¡æ›´æ–°æ ·å¼è¡¨çš„æ—¶å€™<code>v=</code>åé¢çš„æ•°å­—ä¸åŒï¼Œå°±å¯ä»¥ä¸‹è½½æ–°çš„æ ·å¼è¡¨äº†ã€‚</p></li></ul><h3 id="importçš„ç¼ºç‚¹"><a href="#importçš„ç¼ºç‚¹" class="headerlink" title="@importçš„ç¼ºç‚¹"></a>@importçš„ç¼ºç‚¹</h3><ul><li><p>åœ¨IE678ä¸­ï¼Œ<code>import</code>ä¼šè¢«<code>link</code>é˜»å¡ï¼Œæ— æ³•å¹¶è¡ŒåŠ è½½ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span> <span class="attr">href</span>=<span class="string">'a.css'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css">@<span class="keyword">import</span> url(<span class="string">'b.css'</span>);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure><p><img src="http://stevesouders.com/tests/atimport/link-import.gif" alt="@import blocked by link"></p><p>å¦‚å›¾ã€‚ç¬¬ä¸€æ®µæ˜¯HTMLçš„åŠ è½½ï¼Œç¬¬äºŒæ®µæ˜¯a.cssï¼Œç¬¬äºŒæ®µæ˜¯b.css</p></li><li><p>å¦‚æœæ˜¯ä»¥ä¸‹æ–¹å¼è°ƒç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span> <span class="attr">href</span>=<span class="string">'a.css'</span>&gt;</span></div><div class="line">in a.css:</div><div class="line">@import url('b.css');</div></pre></td></tr></table></figure><p><img src="http://stevesouders.com/tests/atimport/link-with-import.gif" alt="link with @import"></p><p>æµè§ˆå™¨è¦ç­‰åˆ°a.cssä¸‹è½½å®Œå¹¶å¹¶è§£æåæ‰èƒ½å»ä¸‹è½½b.cssï¼Œè¿™åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­å¶æ˜¯å¦‚æ­¤ã€‚</p></li><li><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">in the HTML document:</div><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span> <span class="attr">href</span>=<span class="string">'a.css'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span> <span class="attr">href</span>=<span class="string">'proxy.css'</span>&gt;</span></div><div class="line">in proxy.css:</div><div class="line">@import url('b.css');</div></pre></td></tr></table></figure><p>å¦‚æœæ˜¯è¿™ç§è°ƒç”¨æ–¹å¼ï¼Œåœ¨IEä¸­ä¼šæ˜¯å¦‚ä¸‹</p><p><img src="http://stevesouders.com/tests/atimport/link-blocks-import.gif" alt="link blocks @import"></p><p>ç¬¬ä¸€æ®µæ˜¯HTMLï¼Œç¬¬äºŒæ®µæ˜¯a.cssï¼Œç¬¬ä¸‰ï¼ˆå°ï¼‰æ®µæ˜¯proxy.cssï¼Œå¯ä»¥çœ‹åˆ°linkæ˜¯å¯ä»¥å¹¶è¡Œä¸‹è½½çš„ï¼Œæœ€åä¸€æ®µæ—¶b.cssï¼Œä½†æ˜¯åœ¨IEä¸­@importä¼šè¢«linké˜»å¡ï¼Œåªèƒ½ç­‰åˆ°linkçš„ä¸‹è½½å®Œæ¯•æ‰èƒ½å¼€å§‹ä¸‹è½½ã€‚</p><p>åœ¨å…¶ä»–æµè§ˆå™¨ä¸­é¡ºåºå¦‚ä¸‹ï¼š</p><p><img src="http://stevesouders.com/tests/atimport/link-blocks-import-not-ie.gif" alt="link blocks @import"></p><p>ç¬¬ä¸€æ®µæ˜¯HTMLï¼Œç¬¬äºŒæ®µæ˜¯a.cssï¼Œç¬¬ä¸‰æ®µæ˜¯proxy.cssï¼Œæ˜¾ç„¶linkæ˜¯å¯ä»¥å¹¶è¡Œä¸‹è½½çš„ã€‚ç¬¬å››æ®µæ˜¯b.cssï¼Œéœ€è¦ç­‰åˆ°proxy.cssåŠ è½½è§£æå®Œæ¯•åæ‰èƒ½å¼€å§‹ä¸‹è½½ï¼Œä½†æ˜¯åœ¨å…¶ä»–æµè§ˆå™¨ä¸­å¹¶ä¸ä¼šè¢«linké˜»å¡ã€‚</p></li><li><p>åœ¨IE678ä¸­</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="css">@<span class="keyword">import</span> url(<span class="string">'a.css'</span>);</span></div><div class="line"><span class="css">@<span class="keyword">import</span> url(<span class="string">'b.css'</span>);</span></div><div class="line"><span class="css">@<span class="keyword">import</span> url(<span class="string">'c.css'</span>);</span></div><div class="line"><span class="css">@<span class="keyword">import</span> url(<span class="string">'d.css'</span>);</span></div><div class="line"><span class="css">@<span class="keyword">import</span> url(<span class="string">'e.css'</span>);</span></div><div class="line"><span class="css">@<span class="keyword">import</span> url(<span class="string">'f.css'</span>);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'one.js'</span> <span class="attr">type</span>=<span class="string">'text/javascript'</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p><img src="http://stevesouders.com/tests/atimport/many-imports.gif" alt="many @imports"></p><p>ï¼ˆæœ€é•¿çš„é‚£ä¸€æ®µæ˜¯jsçš„ä»£ç ï¼‰</p><p>å¯ä»¥çœ‹åˆ°å°½ç®¡jsçš„ä»£ç é¡ºåºæ’åœ¨æœ€åï¼Œä½†æ˜¯åœ¨åŠ è½½çš„ç¡®å®ç¬¬ä¸€ä¸ªï¼Œä»–ä»¬æ— æ³•æŒ‰ç…§ç»™å®šçš„é¡ºåºä¾æ¬¡ä¸‹è½½ã€‚æ‰€ä»¥å¦‚æœåŠ è½½çš„jsä»£ç å¯¹cssæœ‰ä¾èµ–çš„è¯å°±è¡€å´©äº†ã€‚</p></li><li><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span> <span class="attr">href</span>=<span class="string">'a.css'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span> <span class="attr">href</span>=<span class="string">'b.css'</span>&gt;</span></div></pre></td></tr></table></figure><p><img src="http://stevesouders.com/tests/atimport/import-import.gif" alt="link link"></p><p>ä½¿ç”¨linké“¾æ¥èƒ½ä¿è¯å¹¶è¡Œä¸‹è½½å¹¶ä¸”èƒ½å¤ŸæŒ‰ç…§æŒ‡å®šçš„é¡ºåºä¸‹è½½ã€‚</p></li><li><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span> <span class="attr">href</span>=<span class="string">'proxy.css'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'one.js'</span> <span class="attr">type</span>=<span class="string">'text/javascript'</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">in proxy.css</div><div class="line">@import url('a.css');</div><div class="line">@import url('b.css');</div><div class="line">@import url('c.css');</div><div class="line">@import url('d.css');</div><div class="line">@import url('e.css');</div><div class="line">@import url('f.css');</div></pre></td></tr></table></figure><p><img src="http://stevesouders.com/tests/atimport/link-with-imports.gif" alt="link with many @imports"></p><p>ç¬¬ä¸€æ®µä¸ºHTMLï¼Œç¬¬äºŒæ®µä¸ºproxy.cssï¼Œæœ€é•¿çš„ä¸€æ®µä¸ºjsã€‚ä¸€å¼€å§‹åŠ è½½HTMLï¼Œç„¶åä¾æ¬¡åŠ è½½proxy.csså’Œjsï¼Œå½“a.cssåŠ è½½å®Œæ¯•åå¼€å§‹å¹¶è¡ŒåŠ è½½@importçš„cssï¼Œä¸æ­¤åŒæ—¶jsä¸€ç›´åœ¨åŠ è½½ï¼Œå¯ä»¥å‘ç°ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€æ˜¯jsçš„ä¸‹è½½å¯èƒ½ä¼šä¼˜å…ˆäºcssç»“æŸï¼ˆIE678çš„é—®é¢˜ï¼‰ï¼ŒäºŒæ˜¯jsä¸€ç›´å ç”¨ç€HTTPçš„è¿æ¥æ•°ï¼Œå¯¼è‡´cssåŠ è½½å˜æ…¢ï¼ˆæ‰€æœ‰æµè§ˆå™¨çš„é—®é¢˜ï¼‰</p></li><li><p>å‚è€ƒæ–‡çŒ®ï¼š<a href="http://www.stevesouders.com/blog/2009/04/09/dont-use-import/" target="_blank" rel="external">donâ€™t use @import</a></p></li></ul><h3 id="em-amp-px-amp"><a href="#em-amp-px-amp" class="headerlink" title="em &amp; px &amp; %"></a>em &amp; px &amp; %</h3><ul><li><code>em</code>æŒ‡çš„æ˜¯åœ¨ä¸é¢å¤–è®¾ç½®<code>line-height</code>æ—¶åŸºçº¿é—´çš„è·ç¦»ã€‚</li><li>å»ºè®®ä»¥<code>em</code>ä¸ºå•ä½è®¾ç½®<strong>å®¹å™¨çš„å®½åº¦</strong>ï¼Œè¿™æ ·å¯ä»¥ä¿éšœåœ¨å­—å·å¢åŠ æ—¶æ•´ä¸ªå¸ƒå±€éšä¹‹æ‰©å¤§ã€‚ä»¥<code>%</code>è®¾ç½®<strong>å†…éƒ¨çš„å®½åº¦</strong>ï¼Œè¿™æ ·çˆ¶å…ƒç´ æ˜¯<code>em</code>ç¡®å®šçš„å¤§å°ï¼Œ<code>%</code>è¿˜æ˜¯ç›¸å¯¹äºå­—å·çš„ã€‚è¿™æ ·å°±å¯ä»¥æ–¹ä¾¿çš„ä¿®æ”¹å¸ƒå±€çš„æ€»å°ºå¯¸ã€‚</li></ul><h3 id="background"><a href="#background" class="headerlink" title="background:"></a>background:</h3><ul><li>CSS3å¯ä»¥è®¾ç½®å¤šä¸ª<code>background-image</code>ï¼Œå¹¶ä¸”å¯ä»¥åˆ†åˆ«è®¾ç½®<code>position</code>å’Œ<code>repeat</code>ï¼Œä½¿ç”¨é€—å·åˆ†éš”ã€‚</li><li>é€šè¿‡å°†èƒŒæ™¯çš„ä¸åŒçš„<code>background-image</code>çš„<code>background-position</code>è®¾ç½®ä¸ºä¸åŒçš„ç™¾åˆ†æ¯”å¯ä»¥å®ç°è§†å·®æ»‘åŠ¨ã€‚è¶Šå‰æ™¯çš„éƒ¨åˆ†å€¼è¶Šå¤§ï¼ˆç§»åŠ¨æ—¶éœ€è¦åŠ¨çš„è¶Šå¤šï¼‰ã€‚</li><li><code>background</code>å¡«å……<code>padding</code>åŒºåŸŸï¼Œä¼šä¸€ç›´è”“å»¶åˆ°<code>border</code>çš„ä¸‹é¢ï¼Œä¹Ÿå°±æ˜¯è¯´<code>border</code>ç›–ä½äº†<code>background</code>ï¼Œå¦‚æœ<code>border</code>ä¸º<code>dashed</code>åˆ™å¯ä»¥çœ‹è§ä¸‹é¢çš„<code>background</code>ã€‚</li></ul><h3 id="link"><a href="#link" class="headerlink" title="link"></a>link</h3><ul><li>ä¸ºäº†å°½å¯èƒ½æé«˜ç½‘é¡µçš„å¯è®¿é—®æ€§ï¼Œåº”åœ¨å®šä¹‰<code>:hover</code>ä¼ªç±»æ—¶åŒæ—¶<code>:focus</code>ä¼ªç±»ï¼Œè¿™æ ·é€šè¿‡é”®ç›˜ç§»åŠ¨åˆ°é“¾æ¥ä¸Šæ—¶ï¼Œèƒ½å¤Ÿè·å¾—ä¸é¼ æ ‡æ‚¬åœåŒæ ·çš„æ ·å¼ã€‚ </li><li>åœ¨CSS3ä¸­ï¼Œå¯ä¸º<code>#</code>é“¾æ¥ç‚¹å‡»ç›®æ ‡æ·»åŠ ä¼ªç±»<code>:target</code>æ¥åšåˆ°è·³è½¬æ—¶çš„æç¤ºã€‚</li></ul><h3 id="img"><a href="#img" class="headerlink" title="img"></a>img</h3><ul><li><code>url</code>çš„ç›¸å¯¹è·¯å¾„æŒ‡çš„æ˜¯ç›¸å¯¹äºæ ·å¼è¡¨çš„ç›¸å¯¹è·¯å¾„ï¼Œè€Œä¸æ˜¯htmlé¡µé¢çš„ç›¸å¯¹è·¯å¾„ã€‚</li></ul><h3 id="before-amp-after"><a href="#before-amp-after" class="headerlink" title="before &amp; after"></a>before &amp; after</h3><ul><li><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">p:before&#123;</div><div class="line">  content: url(images/test.jpg);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å°±å¯ä»¥åœ¨<code>p</code>ä¹‹å‰æ’å…¥å›¾ç‰‡ã€‚è¿˜å¯ä»¥å°†æ–‡å­—ä¸å›¾ç‰‡ç»“åˆèµ·æ¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">p:before&#123;</div><div class="line">  content: "Paragraph" url(images/test.jpg);</div><div class="line">&#125;</div></pre></td></tr></table></figure></li></ul><h3 id="font"><a href="#font" class="headerlink" title="font"></a>font</h3><ul><li><p>åœ¨ä½¿ç”¨ç®€å†™å±æ€§<code>font</code>æ—¶ï¼Œæ‰€æœ‰è¢«å¿½ç•¥çš„å€¼éƒ½ä¼šé‡ç½®ä¸ºå…¶é»˜è®¤å€¼ã€‚å› æ­¤</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">h1</span> &#123;</div><div class="line">  <span class="attribute">font</span>: italic bold <span class="number">250%</span> sans-serif;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">h1</span>&#123;</div><div class="line">  <span class="attribute">font</span>: <span class="number">20px</span> sans-serif;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æœ€ååªæœ‰<code>20px</code>å’Œ<code>sans-serif</code>è¢«ä¿å­˜ä¸‹æ¥äº†ï¼Œå…¶ä»–çš„éƒ½åœ¨ç¬¬äºŒæ¬¡è®¾ç½®æ ·å¼æ—¶è¢«é‡ç½®äº†ï¼Œç›¸å½“äº</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">h1</span>&#123;</div><div class="line">  <span class="attribute">font</span>: normal normal normal <span class="number">20px</span> sans-serif;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li></ul><h3 id="font-face"><a href="#font-face" class="headerlink" title="font-face"></a>font-face</h3><ul><li><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">font-face</span>&#123;</div><div class="line">  <span class="attribute">font-family</span>: Lavoisier;</div><div class="line">  <span class="attribute">src</span>: <span class="built_in">local</span>(Lavoisier),</div><div class="line">    <span class="built_in">url</span>(font/Lavoisier.ttf);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨<code>local</code>å¯ä»¥é¿å…åœ¨æœ¬åœ°å…·æœ‰<code>local</code>å­—ä½“çš„æƒ…å†µä¸‹ç»§ç»­ä¸‹è½½æŒ‡å®šå­—ä½“ï¼ˆç›´æ¥ä½¿ç”¨<code>local</code>å­—ä½“ï¼‰ã€‚</p></li></ul><h3 id="line-height"><a href="#line-height" class="headerlink" title="line-height"></a>line-height</h3><ul><li><p>æµè§ˆå™¨çš„é»˜è®¤è¡Œé«˜ä¸€èˆ¬æ˜¯120%ï¼Œåœ¨ç¡®å®šæ–‡æœ¬è¡Œä¹‹é—´çš„é—´è·é‡æ—¶ï¼Œæµè§ˆå™¨ä¸€èˆ¬ä»è¡Œé«˜ä¸­é—´å»å­—ä½“å¤§å°ã€‚è¿™ä¸ªç»“æœç§°ä½œleadingï¼Œå°±æ˜¯æ®µè½ä¸­è¡Œä¸è¡Œä¹‹é—´çš„é—´è·é‡ã€‚</p></li><li><p>ä¸€èˆ¬ä½¿ç”¨<code>em</code>æˆ–<code>percent</code>æ¥æ§åˆ¶è¡Œé«˜ï¼Œè¿™æ ·èƒ½å¤Ÿéšç€<code>font-size</code>çš„å¤§å°è‡ªé€‚åº”å˜åŒ–ã€‚</p></li><li><p><code>line-height</code>çš„å±æ€§ç»§æ‰¿éœ€è¦æ³¨æ„ã€‚å‡è®¾çˆ¶å…ƒç´ çš„<code>font-size</code>ä¸º<code>20px</code>ï¼Œå­å…ƒç´ <code>font-size</code>ä¸º<code>40px</code>ï¼Œçˆ¶å…ƒç´ <code>line-height</code>è®¾ä¸º<code>120%</code>æˆ–<code>1.2em</code>ï¼Œ<strong>åˆ™å­å…ƒç´ ç»§æ‰¿çš„æ˜¯çˆ¶å…ƒç´ è®¡ç®—å‡ºæ¥çš„è¡Œé«˜çš„<code>px</code>å€¼ï¼Œè€Œä¸æ˜¯ç™¾åˆ†æ¯”</strong>ï¼Œæ‰€ä»¥å­å…ƒç´ çš„è¡Œé«˜ä¼šç­‰äº20 * 1.2 = 24pxè€Œä¸å­å…ƒç´ çš„<code>font-size</code>å®Œå…¨æ²¡æœ‰å…³ç³»ã€‚</p><p> å¦‚å›¾æ‰€ç¤ºã€‚</p><p> <img src="/2016-06-07/CSS TIPS/line-height-inherit.png" alt="line-height inherit"></p><p> æ‰€ä»¥å¦‚æœå¸Œæœ›å®ç°æŒ‰æ¯”ä¾‹ç»§æ‰¿ï¼Œç›´æ¥ä½¿ç”¨<code>line-height: 1.5;</code>ï¼Œè¿™æ ·å­å…ƒç´ çš„è¡Œé«˜å°†ç­‰äºè¿™ä¸ªç»§æ‰¿çš„æ¯”ä¾‹ä¹˜ä»¥è‡ªå·±<code>font-size</code>ã€‚</p></li><li><p>è®¾ç½®å•è¡Œæ–‡æœ¬ï¼ˆå†…è”æˆ–å—çº§å…ƒç´ æ—¶ï¼‰çš„é«˜åº¦æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>line-height</code>æ¥è®¾ç½®é«˜åº¦ï¼Œå¥½å¤„æ˜¯èƒ½å¤Ÿä¿æŒæ–‡æœ¬å‚ç›´å±…ä¸­ã€‚</p></li></ul><h3 id="clear"><a href="#clear" class="headerlink" title="clear:"></a>clear:</h3><ul><li><p><code>clear</code>å®é™…ä¸Šåœ¨å…ƒç´ é¡¶ä¸Šæ·»åŠ è¶³å¤Ÿçš„å¤–è¾¹è·ï¼Œä½¿å…ƒç´ çš„é¡¶è¾¹ç¼˜å‚ç›´ä¸‹é™åˆ°æµ®åŠ¨æ¡†ä¸‹è¾¹ã€‚</p><p>â€‹</p></li></ul><h3 id="overflow-hidden"><a href="#overflow-hidden" class="headerlink" title="overflow: hidden"></a>overflow: hidden</h3><ul><li>ovhä¼šä½¿å»¶ä¼¸åˆ°æµ®åŠ¨ä¸‹æ–¹çš„èƒŒæ™¯å’Œè¾¹æ¡†æ¶ˆå¤±ï¼Œæ¶ˆå¤±æ˜¯ä»è¿›å…¥æµ®åŠ¨å…ƒç´ çš„marginèŒƒå›´å°±å¼€å§‹ç”Ÿæ•ˆã€‚å¦‚å›¾ï¼Œçº¢å—å…·æœ‰<code>margin</code>ï¼Œh1å»¶ä¼¸åˆ°æµ®åŠ¨å…ƒç´ <code>margin</code>çš„æ—¶å€™å°±å¼€å§‹æˆªæ–­äº†ã€‚<img src="/2016-06-07/CSS TIPS/ovh hidden bgc.png" alt="ovh hidden bgc"></li></ul><h3 id="text-transform"><a href="#text-transform" class="headerlink" title="text-transform"></a>text-transform</h3><ul><li><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">capitalize | uppercase | lowercase | (full-width)</div></pre></td></tr></table></figure><p>å¯ä»¥å°†æ–‡æœ¬é¦–å­—æ¯å¤§å†™ï¼Œè½¬å¤§å†™ï¼Œè½¬å°å†™ã€‚</p></li></ul><h3 id="z-index"><a href="#z-index" class="headerlink" title="z-index"></a>z-index</h3><ul><li>ç»å¯¹å®šä½çš„å…ƒç´ å¤„äºç½‘é¡µçš„ä¸Šå±‚ï¼ˆz-indexï¼‰ï¼Œç»å¯¹å®šä½å…ƒç´ ä¸­çš„ç»å¯¹å®šä½å…ƒç´ æ— è®º<code>z-index</code>å€¼ä¸ºå¤šå°‘ä¹Ÿåœ¨å…¶åŒ…å›´å…ƒç´ ä¹‹ä¸Šã€‚</li></ul><h3 id="è¡Œå†…å…ƒç´ "><a href="#è¡Œå†…å…ƒç´ " class="headerlink" title="è¡Œå†…å…ƒç´ "></a>è¡Œå†…å…ƒç´ </h3><ul><li><p>è¡Œå†…å…ƒç´ çš„æ°´å¹³é—´è·å¯ä»¥é€šè¿‡æ°´å¹³å†…è¾¹è·ã€æ°´å¹³å¤–è¾¹è·ã€æ°´å¹³è¾¹æ¡†æ¥æ”¹å˜ã€‚å‚ç›´è¾¹æ¡†ï¼Œå‚ç›´å†…è¾¹è·ï¼Œå‚ç›´å¤–è¾¹è·ä¸ä¼šå½±å“è¡Œå†…å…ƒç´ çš„é«˜åº¦ï¼Œåªæœ‰è¡Œé«˜å¯ä»¥å½±å“ã€‚</p></li><li><p>è¡Œæ¡†çš„é«˜åº¦æ€»æ˜¯è¶³ä»¥å®¹çº³å®ƒæ‰€åŒ…å«çš„æ‰€æœ‰è¡Œå†…æ¡†ã€‚</p></li><li><p>è¡Œå†…å…ƒç´ æ¯ä¸€è¡Œéƒ½æ˜¯å åŠ åœ¨ä¸Šä¸€è¡Œä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥å¦‚æœå¯¹ä¸‹é¢çš„è¡Œå†…å…ƒç´ è®¾ç½®<code>padding</code>ä¼šè¦†ç›–ä¸Šé¢çš„è¡Œå†…å…ƒç´ ï¼Œè¿™ä¸ªè¦†ç›–æ˜¯ä¾ç…§HTMLä¸­çš„é¡ºåºå†³å®šï¼Œè€Œä¸æ˜¯æµè§ˆå™¨ä¸­æ¸²æŸ“çš„ä½ç½®å†³å®šçš„ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Andy Budd<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    Andy is the Managing Director of Clearleft. He also goes by the title of User Experience Director depending what mood</div><div class="line">    heâ€™s in. Andy is the author of <span class="tag">&lt;<span class="name">em</span>&gt;</span>CSS Mastery<span class="tag">&lt;/<span class="name">em</span>&gt;</span>, curates the dConstruct and UX London events and is responsible for Silverbackapp,</div><div class="line">    our low cost usability testing application for the Mac.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"sp1"</span>&gt;</span>lower<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>å¦‚å›¾ï¼Œloweråœ¨HTMLåœ¨é»„å­—ä¹‹åï¼Œä½†æ˜¯é€šè¿‡cssçš„è®¾ç½®æ’åœ¨äº†é»„å­—ä¸Šé¢ï¼Œä¸è¿‡lowerè¿˜æ˜¯è¦†ç›–äº†é»„å­—ã€‚</p><p><img src="/2016-06-07/CSS TIPS/inline-cover.png" alt="inline-cover"></p><p>â€‹</p></li></ul><h3 id="å¤–è¾¹è·"><a href="#å¤–è¾¹è·" class="headerlink" title="å¤–è¾¹è·"></a>å¤–è¾¹è·</h3><ul><li><p>åªæœ‰æ™®é€šæ–‡æ¡£æµä¸­å—æ¡†çš„å‚ç›´å¤–è¾¹è·æ‰ä¼šå‘ç”Ÿå¤–è¾¹è·å åŠ ã€‚è¡Œå†…æ¡†ã€æµ®åŠ¨æ¡†æˆ–ç»å¯¹å®šä½æ¡†ä¹‹é—´çš„å¤–è¾¹è·ä¸ä¼šå åŠ ã€‚ï¼ˆä¸€ä¸ªè®¾ç½®äº†<code>position: relative</code>çš„æ™®é€šæ–‡æ¡£æµå…ƒç´ ä¹Ÿä¼šå’Œå…¶ä»–æ™®é€šæ–‡æ¡£æµå…ƒç´ å‘ç”Ÿå¤–è¾¹è·å åŠ ï¼‰</p></li><li><p>å¤–è¾¹è·å‘ç”Ÿå åŠ çš„å‡ ç§æƒ…å†µï¼š</p><ul><li><p>æ™®é€šå¤–è¾¹è·å åŠ </p><p><img src="/2016-06-07/CSS TIPS/./CSS TIPS/margin collapse 1.png" alt="margin collapse 1"></p></li><li><p>ç©ºå…ƒç´ ï¼ˆæ²¡æœ‰è¾¹æ¡†å’Œå†…è¾¹è·å°†ä¸¤ä¸ªå¤–è¾¹è·åˆ†éš”å¼€ï¼‰</p><p><img src="/2016-06-07/CSS TIPS/./CSS TIPS/margin collapse 2.png" alt="margin collapse 1"></p></li><li><p>ç©ºå…ƒç´ ï¼ˆè‡ªèº«çš„<code>margin-top</code>å’Œ<code>margin-bottom</code>æŠ˜å äº†ï¼‰</p><p><img src="/2016-06-07/CSS TIPS/./CSS TIPS/margin collapse 3.png" alt="margin collapse 1"></p></li><li><p>å åŠ ä¹‹åçš„å¤–è¾¹è·åªè¦æ»¡è¶³æ¡ä»¶å°±å¯ä»¥ç»§ç»­å åŠ </p><p><img src="/2016-06-07/CSS TIPS/./CSS TIPS/margin collapse 4.png" alt="margin collapse 1"></p></li></ul></li></ul><h3 id="ä¼ªç±»"><a href="#ä¼ªç±»" class="headerlink" title="ä¼ªç±»"></a>ä¼ªç±»</h3><ul><li><p>é€šè¿‡æŠŠä¼ªç±»è¿æ¥åœ¨ä¸€èµ·ï¼Œå¯ä»¥å®ç°æ›´å¤æ‚çš„è¡Œä¸ºï¼Œæ¯”å¦‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span><span class="selector-pseudo">:hover</span> &#123; <span class="attribute">color </span>: red; &#125;;</div><div class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:visited</span> &#123; <span class="attribute">color </span>: red; &#125;;</div></pre></td></tr></table></figure><p>é¡ºåºé¡ºåºå¹¶æ²¡æœ‰å½±å“ã€‚</p></li><li><p><code>hover</code> <code>active</code> <code>focus</code>ç†è®ºä¸Šå¯ä»¥åº”ç”¨äºæ‰€æœ‰çš„å…ƒç´ ã€‚</p></li><li><p>åœ¨ä¸‹æ‹‰å¼èœå•æ ä¸­ï¼Œå¯ä»¥å…ˆ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#nav</span> <span class="selector-tag">li</span> <span class="selector-tag">ul</span> &#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">left </span>: -<span class="number">999em</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å†åœ¨çˆ¶åˆ—è¡¨é¡¹ä¸­æ·»åŠ é¼ æ ‡æ‚¬åœä¼ªé€‰æ‹©å™¨ï¼ŒæŠŠä¸‹æ‹‰èœå•çš„ä½ç½®æ”¹å›åŸæ¥çš„æ­£å¸¸ä½ç½®ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#nav</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">ul</span> &#123;</div><div class="line"><span class="attribute">left </span>: auto;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li><li><p>å³ä½¿é¼ æ ‡æ‚¬åœäºæŸçˆ¶å…ƒç´ çš„å­å…ƒç´ ä¸Šæ—¶ï¼Œå³ä½¿è¿™ä¸ªçˆ¶å…ƒç´ å¹¶ä¸åœ¨é¼ æ ‡æ‰€åœ¨ä½ç½®ï¼Œæˆ–è€…è¿™ä¸ªçˆ¶å…ƒç´ å¤§å°ä¸º0ï¼Œä¹Ÿä¼šè§¦å‘çˆ¶å…ƒç´ çš„<code>:hover</code>ä¼ªç±»ã€‚</p></li></ul><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><ul><li>@todoæ¥è¡¨ç¤ºæŸäº›ä¸œè¥¿éœ€è¦åœ¨ä»¥åè¿›è¡Œä¿®æ”¹ã€ä¿®å¤æˆ–å¤æŸ¥</li><li>@bugfixè¡¨ç¤ºä»£ç æˆ–ç‰¹å®šæµè§ˆå™¨é‡åˆ°çš„é—®é¢˜</li><li>@workaroundè¡¨ç¤ºå¹¶ä¸å®Œå–„çš„æƒå®œä¹‹è®¡</li></ul><h3 id="important"><a href="#important" class="headerlink" title="!important"></a>!important</h3><ul><li>å½“ä¸¤ä¸ªéƒ½æœ‰<code>!important</code>çš„æ ·å¼åº”ç”¨äºç›¸åŒçš„å±æ€§æ—¶ï¼Œæ›´å…·ä½“çš„ <code>!importat</code>è§„åˆ™å°†ä¼šèƒœå‡ºã€‚</li></ul><h3 id="æ•´ä½“"><a href="#æ•´ä½“" class="headerlink" title="æ•´ä½“"></a>æ•´ä½“</h3><ul><li>ä¸€èˆ¬æ€§æ ·å¼<ul><li>ä¸»ä½“æ ·å¼ï¼ˆåº”ç”¨äºbodyæ ‡è®°çš„ï¼Œåº”è¯¥ç”±ç«™ç‚¹ä¸Šæ‰€æœ‰å…ƒç´ ç»§æ‰¿çš„æ ·å¼ï¼‰</li><li>resetæ ·å¼</li><li>é“¾æ¥</li><li>æ ‡é¢˜</li><li>å…¶ä»–å…ƒç´ </li></ul></li><li>è¾…åŠ©æ ·å¼<ul><li>è¡¨å•</li><li>é€šçŸ¥å’Œé”™è¯¯</li><li>ä¸€è‡´çš„æ¡ç›®</li></ul></li><li>é¡µé¢ç»“æ„<ul><li>æ ‡é¢˜ã€é¡µè„šå’Œå¯¼èˆª</li><li>å¸ƒå±€</li><li>å…¶ä»–é¡µé¢ç»“æ„å…ƒç´ </li></ul></li><li>é¡µé¢ç»„ä»¶<ul><li>å„ä¸ªé¡µé¢</li></ul></li><li>è¦†ç›–</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;html&quot;&gt;&lt;a href=&quot;#html&quot; class=&quot;headerlink&quot; title=&quot;html&quot;&gt;&lt;/a&gt;html&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å½“ç½‘é¡µä¸­çš„å†…å®¹è¾ƒå°‘æ—¶ï¼Œhtmlå…ƒç´ å¯èƒ½æ— æ³•è¦†ç›–æ•´ä¸ªæµè§ˆå™¨çš„é«˜åº¦ï¼Œé€šè¿‡è®¾ç½®&lt;/p&gt;
&lt;figure clas
      
    
    </summary>
    
    
      <category term="CSS" scheme="https://fi3ework.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>AJAXè·¨åŸŸè¯·æ±‚åˆ†æ</title>
    <link href="https://fi3ework.github.io/2016-05-27/AJAX%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%E5%88%86%E6%9E%90/"/>
    <id>https://fi3ework.github.io/2016-05-27/AJAXè·¨åŸŸè¯·æ±‚åˆ†æ/</id>
    <published>2016-05-27T13:28:11.000Z</published>
    <updated>2017-12-09T11:28:08.889Z</updated>
    
    <content type="html"><![CDATA[<h2 id="AJAXè·¨åŸŸè¯·æ±‚åˆ†æ"><a href="#AJAXè·¨åŸŸè¯·æ±‚åˆ†æ" class="headerlink" title="AJAXè·¨åŸŸè¯·æ±‚åˆ†æ"></a>AJAXè·¨åŸŸè¯·æ±‚åˆ†æ</h2><h3 id="å¼•å‡º"><a href="#å¼•å‡º" class="headerlink" title="å¼•å‡º"></a>å¼•å‡º</h3><p>é¦–å…ˆçœ‹ä¸€æ®µåŸç”Ÿè°ƒç”¨AJAXçš„ä»£ç ï¼Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//åŸç”Ÿè°ƒç”¨AJAX</span></div><div class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line"><span class="keyword">let</span> url1 = <span class="string">"https://free-api.heweather.com/v5/now?city=beijing&amp;key=dce751438a22402b9c8c1fcb95e3ce82"</span></div><div class="line"><span class="keyword">let</span> url2 = <span class="string">"http://api.k780.com/?app=weather.future&amp;weaid=1&amp;appkey=25688&amp;sign=f1b67fe3f11c62d94d613a42f7fbd7b9&amp;format=json"</span></div><div class="line">xhr.open(<span class="string">"GET"</span>, url1, <span class="literal">true</span>);</div><div class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (xhr.status &gt;= <span class="number">200</span> &amp;&amp; xhr.status &lt; <span class="number">300</span> || xhr.status === <span class="number">304</span>) &#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"JSON by native:"</span>);</div><div class="line">            <span class="built_in">console</span>.log(xhr.responseText);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">xhr.send();</div></pre></td></tr></table></figure><p><code>url1</code>å’Œ<code>url2</code>ä¸¤ä¸ªå¤©æ°”çš„æ¥å£ï¼Œ<code>url1</code>æ¥è‡ª<a href="https://www.heweather.com/documents/api/v5/now" target="_blank" rel="external">å’Œé£å¤©æ°”</a>ï¼Œ<code>url2</code>æ¥è‡ª<a href="https://www.heweather.com/documents/api/v5/now" target="_blank" rel="external">NOWapi</a>ï¼Œå¯¹<code>url1</code>çš„è°ƒç”¨ç»“æœä¸º</p><p><img src="/2016-05-27/AJAXè·¨åŸŸè¯·æ±‚åˆ†æ/./AJAXè·¨åŸŸè¯·æ±‚åˆ†æ/json1.png" alt="json1"></p><p>å¯¹url2è°ƒç”¨çš„ç»“æœä¸º</p><p><img src="/2016-05-27/AJAXè·¨åŸŸè¯·æ±‚åˆ†æ/./AJAXè·¨åŸŸè¯·æ±‚åˆ†æ/json2.png" alt="json2"></p><p>é€ æˆè¿™ä¸¤ä¸ªç»“æœä¸åŒçš„åŸå› å°±æ˜¯AJAXåœ¨è°ƒç”¨æ—¶çš„åŒæºç­–ç•¥ï¼Œä¸‹é¢å°†è¿›è¡Œåˆ†æã€‚</p><h3 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="headerlink" title="è·¨åŸŸ"></a>è·¨åŸŸ</h3><p>åŒæºçš„åé¢â€”â€”å°±æ˜¯éåŒæºï¼Œä¹Ÿå°±æ˜¯è·¨åŸŸï¼Œé¦–å…ˆç¡®å®šè·¨åŸŸçš„å®šä¹‰ï¼ˆå¼•è‡ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" target="_blank" rel="external">æµè§ˆå™¨çš„åŒæºç­–ç•¥</a>ï¼‰ï¼š</p><blockquote><p>å¦‚æœåè®®ï¼Œç«¯å£ï¼ˆå¦‚æœæŒ‡å®šäº†ä¸€ä¸ªï¼‰å’ŒåŸŸåå¯¹äºä¸¤ä¸ªé¡µé¢æ˜¯ç›¸åŒçš„ï¼Œåˆ™ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„<strong>æº</strong>ã€‚</p></blockquote><p>å…·ä½“çš„å¤§å®¶å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« <a href="http://twlidong.github.io/blog/2013/12/22/kua-yuan-zi-yuan-gong-xiang-cross-origin-resource-sharing-cors/" target="_blank" rel="external">è·¨æºèµ„æºå…±äº« Cross Origin Resource Sharing(CORS)</a>ï¼Œè®²çš„éå¸¸å¥½äº†ã€‚</p><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>ä»MDNçš„å®šä¹‰ä¸Šæ¥è¯´ï¼š</p><blockquote><p> å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¼šé™åˆ¶è„šæœ¬ä¸­å‘èµ·çš„è·¨åŸŸè¯·æ±‚ã€‚æ¯”å¦‚ï¼Œä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="external"><code>XMLHttpRequest</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API" target="_blank" rel="external">Fetch </a>å‘èµ·çš„ HTTP è¯·æ±‚å¿…é¡»éµå¾ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" target="_blank" rel="external">åŒæºç­–ç•¥</a>ã€‚å› æ­¤ï¼ŒWeb åº”ç”¨é€šè¿‡ <a href="https://developer.mozilla.org/en/DOM/XMLHttpRequest" target="_blank" rel="external"><code>XMLHttpRequest</code></a> å¯¹è±¡æˆ– <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" target="_blank" rel="external">Fetch</a> ä»…èƒ½å‘åŒåŸŸèµ„æºå‘èµ· HTTP è¯·æ±‚ã€‚ </p></blockquote><p>ä½†ç¦æ­¢è·¨åŸŸè®¿é—®æ˜¾ç„¶é™åˆ¶äº†ç½‘ç«™çš„èƒ½åŠ›ï¼Œæ‰€ä»¥æµè§ˆå™¨å®ç°äº†åˆç†çš„è·¨åŸŸè¯·æ±‚ï¼ŒJSé«˜ç¨‹ä¸‰ï¼š</p><blockquote><p>CORSï¼ˆCross-Origin Resource Sharingï¼Œè·¨æºèµ„æºå…±äº«ï¼‰æ˜¯ W3C çš„ä¸€ä¸ªå·¥ä½œè‰æ¡ˆï¼Œå®šä¹‰äº†åœ¨å¿…é¡»è®¿<br>é—®è·¨æºèµ„æºæ—¶ï¼Œæµè§ˆå™¨ä¸æœåŠ¡å™¨åº”è¯¥å¦‚ä½•æ²Ÿé€šã€‚ CORS èƒŒåçš„åŸºæœ¬æ€æƒ³ï¼Œå°±æ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„ HTTP å¤´éƒ¨<br>è®©æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œæ²Ÿé€šï¼Œä»è€Œå†³å®šè¯·æ±‚æˆ–å“åº”æ˜¯åº”è¯¥æˆåŠŸï¼Œè¿˜æ˜¯åº”è¯¥å¤±è´¥ã€‚</p></blockquote><p>è¿™ä¸ªè‡ªå®šä¹‰çš„å¤´éƒ¨å°±æ˜¯<strong>Originå­—æ®µ</strong>ï¼Œå…¶ä¸­åŒ…å«è¯·æ±‚é¡µé¢çš„æºä¿¡æ¯ï¼ˆåè®®ã€åŸŸåå’Œç«¯å£ï¼‰ï¼Œä»¥ä¾¿æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå¤´éƒ¨ä¿¡æ¯æ¥å†³å®šæ˜¯å¦ç»™äºˆå“åº”ã€‚</p><blockquote><p>Firefox 3.5+ã€ Safari 4+ã€ Chromeã€ iOS ç‰ˆ Safari å’Œ Android å¹³å°ä¸­çš„ WebKit éƒ½é€šè¿‡ XMLHttpRequest<br>å¯¹è±¡å®ç°äº†å¯¹ CORS çš„åŸç”Ÿæ”¯æŒã€‚åœ¨å°è¯•æ‰“å¼€ä¸åŒæ¥æºçš„èµ„æºæ—¶ï¼Œæ— éœ€é¢å¤–ç¼–å†™ä»£ç å°±å¯ä»¥è§¦å‘è¿™ä¸ªè¡Œ<br>ä¸ºã€‚ è¦è¯·æ±‚ä½äºå¦ä¸€ä¸ªåŸŸä¸­çš„èµ„æºï¼Œä½¿ç”¨æ ‡å‡†çš„ XHR å¯¹è±¡å¹¶åœ¨ open()æ–¹æ³•ä¸­ä¼ å…¥ç»å¯¹ URL å³å¯ã€‚</p></blockquote><p>å› æ­¤ï¼Œèƒ½å¦è¿›è¡ŒCORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ï¼Œåªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨åŸŸé€šä¿¡ã€‚</p><p>å½“ä¸€ä¸ªAç½‘å€çš„ç½‘é¡µå‘Bç½‘å€å‘é€è¯·æ±‚çš„æ—¶å€™ï¼ŒBçš„serverå°±ä¼šæ ¹æ®Aå‘å‡ºçš„è¯·æ±‚çš„å¤´éƒ¨ä¿¡æ¯å†³å®šæ˜¯å¦å…è®¸è®¿é—®ï¼Œå¯¹Açš„response headerä¸­ä¼šåŒ…å«<code>Access-Control-Allow-Origin</code>æ¥å‘Šè¯‰æµè§ˆå™¨Bç½‘å€çš„æ•°æ®æ˜¯å¦èƒ½è¢«Aå¯¹åº”çš„åŸŸè®¿é—®åˆ°ï¼ˆå¦‚æœæ²¡æœ‰è¿™ä¸ªå¤´éƒ¨ï¼Œæˆ–è€…æœ‰è¿™ä¸ªå¤´éƒ¨ä½†æºä¿¡æ¯ä¸åŒ¹é…ï¼Œæµè§ˆå™¨å°±ä¼šé©³å›è¯·æ±‚ï¼‰ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒBç½‘å€ä¸å…è®¸è·¨åŸŸè®¿é—®ï¼Œä¸è¿‡Bç«¯serveré€šè¿‡è®¾ç½®<code>Access-Control-Allow-Origin</code>å¯ä»¥å…è®¸ç‰¹å®šçš„åŸŸè®¿é—®ã€‚</p><p>Bç«¯çš„serverå¯ä»¥è®¾ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Access-Control-Allow-Origin: http://siteA.com</div></pre></td></tr></table></figure><p>æ¥å…è®¸AåŸŸåä¸‹çš„è®¿é—®è¯·æ±‚ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥è®¾ä¸º<code>*</code>ï¼Œå°±æ˜¯å…¬å…±èµ„æºäº†ï¼Œè°éƒ½å¯ä»¥è®¿é—®ï¼‰ã€‚</p><p>ç°ä»£æµè§ˆå™¨å¹¶ä¸ä¼šå®Œå…¨é˜»æ­¢è·¨åŸŸè¯·æ±‚ï¼Œå¦‚æœAç½‘é¡µå‘Bç½‘é¡µå‘é€è·¨åŸŸè¯·æ±‚ï¼Œæµè§ˆå™¨è¿˜æ˜¯ä¼šåœ¨ç½‘ç»œå±‚å–å¾—è¯·æ±‚é¡µé¢ç„¶åæ£€æŸ¥response headerä¸­æœ‰æ²¡æœ‰å°†AåŸŸè®¾ä¸ºå…è®¸è®¿é—®çš„åŸŸã€‚ï¼ˆæœ‰äº›æ–‡ç« ä¸­å†™é“æµè§ˆå™¨ç¦æ­¢è·¨åŸŸå‘é€è¯·æ±‚çš„è¯´æ³•å…¶å®æ˜¯ä¸æ­£ç¡®çš„ï¼Œæ— è®ºæ˜¯å¦è·¨åŸŸï¼Œæµè§ˆå™¨éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚<u>IE7åŠä»¥ä¸‹ä¼šé˜»æ­¢</u>ï¼Œç„¶åæ ¹æ®Response Headersæ¥ç¡®å®šæ•°æ®æ˜¯å¦æˆåŠŸè®¿é—®ï¼‰ã€‚å¦‚æœBç«¯çš„serveræ²¡æœ‰å…è®¸AåŸŸè¿›è¡Œè®¿é—®ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°†ä¼šè§¦å‘<code>XMLHttpRequest</code>â€˜s <code>error</code>äº‹ä»¶å¹¶é˜»æ­¢JSä»£ç è®¿é—®è¿”å›åˆ°æ•°æ®ï¼ˆå°±åƒä¸Šé¢æåˆ°çš„ï¼Œè¿”å›çš„response headerä¸­æ²¡æœ‰<code>Access-Control-Allow-Origin</code>å­—æ®µï¼‰ã€‚</p><h3 id="ç®€å•è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚"></a>ç®€å•è¯·æ±‚</h3><p>æŸäº›è¯·æ±‚ä¸ä¼šè§¦å‘ <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS#Preflighted_requests" target="_blank" rel="external">CORS é¢„æ£€è¯·æ±‚</a>ã€‚æœ¬æ–‡ç§°è¿™æ ·çš„è¯·æ±‚ä¸ºâ€œç®€å•è¯·æ±‚â€ï¼Œè¯·æ³¨æ„ï¼Œè¯¥æœ¯è¯­å¹¶ä¸å±äº <a href="https://fetch.spec.whatwg.org/" target="_blank" rel="external">Fetch</a> ï¼ˆå…¶ä¸­å®šä¹‰äº† CORSï¼‰è§„èŒƒã€‚è‹¥è¯·æ±‚æ»¡è¶³æ‰€æœ‰ä¸‹è¿°æ¡ä»¶ï¼Œåˆ™è¯¥è¯·æ±‚å¯è§†ä¸ºâ€œç®€å•è¯·æ±‚â€ï¼š</p><ul><li>ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¹‹ä¸€ï¼š<ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/GET" target="_blank" rel="external"><code>GET</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/HEAD" target="_blank" rel="external"><code>HEAD</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/POST" target="_blank" rel="external"><code>POST</code></a></li></ul></li><li>Fetch è§„èŒƒå®šä¹‰äº†<a href="https://fetch.spec.whatwg.org/#cors-safelisted-request-header" target="_blank" rel="external">å¯¹ CORS å®‰å…¨çš„é¦–éƒ¨å­—æ®µé›†åˆ</a>ï¼Œä¸å¾—äººä¸ºè®¾ç½®è¯¥é›†åˆä¹‹å¤–çš„å…¶ä»–é¦–éƒ¨å­—æ®µã€‚è¯¥é›†åˆä¸ºï¼š<ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Accept" target="_blank" rel="external"><code>Accept</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Accept-Language" target="_blank" rel="external"><code>Accept-Language</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Language" target="_blank" rel="external"><code>Content-Language</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type" target="_blank" rel="external"><code>Content-Type</code></a> ï¼ˆéœ€è¦æ³¨æ„é¢å¤–çš„é™åˆ¶ï¼‰</li><li><code>DPR</code></li><li><code>Downlink</code></li><li><code>Save-Data</code></li><li><code>Viewport-Width</code></li><li><code>Width</code></li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type" target="_blank" rel="external"><code>Content-Type</code></a> çš„å€¼å±äºä¸‹åˆ—ä¹‹ä¸€ï¼š<ul><li><code>application/x-www-form-urlencoded</code></li><li><code>`multipart/form-data</code></li><li><code>text/plain</code></li></ul></li></ul><h4 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h4><ol><li><p>é¦–å…ˆå®¢æˆ·ç«¯é€šè¿‡XHRå‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ï¼Œå…¶ä¸­å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä½¿ç”¨ CORS é¦–éƒ¨å­—æ®µæ¥å¤„ç†è·¨åŸŸæƒé™ï¼ˆå¦‚æœæœåŠ¡å™¨é€šè¿‡åˆ™å…è®¸è·¨åŸŸè®¿é—®ï¼‰ï¼Œå³Originå­—æ®µï¼ŒHTTPè¯·æ±‚å¤´å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">GET /v5/now?city=beijing&amp;key=dce751438a22402b9c8c1fcb95e3ce82 HTTP/1.1</div><div class="line">Host: free-api.heweather.com</div><div class="line">Connection: keep-alive</div><div class="line">Origin: null</div><div class="line">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36</div><div class="line">Accept: */*</div><div class="line">Accept-Encoding: gzip, deflate, sdch, br</div><div class="line">Accept-Language: zh-CN,zh;q=0.8</div></pre></td></tr></table></figure></li><li><p>ç„¶åæ˜¯æœåŠ¡å™¨è¿›è¡Œè¿”å›ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p><ol><li><p><strong>æœåŠ¡ç«¯å…è®¸</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Access-Control-Allow-Origin:*</div><div class="line">Connection:keep-alive</div><div class="line">Content-Length:362</div><div class="line">Content-Type:application/json;charset=UTF-8</div><div class="line">Date:Thu, 25 May 2017 15:55:41 GMT</div><div class="line">Server:nginx/1.9.10</div><div class="line">Set-Cookie:JSESSIONID=6A2D4564076C2A7AADA8F0FAF8B3BFC1; Path=/; HttpOnly</div><div class="line">Set-Cookie:bug_token=74985bfc9d79459c8916df1349e608d5; Path=/; HttpOnly</div></pre></td></tr></table></figure><p>æœåŠ¡ç«¯è¿”å›çš„ <code>Access-Control-Allow-Origin: *</code> è¡¨æ˜ï¼Œè¯¥èµ„æºå¯ä»¥è¢«<strong>ä»»æ„</strong>å¤–åŸŸè®¿é—®ï¼Œ</p></li><li><p><strong>æœåŠ¡ç«¯æ‹’ç»</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Connection:keep-alive</div><div class="line">Content-Length:3317</div><div class="line">Content-Type:application/json; charset=utf-8;</div><div class="line">Date:Thu, 25 May 2017 14:58:12 GMT</div><div class="line">Server:nginx/1.10.3</div></pre></td></tr></table></figure><p>ç›¸æ¯”æœåŠ¡ç«¯å…è®¸çš„æƒ…å†µå°‘äº†ï¼Œå°‘äº†å¦‚ä¸‹å­—æ®µï¼ˆå¯ä»¥è¯æ˜å³ä½¿è¢«æ‹’ç»ï¼Œä¹Ÿå‘æœåŠ¡å™¨å‘é€äº†è¯·æ±‚ï¼Œåªä¸è¿‡è¢«æœåŠ¡å™¨å‘äº†å¥½äººå¡ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Access-Control-Allow-Origin:*</div><div class="line">Set-Cookie:JSESSIONID=6A2D4564076C2A7AADA8F0FAF8B3BFC1; Path=/; HttpOnly</div><div class="line">Set-Cookie:bug_token=74985bfc9d79459c8916df1349e608d5; Path=/; HttpOnly</div></pre></td></tr></table></figure><p>å…¶ä¸­<code>Access-Control-Allow-Origin</code>å‚æ•°å€¼æŒ‡å®šäº†å…è®¸è®¿é—®è¯¥èµ„æºçš„å¤–åŸŸ URLã€‚url2è¯·æ±‚å¤±è´¥æ—¶çš„é”™è¯¯ä¿¡æ¯<code>No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;null&#39; is therefore not allowed access.</code>å°±æ˜¯åœ¨è¯´request responseä¸­æ²¡æœ‰<code>Access-Control-Allow-Origin</code>è¿™ä¸ªå­—æ®µï¼Œå¯¼è‡´æŠ¥é”™ã€‚è€Œ<code>Access-Control-Allow-Origin</code>çš„å€¼ä¸º<code>*</code>æˆ–è€…æ˜¯å‘é€è¯·æ±‚çš„åŸŸæ—¶ï¼Œæµè§ˆå™¨æ‰å…è®¸æˆ‘ä»¬æ‹¿åˆ°å®ƒé¡µé¢çš„æ•°æ®è¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ã€‚</p><h6 id="å¯èƒ½è¿”å›çš„è¯·æ±‚"><a href="#å¯èƒ½è¿”å›çš„è¯·æ±‚" class="headerlink" title="å¯èƒ½è¿”å›çš„è¯·æ±‚"></a>å¯èƒ½è¿”å›çš„è¯·æ±‚</h6><p>æœ‰ä¸‰ä¸ªä¸CORSè¯·æ±‚ç›¸å…³çš„å­—æ®µï¼Œéƒ½ä»¥<code>Access-Control-</code>å¼€å¤´ã€‚</p><p><strong>ï¼ˆ1ï¼‰Access-Control-Allow-Origin</strong>ï¼ˆå¿…é¡»ï¼‰</p><p>è¯¥å­—æ®µæ˜¯å¿…é¡»çš„ã€‚å®ƒçš„å€¼è¦ä¹ˆæ˜¯è¯·æ±‚æ—¶<code>Origin</code>å­—æ®µçš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª<code>*</code>ï¼Œè¡¨ç¤ºæ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚ã€‚</p><p><strong>ï¼ˆ2ï¼‰Access-Control-Allow-Credentials</strong>ï¼ˆå¯é€‰ï¼‰</p><p>è¯¥å­—æ®µå¯é€‰ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚è®¾ä¸º<code>true</code>ï¼Œå³è¡¨ç¤ºæœåŠ¡å™¨æ˜ç¡®è®¸å¯ï¼ŒCookieå¯ä»¥åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œä¸€èµ·å‘ç»™æœåŠ¡å™¨ã€‚è¿™ä¸ªå€¼ä¹Ÿåªèƒ½è®¾ä¸º<code>true</code>ï¼Œå¦‚æœæœåŠ¡å™¨ä¸è¦æµè§ˆå™¨å‘é€Cookieï¼Œåˆ é™¤è¯¥å­—æ®µå³å¯ã€‚</p><p><strong>ï¼ˆ3ï¼‰Access-Control-Expose-Headers</strong>ï¼ˆå¯é€‰ï¼‰</p><p>è¯¥å­—æ®µå¯é€‰ã€‚CORSè¯·æ±‚æ—¶ï¼Œ<code>XMLHttpRequest</code>å¯¹è±¡çš„<code>getResponseHeader()</code>æ–¹æ³•åªèƒ½æ‹¿åˆ°6ä¸ªåŸºæœ¬å­—æ®µï¼š<code>Cache-Control</code>ã€<code>Content-Language</code>ã€<code>Content-Type</code>ã€<code>Expires</code>ã€<code>Last-Modified</code>ã€<code>Pragma</code>ã€‚å¦‚æœæƒ³æ‹¿åˆ°å…¶ä»–å­—æ®µï¼Œå°±å¿…é¡»åœ¨<code>Access-Control-Expose-Headers</code>é‡Œé¢æŒ‡å®šã€‚ä¸Šé¢çš„ä¾‹å­æŒ‡å®šï¼Œ<code>getResponseHeader(&#39;FooBar&#39;)</code>å¯ä»¥è¿”å›<code>FooBar</code>å­—æ®µçš„å€¼ã€‚</p></li></ol></li></ol><h3 id="TIPS"><a href="#TIPS" class="headerlink" title="TIPS"></a>TIPS</h3><ul><li><p><strong>Qï¼šstateReadyå’Œstatusæœ‰ä»€ä¹ˆåŒºåˆ«</strong>ï¼š</p><p>Aï¼šstateReadyç”¨æ¥æŒ‡ç¤ºXHRè¯·æ±‚çš„<em>çŠ¶æ€</em>ï¼ˆæ¯”å¦‚è¯·æ±‚è¿˜æ²¡æœ‰å‘é€ï¼ˆ0ï¼‰ï¼Œ è¯·æ±‚å®Œæˆå¹¶ä¸”å·²æ”¶åˆ°responseï¼ˆ4ï¼‰ï¼‰ï¼ŒstateReadyæ˜¯ç”±å®¢æˆ·ç«¯è¿›è¡Œåˆ¤æ–­çš„ã€‚è€Œstatusç”¨æ¥æŒ‡ç¤ºå¯¹æœåŠ¡å™¨çš„è¯·æ±‚æ˜¯å¦<em>æˆåŠŸ</em>ï¼Œç”±æœåŠ¡å™¨å†³å®šè¿”å›å€¼ã€‚æ‰€ä»¥åœ¨è¿›è¡Œonreadystatechangeæ—¶ï¼Œéœ€è¦å…ˆè¿›è¡Œåˆ¤æ–­readystateç¡®å®šæœ¬åœ°çš„è¯·æ±‚å·²å®Œæˆï¼Œå†é€šè¿‡statuså»åˆ¤æ–­æœåŠ¡å™¨å¯¹è¯·æ±‚çš„å“åº”ã€‚</p></li><li><p><strong>Qï¼šä¸ºä»€ä¹ˆä½¿ç”¨Postmanå¯ä»¥ç›´æ¥è·¨åŸŸè¯·æ±‚ï¼Œè€Œä¸”æµè§ˆå™¨å¿…é¡»é€šè¿‡JSONPæ‰èƒ½è¿›è¡Œè·¨åŸŸï¼Ÿ</strong></p><p>Aï¼šQuoted from <a href="http://developer.chrome.com/extensions/xhr.html" target="_blank" rel="external"><em>Cross-Origin XMLHttpRequest</em></a>:</p><blockquote><p>Regular web pages can use the XMLHttpRequest object to send and receive data from remote servers, but theyâ€™re limited by the same origin policy. Extensions arenâ€™t so limited. An extension can talk to remote servers outside of its origin, as long as it first requests cross-origin permissions.</p></blockquote></li></ul><p>  æ™®é€šçš„ç½‘é¡µå¯ä»¥ç”¨ä½¿ç”¨XHRå’Œè¿œç¨‹æœåŠ¡å™¨å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œå¯æ˜¯ä»–ä»¬éœ€è¦éµå¾ªåŒæºç­–ç•¥ã€‚ä½†æ˜¯æ‹“å±•å·¥å…·ä¸å—é™åˆ¶ï¼Œä»–ä»¬åªè¦å…ˆç”³è¯·äº†è·¨åŸŸè®¸å¯ï¼Œå°±å¯ä»¥ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;AJAXè·¨åŸŸè¯·æ±‚åˆ†æ&quot;&gt;&lt;a href=&quot;#AJAXè·¨åŸŸè¯·æ±‚åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;AJAXè·¨åŸŸè¯·æ±‚åˆ†æ&quot;&gt;&lt;/a&gt;AJAXè·¨åŸŸè¯·æ±‚åˆ†æ&lt;/h2&gt;&lt;h3 id=&quot;å¼•å‡º&quot;&gt;&lt;a href=&quot;#å¼•å‡º&quot; class=&quot;headerli
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://fi3ework.github.io/tags/JavaScript/"/>
    
      <category term="Ajax" scheme="https://fi3ework.github.io/tags/Ajax/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºDecoratorçš„Reacté«˜é˜¶ç»„ä»¶çš„æ€è·¯åˆ†æä¸å®ç°</title>
    <link href="https://fi3ework.github.io/2015-11-08/HOC/"/>
    <id>https://fi3ework.github.io/2015-11-08/HOC/</id>
    <published>2015-11-08T07:14:25.000Z</published>
    <updated>2017-12-09T11:28:19.190Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨<a href="https://book.douban.com/subject/26918038/" target="_blank" rel="external">æ·±å…¥react æŠ€æœ¯æ ˆ</a>ä¸€ä¹¦ä¸­ï¼Œæåˆ°äº†åŸºäºDecoratorçš„HOCã€‚è€Œä¸æ˜¯ç›´æ¥é€šè¿‡çˆ¶ç»„ä»¶æ¥é€å±‚ä¼ é€’propsï¼Œå› ä¸ºå½“ä¸šåŠ¡é€»è¾‘è¶Šæ¥è¶Šå¤æ‚çš„æ—¶å€™ï¼Œpropsçš„ä¼ é€’å’Œç»´æŠ¤ä¹Ÿå°†å˜å¾—å›°éš¾ä¸”å†—ä½™ã€‚</p><p>ä¹¦é‡Œå¯¹åŸºäºDecoratorçš„HOCæ²¡æœ‰ç»™å‡ºå®Œæ•´çš„å®ç°ï¼Œåœ¨è¿™é‡Œå®ç°å¹¶è®°å½•ä¸€ä¸‹å®ç°çš„æ€è·¯ã€‚</p><p>æ•´ä¸ªå®ç°çš„ä»£ç æ”¾åˆ°äº†<a href="https://github.com/fi3ework/React-decorator-HOC" target="_blank" rel="external">æˆ‘çš„Github</a>ä¸Šï¼Œæ˜¯ç”¨æ¥è·å–è±†ç“£çš„ç”µå½±åˆ—è¡¨çš„ï¼Œ<code>npm start</code>å³å¯å¼€ç®±ã€‚</p><h2 id="æ•´ä½“æ€è·¯"><a href="#æ•´ä½“æ€è·¯" class="headerlink" title="æ•´ä½“æ€è·¯"></a>æ•´ä½“æ€è·¯</h2><p><img src="https://pic1.zhimg.com/50/962d2398bbd565e50f0927688f217db8_hd.jpg" alt="img"></p><p>ä¹¦é‡Œæè¿°çš„æ•´ä½“æ€è·¯ï¼Œå…ˆå°†æ•´ä¸ªç»„ä»¶ï¼ŒæŒ‰ç…§<strong>viewé€»è¾‘</strong>æŠ½è±¡ä¸ºäº’ä¸é‡å çš„æœ€å°çš„åŸå­ç»„ä»¶ï¼Œä½¿ç»„ä»¶é—´ç»„åˆæ›´è‡ªç”±ã€‚åœ¨è¿™é‡Œæœ€å°çš„ç»„ä»¶å°±æ˜¯<code>SearchInput</code> <code>SelectInput</code> <code>List</code>ã€‚åŸå­ç»„ä»¶ä¸€å®šæ˜¯<strong>çº¯ç²¹çš„ã€æœ¨å¶å¼çš„ç»„ä»¶</strong>ï¼Œå¦‚æœä»–ä»¬è‡ªèº«å¸¦æœ‰å¤æ‚çš„äº¤äº’/ä¸šåŠ¡é€»è¾‘ï¼Œé‚£ä¹ˆåœ¨ç»„åˆèµ·æ¥ä»¥åå¯æƒ³éœ€è¦ä¿®æ”¹å¤šå°‘ä¸ªåŸå­ç»„ä»¶ï¼Œä¹Ÿå°±å¤±å»äº†ç›¸å¯¹é…ç½®å¼çš„ä¼˜åŠ¿ã€‚</p><h2 id="ç»„ä»¶å®ç°"><a href="#ç»„ä»¶å®ç°" class="headerlink" title="ç»„ä»¶å®ç°"></a>ç»„ä»¶å®ç°</h2><h3 id="åŸå­ç»„ä»¶"><a href="#åŸå­ç»„ä»¶" class="headerlink" title="åŸå­ç»„ä»¶"></a>åŸå­ç»„ä»¶</h3><p>è¿™æ˜¯å¯¹åŸä¹¦ä»£ç ç¨åŠ ä¿®æ”¹çš„SearchInputåŸå­ç»„ä»¶ï¼Œå› ä¸ºæ²¡åŠ Iconï¼Œæ‰€ä»¥æ”¹äº†ä¸€ä¸‹ï¼ˆé€ƒï¼‰ï¼Œæ•´ä½“æ€è·¯ä¸å˜ã€‚åŸå­ç»„ä»¶æ²¡ä»€ä¹ˆå¯è¯´çš„ï¼Œæœ¨å¶ç»„ä»¶å°±æ˜¯æ¥æ”¶propsæ¥å®ç°åŠŸèƒ½ï¼Œæ˜¯å¯¹viewå±‚é€»è¾‘çš„æŠ½è±¡ã€‚</p><p>éœ€è¦ä¸€æçš„æ˜¯<code>displayName</code>ï¼Œæ˜¯ç”¨æ¥ç¡®å®šç»„ä»¶çš„ã€èº«ä»½ã€çš„ï¼Œä¼šè¢«åŒ…è£¹å®ƒçš„ç»„åˆç»„ä»¶ç”¨åˆ°ï¼Œåé¢ä¼šæåˆ°ç»„åˆç»„ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">SearchInput</span> <span class="keyword">extends</span> <span class="title">PureComponent</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> displayName = <span class="string">'SearchInput'</span></div><div class="line"></div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">const</span> &#123; onSearch, placeholder &#125; = <span class="keyword">this</span>.props</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;p&gt;SearchSelect&lt;<span class="regexp">/p&gt;</span></div><div class="line"><span class="regexp">        &lt;div&gt;</span></div><div class="line"><span class="regexp">          &lt;Input</span></div><div class="line"><span class="regexp">            type="text"</span></div><div class="line"><span class="regexp">            placeholder=&#123;placeholder&#125;</span></div><div class="line"><span class="regexp">            onChange=&#123;onSearch&#125;</span></div><div class="line"><span class="regexp">          /</span>&gt;</div><div class="line">        &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">      &lt;/</span>div&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="Decoratorç»„ä»¶"><a href="#Decoratorç»„ä»¶" class="headerlink" title="Decoratorç»„ä»¶"></a>Decoratorç»„ä»¶</h3><p>å…ˆæ”¾ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> searchDecorator = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> &#123;</div><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">SearchDecorator</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span>(props) &#123;</div><div class="line">      <span class="keyword">super</span>(props)</div><div class="line">      <span class="keyword">this</span>.handleSearch = <span class="keyword">this</span>.handleSearch.bind(<span class="keyword">this</span>)</div><div class="line">      <span class="keyword">this</span>.state = &#123;</div><div class="line">        keyword: <span class="string">''</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    handleSearch(e) &#123;</div><div class="line">      <span class="keyword">this</span>.setState(&#123;</div><div class="line">        keyword: e.target.value</div><div class="line">      &#125;)</div><div class="line">      <span class="keyword">this</span>.props.onSearch(e)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    render() &#123;</div><div class="line">      <span class="keyword">const</span> &#123; keyword &#125; = <span class="keyword">this</span>.state</div><div class="line"></div><div class="line">      <span class="keyword">return</span> (</div><div class="line">        &lt;WrappedComponent</div><div class="line">          &#123;...this.props&#125;</div><div class="line">          data=&#123;<span class="keyword">this</span>.props.data&#125;</div><div class="line">          keyword=&#123;keyword&#125;</div><div class="line">          onSearch=&#123;<span class="keyword">this</span>.handleSearch&#125;</div><div class="line">        /&gt;</div><div class="line">      )</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure><p>Decoratorçš„ä½œç”¨å°±æ˜¯å°†ä¸šåŠ¡/äº¤äº’é€»è¾‘æŠ½è±¡å‡ºæ¥è¿›è¡Œäº†å¤„ç†ï¼Œviewçš„é€»è¾‘è¿˜æ˜¯äº¤ç”±åŸå­ç»„ä»¶æ¥å®ç°ï¼Œå¯ä»¥çœ‹åˆ°æœ€åçš„<code>render</code>æ¸²æŸ“çš„è¿˜æ˜¯<code>wrappedComponent</code>ï¼Œåªä¸è¿‡æ˜¯åœ¨ç»è¿‡Decoratorä¹‹åå¤šäº†å‡ ä¸ªpropsï¼Œè¿™äº›propsçš„ä¸­æœ‰é’©å­å‡½æ•°ï¼Œæœ‰è¦ä¼ é€’ç»™åŸå­ç»„ä»¶çš„å‚æ•°ã€‚</p><p>è¿™æ ·ï¼Œè§†å›¾é€»è¾‘å°±ç”±viewå±‚æŠ½è±¡ï¼Œäº¤äº’/ä¸šåŠ¡é€»è¾‘ç”±Decoratoræ¥æŠ½è±¡ã€‚</p><h2 id="ç»„åˆç»„ä»¶"><a href="#ç»„åˆç»„ä»¶" class="headerlink" title="ç»„åˆç»„ä»¶"></a>ç»„åˆç»„ä»¶</h2><p>å…ˆä¸Šä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Selector</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div&gt;</div><div class="line">        &#123;</div><div class="line">          <span class="keyword">this</span>.props.children.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</div><div class="line">            <span class="comment">// SelectInput</span></div><div class="line">            <span class="keyword">if</span> (item.type.displayName === <span class="string">'SelectInput'</span>) &#123;</div><div class="line">              ...</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// SearchInput</span></div><div class="line">            <span class="keyword">if</span> (item.type.displayName === <span class="string">'SearchInput'</span>) &#123;</div><div class="line">              <span class="keyword">return</span> React.cloneElement(item,</div><div class="line">                &#123;</div><div class="line">                  key: <span class="string">'searchInput'</span>,</div><div class="line">                  onSearch: <span class="keyword">this</span>.props.onSearch,</div><div class="line">                  placeholder: <span class="keyword">this</span>.props.searchPlaceholder</div><div class="line">                &#125;</div><div class="line">              )</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// List</span></div><div class="line">            <span class="keyword">if</span> (item.type.displayName === <span class="string">'List'</span>) &#123;</div><div class="line">              ...</div><div class="line">          &#125;)</div><div class="line">        &#125;</div><div class="line">      &lt;<span class="regexp">/div&gt;</span></div><div class="line"><span class="regexp">    )</span></div><div class="line"><span class="regexp">  &#125;</span></div><div class="line"><span class="regexp">&#125;</span></div></pre></td></tr></table></figure><p>ç»„åˆç»„ä»¶çš„childrenä¸ºæ ¹æ®ä¸åŒä¸šåŠ¡éœ€è¦åŒ…è£¹èµ·æ¥çš„åŸå­ç»„ä»¶ï¼Œç»„åˆç»„ä»¶çš„é€»è¾‘å¤„ç†åŠŸèƒ½æ¥è‡ªäºDecoratorï¼Œå„ç§Decoratorçš„é’©å­å‡½æ•°æˆ–è€…å‚æ•°ä½œä¸ºpropsä¼ é€’ç»™äº†Selectorï¼ŒSelectorå†ç”¨å®ƒä»¬å»å®ŒæˆåŸå­ç»„ä»¶ä¹‹é—´çš„äº¤äº’ã€‚ç»„åˆç»„ä»¶é€šè¿‡ä¹‹å‰æåˆ°çš„<code>displayName</code>ä¸ºä¸åŒçš„åŸå­ç»„ä»¶åˆ†é…propså¹¶æ ¹æ®ä¸šåŠ¡éœ€è¦è¿›è¡Œç»„ä»¶é—´é€»è¾‘äº¤äº’çš„è°ƒæ•´ã€‚</p><blockquote><p>ä¸€ä¸ª Decorator åªåšæœ€ç®€å•çš„é€»è¾‘ï¼Œåªæ˜¯ç»™ç»„ä»¶å¢åŠ ä¸€ä¸ªåŸå­çš„æ™ºèƒ½ç‰¹æ€§ã€‚ä¸šåŠ¡ç»„ä»¶é€šè¿‡ç»„ç»‡å’Œæ‹¼æ¥ Decorator æ¥å®ç°åŠŸèƒ½ï¼Œè€Œä¸æ˜¯æ”¹å˜ Decorator æœ¬èº«çš„é€»è¾‘ã€‚</p></blockquote><p>å½“æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘å˜å¾—å¤æ‚çš„æ—¶å€™ï¼Œä¸è¦å»å¢åŠ Decoratorçš„å¤æ‚åº¦ï¼Œè€Œæ˜¯å»æ‹¼æ¥å¤šä¸ªDecoratorå†é€šè¿‡ç»„åˆç»„ä»¶å»å¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œè¿™æ ·èƒ½ä¿è¯Decoratorçš„å¯å¤ç”¨æ€§ã€‚</p><h2 id="ä¸šåŠ¡ç»„ä»¶"><a href="#ä¸šåŠ¡ç»„ä»¶" class="headerlink" title="ä¸šåŠ¡ç»„ä»¶"></a>ä¸šåŠ¡ç»„ä»¶</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> FinalSelector = compose(asyncSelectDecorator, selectedItemDecorator, searchDecorator)(Selector)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SearchSelect</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;FinalSelector &#123;...this.props&#125;&gt;</div><div class="line">        &lt;SelectInput /&gt;</div><div class="line">        &lt;SearchInput /&gt;</div><div class="line">        &lt;List /&gt;</div><div class="line">      &lt;<span class="regexp">/FinalSelector&gt;</span></div><div class="line"><span class="regexp">    )</span></div><div class="line"><span class="regexp">  &#125;</span></div><div class="line"><span class="regexp">&#125;</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">class App extends Component &#123;</span></div><div class="line"><span class="regexp">  render() &#123;</span></div><div class="line"><span class="regexp">    return (</span></div><div class="line"><span class="regexp">      &lt;SearchSelect</span></div><div class="line"><span class="regexp">        searchPlaceholder=&#123;'è¯·æœç´¢ç”µå½±'&#125;</span></div><div class="line"><span class="regexp">        onSearch=&#123;(e) =&gt; &#123; console.log(`è‡ªå®šä¹‰onSearch: $&#123;e.target.value&#125;`) &#125;&#125;</span></div><div class="line"><span class="regexp">        onClick=&#123;(text) =&gt; &#123; console.log(`è‡ªå®šä¹‰onClick: $&#123;text&#125;`) &#125;&#125;</span></div><div class="line"><span class="regexp">        url="/</span>v2/movie/in_theaters<span class="string">"</span></div><div class="line"><span class="string">      /&gt;</span></div><div class="line"><span class="string">    )</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">&#125;</span></div></pre></td></tr></table></figure><p>é€šè¿‡<code>compose</code>èµ‹äºˆç»„åˆç»„ä»¶ä¸åŒçš„é€»è¾‘å¤„ç†åŠŸèƒ½ï¼Œç„¶åæ ¹æ®ä¸šåŠ¡éœ€è¦è®©<code>compose</code>åçš„ç»„åˆç»„ä»¶åŒ…å«åŸå­ç»„ä»¶ï¼Œæœ€åç»™ä»æœ€å¤–å±‚ä¼ é€’å‚æ•°å°±å®Œæˆäº†ã€‚</p><h2 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h2><p>åœ¨å®é™…çš„åœºæ™¯ä¸­ä¹Ÿä¸èƒ½æ»¥ç”¨HOCï¼ŒåŸºäºDecoratorçš„HOCä¸€èˆ¬æ˜¯ç”¨æ¥å¤„ç†åæ•°æ®é€»è¾‘çš„éƒ¨åˆ†ï¼Œè€ŒDOMç›¸å…³çš„ä¸œè¥¿å°±ç›´æ¥ç®€å•ç²—æš´çš„ç”¨çˆ¶ç»„ä»¶å°±å¥½äº†ã€‚</p><blockquote><p>å¯¹æ¯” HOC èŒƒå¼ <strong>compose(render)(state) </strong>ä¸çˆ¶ç»„ä»¶ï¼ˆParent Componentï¼‰çš„èŒƒå¼ <strong>render(render(state))</strong>ï¼Œå¦‚æœå®Œå…¨åˆ©ç”¨ HOC æ¥å®ç° React çš„ implementï¼Œå°†æ“ä½œä¸ view åˆ†ç¦»ï¼Œä¹Ÿæœªå°ä¸å¯ï¼Œä½†å´ä¸ä¼˜é›…ã€‚HOC æœ¬è´¨ä¸Šæ˜¯ç»Ÿä¸€åŠŸèƒ½æŠ½è±¡ï¼Œå¼ºè°ƒé€»è¾‘ä¸ UI åˆ†ç¦»ã€‚ä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œå‰ç«¯æ— æ³•é€ƒç¦» DOM ï¼Œè€Œé€»è¾‘ä¸ DOM çš„ç›¸å…³æ€§ä¸»è¦å‘ˆç° 3 ç§å…³è”å½¢å¼ï¼š</p><ul><li>ä¸ DOM ç›¸å…³ï¼Œå»ºè®®ä½¿ç”¨çˆ¶ç»„ä»¶ï¼Œç±»ä¼¼äºåŸç”Ÿ HTML ç¼–å†™</li><li>ä¸ DOM ä¸ç›¸å…³ï¼Œå¦‚æ ¡éªŒã€æƒé™ã€è¯·æ±‚å‘é€ã€æ•°æ®è½¬æ¢è¿™ç±»ï¼Œé€šè¿‡æ•°æ®å˜åŒ–é—´æ¥æ§åˆ¶ DOMï¼Œå¯ä»¥ä½¿ç”¨ HOC æŠ½è±¡</li><li>äº¤å‰çš„éƒ¨åˆ†ï¼ŒDOM ç›¸å…³ï¼Œä½†å¯ä»¥åšåˆ°å®Œå…¨å†…èšï¼Œå³è¿™äº› DOM ä¸ä¼šå’Œå¤–éƒ¨æœ‰å…³è”ï¼Œå‡å¯</li></ul></blockquote><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://book.douban.com/subject/26918038/" target="_blank" rel="external">æ·±å…¥react æŠ€æœ¯æ ˆ</a></li><li><a href="https://zhuanlan.zhihu.com/p/22054582" target="_blank" rel="external">åŸºäºDecoratorçš„ç»„ä»¶æ‰©å±•å®è·µ</a></li><li><a href="https://zhuanlan.zhihu.com/p/27434557" target="_blank" rel="external">ç²¾è¯» React é«˜é˜¶ç»„ä»¶</a></li><li><a href="https://zhuanlan.zhihu.com/p/24776678" target="_blank" rel="external">æ·±å…¥ç†è§£ React é«˜é˜¶ç»„ä»¶</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨&lt;a href=&quot;https://book.douban.com/subject/26918038/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;æ·±å…¥react æŠ€æœ¯æ ˆ&lt;/a&gt;ä¸€ä¹¦ä¸­ï¼Œæåˆ°äº†åŸºäºDecoratorçš„HOCã€‚è€Œä¸æ˜¯ç›´æ¥é€šè¿‡çˆ¶ç»„ä»¶æ¥é€å±‚ä¼ é€’
      
    
    </summary>
    
    
      <category term="React" scheme="https://fi3ework.github.io/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>Reduxçš„å·¥ä½œæµç¨‹æ•™ç¨‹</title>
    <link href="https://fi3ework.github.io/2015-10-27/redux%20to%20react-redux/"/>
    <id>https://fi3ework.github.io/2015-10-27/redux to react-redux/</id>
    <published>2015-10-27T15:22:41.000Z</published>
    <updated>2017-12-09T11:28:23.511Z</updated>
    
    <content type="html"><![CDATA[<h3 id="reduxçš„å·¥ä½œæµç¨‹"><a href="#reduxçš„å·¥ä½œæµç¨‹" class="headerlink" title="reduxçš„å·¥ä½œæµç¨‹"></a>reduxçš„å·¥ä½œæµç¨‹</h3><ol><li><p>ä½¿ç”¨<code>createStore</code>åˆ›å»ºä¸€ä¸ªç®¡ç†æ•°æ®çš„storeã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> store = createStore(reducer)</div></pre></td></tr></table></figure><p>storeçš„å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">const</span> createStore = <span class="function">(<span class="params">reducer</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">let</span> state;</div><div class="line">  <span class="keyword">let</span> listeners = [];</div><div class="line"></div><div class="line">  <span class="keyword">const</span> getState = <span class="function"><span class="params">()</span> =&gt;</span> state;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> dispatch = <span class="function">(<span class="params">action</span>) =&gt;</span> &#123;</div><div class="line">    state = reducer(state, action);</div><div class="line">    listeners.forEach(<span class="function"><span class="params">listener</span> =&gt;</span> listener());</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="keyword">const</span> subscribe = <span class="function">(<span class="params">listener</span>) =&gt;</span> &#123;</div><div class="line">    listeners.push(listener);</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      listeners = listeners.filter(<span class="function"><span class="params">l</span> =&gt;</span> l !== listener);</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">// åœ¨åˆ›å»ºstoreçš„å®ä¾‹æ—¶å…ˆæ‰§è¡Œä¸€æ¬¡ï¼Œå°†reducerçš„é»˜è®¤å‚æ•°èµ‹ç»™state</span></div><div class="line">  dispatch(&#123;&#125;);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> &#123; getState, dispatch, subscribe &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><p>storeå°±å…·æœ‰ä»¥ä¸‹åŠŸèƒ½äº†ï¼š</p><ul><li>store.subscribe() - å‘storeè®¾ç½®ç›‘å¬å‡½æ•°ï¼Œä¸€æ—¦ State å‘ç”Ÿå˜åŒ–ï¼Œå°±è‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</li><li>store.getState() - é€šè¿‡é—­åŒ…è®¿é—®çš„çœŸå®çš„stateè¢«éšè—åœ¨storeä¸­ï¼Œé€šè¿‡<code>store.getState()</code>æ¥è·å–Stateã€‚</li><li>store.dispatch() - æ¥å—<code>action</code>æ¥æ”¹å˜Stateï¼Œå¹¶æ‰§è¡Œæ‰€æœ‰ç›‘å¬çš„å‡½æ•°ã€‚</li><li>store.unsubscribe() - ä¸å†ç›‘å¬å¯¹åº”çš„å‡½æ•°ã€‚</li></ul></li><li><p>ç”¨æˆ·é€šè¿‡UIçš„è§¦å‘storeçš„<code>dispatch</code>å‡½æ•°ï¼Œåœ¨è¿™ä¸€æ­¥ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨<code>createStore</code>ä¸­ä½œä¸ºå‚æ•°çš„<code>reducer</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">store.dispath(action)</div></pre></td></tr></table></figure></li><li><p>storeä¼šè‡ªåŠ¨è°ƒç”¨ä½¿ç”¨<code>createStore</code>å‡½æ•°æ—¶ä¼ å…¥çš„reducerï¼Œå°†<code>action</code>ä½œä¸ºå‚æ•°ä¼ ç»™reducerï¼Œreducerä¼šè¿”å›æ–°çš„Stateï¼Œå¹¶ä¼šé¡ºä¾¿æ‰§è¡Œæ‰€æœ‰ç›‘å¬çš„å‡½æ•°ã€‚</p></li></ol><ol><li><p>éƒ¨åˆ†æ—¶å€™åœ¨å¤šä¸ªç»„ä»¶ä¸­å­˜åœ¨å¤šä¸ªreducerï¼Œä½†æ˜¯storeåªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥éœ€è¦å°†æ‰€æœ‰reduceråˆå¹¶èµ·æ¥å˜æˆä¸€ä¸ªreducerç”¨æ¥<code>createStore</code>ç»™storeæ§åˆ¶ã€‚ä½¿ç”¨çš„æ˜¯<code>combineReducers</code>è¿™ä¸ªæ–¹æ³•ã€‚</p><p>å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> combineReducers = <span class="function"><span class="params">reducers</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">state = &#123;&#125;, action</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.keys(reducers).reduce(</div><div class="line">      (nextState, key) =&gt; &#123;</div><div class="line">        nextState[key] = reducers[key](state[key], action);</div><div class="line">        <span class="keyword">return</span> nextState;</div><div class="line">      &#125;,</div><div class="line">      &#123;&#125; </div><div class="line">    );</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><p>ä¼ å…¥ä¸€ä¸ª<code>action</code>ä¼šä¾æ¬¡æ‰§è¡Œå„ä¸ªè¢«åˆå¹¶çš„reducerï¼Œæœ€åå°†å„ä¸ªreducerçš„ç»“æœç»„åˆæˆä¸€ä¸ªå¯¹è±¡è¾“å‡ºï¼Œå„ä¸ªreducerçš„é”®åå°±æ˜¯ä¼ å…¥çš„<code>reducers</code>ä¸­å¯¹åº”çš„keyã€‚</p><p>æœ€åå†ç”¨ä¸€å¼ é˜®è€å¸ˆåšå®¢ä¸­çš„æµç¨‹å›¾è¡¨ç¤º</p><p><img src="http://www.ruanyifeng.com/blogimg/asset/2016/bg2016091802.jpg" alt="redux-process"></p><p>â€‹</p></li></ol><h3 id="ä»reduxåˆ°react-redux"><a href="#ä»reduxåˆ°react-redux" class="headerlink" title="ä»reduxåˆ°react-redux"></a>ä»reduxåˆ°react-redux</h3><p>åœ¨reactä¸­ä½¿ç”¨react-reduxèƒ½å¤Ÿæ›´æ–¹ä¾¿çš„ç®¡ç†çŠ¶æ€ã€‚</p><blockquote><p>React-Redux è§„å®šï¼Œæ‰€æœ‰çš„ UI ç»„ä»¶éƒ½ç”±ç”¨æˆ·æä¾›ï¼Œå®¹å™¨ç»„ä»¶åˆ™æ˜¯ç”± React-Redux è‡ªåŠ¨ç”Ÿæˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·è´Ÿè´£è§†è§‰å±‚ï¼ŒçŠ¶æ€ç®¡ç†åˆ™æ˜¯å…¨éƒ¨äº¤ç»™å®ƒã€‚</p></blockquote><p>ç›¸æ¯”reduxï¼Œreact-reduxä¸»è¦å¤šäº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>connect()</code> - è´Ÿè´£å°†ç”¨æˆ·å†™çš„UIç»„ä»¶å’Œreact-reduxè‡ªåŠ¨ç”Ÿæˆçš„å®¹å™¨ç»„ä»¶è¿æ¥èµ·æ¥ã€‚</li><li><code>mapStateToProps()</code> - å°†ä½œä¸ºreact-reduxè‡ªåŠ¨ç”Ÿæˆçš„å®¹å™¨ç»„ä»¶çš„å±æ€§ä¼ é€’ç»™ç”¨æˆ·åˆ›å»ºçš„UIç»„ä»¶ï¼Œå¦‚æœè¿™äº›å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œä¼šå¼•èµ·UIç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚å¦‚æœä¸ç»™<code>connect</code>ä¼ é€’<code>mapStateToProps</code>ï¼Œé‚£ä¹ˆStoreçš„æ›´æ–°å°†ä¸ä¼šå¼•èµ·UIç»„ä»¶çš„æ›´æ–°ã€‚</li><li><code>mapDispatchToProps()</code> - ç”¨æ¥å»ºç«‹UIç»„ä»¶çš„å‚æ•°åˆ°<code>store.dispatch</code>æ–¹æ³•çš„æ˜ å°„ã€‚</li><li><code>&lt;Provider&gt;</code>ç»„ä»¶</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;reduxçš„å·¥ä½œæµç¨‹&quot;&gt;&lt;a href=&quot;#reduxçš„å·¥ä½œæµç¨‹&quot; class=&quot;headerlink&quot; title=&quot;reduxçš„å·¥ä½œæµç¨‹&quot;&gt;&lt;/a&gt;reduxçš„å·¥ä½œæµç¨‹&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ä½¿ç”¨&lt;code&gt;createStore&lt;/code&gt;åˆ›å»ºä¸€
      
    
    </summary>
    
    
      <category term="React" scheme="https://fi3ework.github.io/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨github+Hexoæ­å»ºä¸ªäººåšå®¢</title>
    <link href="https://fi3ework.github.io/2013-02-05/%E4%BD%BF%E7%94%A8githubHexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>https://fi3ework.github.io/2013-02-05/ä½¿ç”¨githubHexoæ­å»ºä¸ªäººåšå®¢/</id>
    <published>2013-02-05T14:55:21.000Z</published>
    <updated>2017-12-09T11:28:33.385Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h3><p>ä¹‹å‰ä¸€ç›´ä½¿ç”¨CSDN Blogæ¥å†™åšå®¢ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªé¢œæ§æ¥è¯´CSDNçš„ç•Œé¢å®åœ¨æ˜¯æœ‰ç‚¹ä¸‘é™‹ğŸ˜ï¼Œå°±è½¬å¤´äº†GitHub Pagesï¼Œé…åˆHexoæ­å»ºå®Œæˆã€‚åœ¨è¿™ä¸ªåšå®¢çš„ç¬¬ä¸€ç¯‡åšæ–‡å°±è®°å½•ä¸€ä¸‹è¿™ä¸ªåšå®¢æ˜¯å¦‚ä½•æ­å»ºæˆçš„å¥½äº†ã€‚</p><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>æœ¬åšå®¢æ­å»ºçš„æ–¹æ³•å‚è€ƒ <a href="http://crazymilk.github.io/2015/12/28/GitHub-Pages-Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/#more" target="_blank" rel="external">GitHub Pages + Hexoæ­å»ºåšå®¢</a>ï¼Œåœ¨è¿™é‡Œå¯¹åŸä½œè€…è¡¨ç¤ºæ„Ÿè°¢ã€‚<br>åŸä½œè€…çš„æ–¹æ¡ˆæœ‰ä¸€ç‚¹æ˜¯å¾ˆå¥½çš„ï¼Œå°±æ˜¯åœ¨åŸä»“åº“<code>username.github.io.git</code>ä¸­å†å¼€ä¸€æ¡<code>hexo</code>åˆ†æ”¯æ¥ç®¡ç†hexoçš„éƒ¨ç½²ï¼Œè¿™æ ·å³ä½¿ä¸åœ¨å¸¸ç”¨çš„ç”µè„‘èº«è¾¹ä¹Ÿå¯ä»¥ç®¡ç†åšå®¢ï¼Œè€Œä¸”åœ¨<code>hexo init</code>ä¹‹åè·¯å¾„ä¸‹ä¼šè‡ªåŠ¨ç”Ÿæˆ.gitignoreæ–‡ä»¶ï¼Œå…¶æœ¬æ„ä¹Ÿå°±æ˜¯é¼“åŠ±æˆ‘ä»¬ä½¿ç”¨GitHubæ¥è¿›è¡Œç®¡ç†ã€‚<br>ä½†åŸä½œè€…çš„æµç¨‹ä¸­æœ‰ä¸€äº›é—®é¢˜ï¼Œå…ˆè¿›è¡Œ<code>git clone</code>å†è¿›è¡Œ<code>hexo init</code>çš„è¯ï¼Œ<code>hexo init</code>ä¼šå°†æ–‡ä»¶å¤¹æ¸…é›¶ï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹æµç¨‹ã€‚<br>æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>åœ¨GitHubä¸­æ³¨å†Œåä¸º<code>username.github.io</code>çš„ä»“åº“ï¼Œusernameä¸ºè´¦å·åã€‚</li><li>åœ¨è¿œç¨‹ä»“åº“æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚<code>Hexo</code>ã€‚</li><li>æŒ‰ç…§ä¸Šæ–‡é“¾æ¥ä¸­çš„æ–¹æ³•ä¾æ¬¡æ‰§è¡Œ<code>hexo init``hexo install</code>ç­‰æ“ä½œï¼Œå®Œæˆåä½¿ç”¨<code>hexo s</code>é¢„è§ˆä¸€ä¸‹ã€‚</li><li>å°†æœ¬åœ°çš„ä»“åº“pushåˆ°è¿œç¨‹ä»“åº“ä¸­<code>Hexo</code>ä¸­ï¼Œåœ¨_config.ymlä¸­è®¾ç½®<code>branch: master</code>ï¼ŒHexoå·²ç»ä¸ºæˆ‘ä»¬è®¾ç½®å¥½äº†.gitignoreï¼Œå°†å¿½ç•¥publicæ–‡ä»¶å¤¹ï¼ˆpublicæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶ä¼špushåˆ°<code>master</code>ä¸­è¿›è¡Œå±•ç¤ºï¼‰å’Œä¸€äº›nodeåŒ…ã€‚</li></ol><p>åˆ°è¿™ä¸€æ­¥å°±å®Œæˆäº†ï¼Œ<code>Hexo</code>åˆ†æ”¯å°†ç®¡ç†æœ¬åœ°çš„é™¤ç”¨äºå‘å¸ƒçš„æ–‡ä»¶å’Œä¸€äº›åŒ…ä¹‹å¤–çš„æ–‡ä»¶ï¼Œ<code>master</code>ç”±Hexoç®¡ç†ï¼Œæ¯æ¬¡<code>Hexo deploy</code>å°†è‡ªåŠ¨pushåˆ°masterä¸Šï¼Œæ— éœ€æˆ‘ä»¬è‡ªå·±ç®¡ç†ã€‚ä»¥åå†™å®Œæ–‡ç« å<code>Hexo generate</code>,<code>Hexo deploy</code>ï¼Œç„¶åå†å¯¹<code>Hexo</code>åˆ†æ”¯pushå³å¯ã€‚</p><h3 id="å½©è›‹ğŸ‰"><a href="#å½©è›‹ğŸ‰" class="headerlink" title="å½©è›‹ğŸ‰"></a>å½©è›‹ğŸ‰</h3><p>åˆ†äº«ä¸€äº›Hexoä¸Markdownçš„ç›¸å…³ç½‘å€ã€‚</p><ul><li><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">Hexoå®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://www.zhihu.com/question/24422335" target="_blank" rel="external">æœ‰å“ªäº›å¥½çœ‹çš„ Hexo ä¸»é¢˜ï¼Ÿ - çŸ¥ä¹</a></li><li><a href="https://xuanwo.org/2015/03/26/hexo-intor/" target="_blank" rel="external">å²ä¸Šæœ€è¯¦ç»†çš„Hexoåšå®¢æ­å»ºå›¾æ–‡æ•™ç¨‹</a></li><li><a href="http://www.kancloud.cn/wizardforcel/markdown-simple-world/97381" target="_blank" rel="external">Hexo å…¥é—¨æŒ‡å—ï¼ˆä¸€ï¼‰ - ç®€ä»‹ &amp; å‡†å¤‡</a></li><li><a href="http://ijiaober.github.io/categories/hexo/" target="_blank" rel="external">Hexoä½¿ç”¨æ”»ç•¥</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å¼•è¨€&quot;&gt;&lt;a href=&quot;#å¼•è¨€&quot; class=&quot;headerlink&quot; title=&quot;å¼•è¨€&quot;&gt;&lt;/a&gt;å¼•è¨€&lt;/h3&gt;&lt;p&gt;ä¹‹å‰ä¸€ç›´ä½¿ç”¨CSDN Blogæ¥å†™åšå®¢ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªé¢œæ§æ¥è¯´CSDNçš„ç•Œé¢å®åœ¨æ˜¯æœ‰ç‚¹ä¸‘é™‹ğŸ˜ï¼Œå°±è½¬å¤´äº†GitHub Pagesï¼Œé…åˆHexo
      
    
    </summary>
    
    
      <category term="Hexo" scheme="https://fi3ework.github.io/tags/Hexo/"/>
    
      <category term="ç¯å¢ƒé…ç½®" scheme="https://fi3ework.github.io/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
</feed>
